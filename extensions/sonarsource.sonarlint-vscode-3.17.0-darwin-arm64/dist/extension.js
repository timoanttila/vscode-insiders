(()=>{var e={5623:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,s,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(r=[],o=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((i=r.pop())<o&&(o=i,s=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[o,s])}return a}e.exports=t,t.range=r},2141:(e,t,n)=>{"use strict";const r=n(7147),i=n(9491),{inherits:o}=n(3837),s=n(7699),{EventEmitter:a}=n(2361),c=n(6420),u=n(1825),l=n(4397),d=n(8369);function h(e,t){!function(e,t){i("string"==typeof e,"from should be a string!"),i("string"==typeof t,"to should be a string!")}(e,t),process.nextTick((()=>{a.call(this),this._i=0,this._n=0,this._percent=0,this._percentPrev=0,this._from=e,this._to=t,this._parse(e,(e=>e?this._emitError(e):this._n?this._extract():this._emitError(Error("No entries found"))))}))}o(h,a),e.exports=function(e,t){return new h(e,t)},h.prototype._emitError=function(e){this._wasError=!0,this.emit("error",e)},h.prototype._extract=async function(){this.emit("start");const e=this._from,t=this._to,n=r.createReadStream(e),i=s(),o=c.extract(t);o.on("entry",(e=>{this._progress(),this.emit("file",e.name)})),o.on("finish",(()=>{this.emit("end")}));const[a]=await d(l,[n,i,o]);a&&this._emitError(a)},h.prototype._parse=async function(e,t){const n=r.createReadStream(e),i=s(),o=u.extract();o.on("entry",((e,t,n)=>{t.on("end",(()=>{++this._n,n()})),t.resume()})),o.on("finish",t);const[a]=await d(l,[n,i,o]);a&&t(a)},h.prototype._progress=function(){++this._i;const e=Math.round(100*this._i/this._n);this._percent=e,e!==this._percentPrev&&(this._percentPrev=e,this.emit("progress",e))}},7811:(e,t,n)=>{"use strict";const{Buffer:r}=n(4300),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){const r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},o.prototype._reverseOffset=function(e){const t=e[0];let n=e[1];for(let e=0;e<t;e++)n+=this._bufs[e].length;return n},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length)return e||r.alloc(0);if(i<=0)return e||r.alloc(0);const o=!!e,s=this._offset(n),a=i-n;let c=a,u=o&&t||0,l=s[1];if(0===n&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(c<=this._bufs[s[0]].length-l)return o?this._bufs[s[0]].copy(e,t,l,l+c):this._bufs[s[0]].slice(l,l+c);o||(e=r.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){const n=this._bufs[t].length-l;if(!(c>n)){this._bufs[t].copy(e,u,l,l+c),u+=n;break}this._bufs[t].copy(e,u,l),u+=n,c-=n,l&&(l=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},o.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;)if(t.length-s>=e.length){const n=t.indexOf(e,s);if(-1!==n)return this._reverseOffset([o,n]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(n=0){return this.slice(n,n+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},1422:(e,t,n)=>{"use strict";const r=n(9686).Duplex,i=n(4378),o=n(7811);function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),r.call(this)}i(s,r),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=o},8910:e=>{"use strict";const t={};function n(e,n,r){r||(r=Error);class i extends r{constructor(e,t,r){super(function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(e,t,r))}}i.prototype.name=r.name,i.prototype.code=e,t[e]=i}function r(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map((e=>String(e))),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){let i;var o;let s;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s=`The ${e} ${i} ${r(t,"type")}`;else{s=`The "${e}" ${"number"!=typeof c&&(c=0),c+".".length>(a=e).length||-1===a.indexOf(".",c)?"argument":"property"} ${i} ${r(t,"type")}`}var a,c;return s+=". Received type "+typeof n,s}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},8197:(e,t,n)=>{"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(5065),o=n(5718);n(4378)(u,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},9665:(e,t,n)=>{"use strict";e.exports=i;var r=n(7954);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(4378)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},5065:(e,t,n)=>{"use strict";var r;e.exports=R,R.ReadableState=C,n(2361).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},s=n(7549),a=n(4300).Buffer,c=global.Uint8Array||function(){},u=n(3837);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,h,f=n(9913),p=n(963),m=n(3492).getHighWaterMark,g=n(8910).q,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(4378)(R,s);var _=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function C(e,t,i){r=r||n(8197),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=n(2553).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function R(e){if(r=r||n(8197),!(this instanceof R))return new R(e);var t=this instanceof r;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function T(e,t,n,r,o){i("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}}(e,u);else if(o||(s=function(e,t){var n,r;return r=t,a.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t)),n}(u,t)),s)_(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r)u.endEmitted?_(e,new w):E(e,u,t,!0);else if(u.ended)_(e,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?E(e,u,t,!1):P(e,u)):E(e,u,t,!1)}else r||(u.reading=!1,P(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),P(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=p.destroy,R.prototype._undestroy=p.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),T(this,e,t,!1,n)},R.prototype.unshift=function(e){return T(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){l||(l=n(2553).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var k=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(O,e))}function O(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function P(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(i("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){i("readable nexttick read 0"),e.read(0)}function L(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(q,t,e))}function q(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function H(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}R.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):x(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},R.prototype._read=function(e){_(this,new b("_read()"))},R.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,i("pipe count=%d opts=%j",r.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?p:a;function a(){i("onend"),e.end()}r.endEmitted?process.nextTick(s):n.once("end",s),e.on("unpipe",(function t(o,s){i("onunpipe"),o===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",h),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",a),n.removeListener("end",p),n.removeListener("data",l),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",c);var u=!1;function l(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==H(r.pipes,e))&&!u&&(i("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function d(t){i("onerror",t),p(),e.removeListener("error",d),0===o(e,"error")&&_(e,t)}function h(){e.removeListener("finish",f),p()}function f(){i("onfinish"),e.removeListener("close",h),p()}function p(){i("unpipe"),n.unpipe(e)}return n.on("data",l),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",d),e.once("close",h),e.once("finish",f),e.emit("pipe",n),r.flowing||(i("pipe resume"),n.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=H(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},R.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,i("on readable",r.length,r.reading),r.length?x(this):r.reading||process.nextTick(F,this))),n},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(N,this),n},R.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(N,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){i("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(8058)),d(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=A,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===h&&(h=n(5544)),h(R,e,t)})},7954:(e,t,n)=>{"use strict";e.exports=l;var r=n(8910).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(8197);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(4378)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},5718:(e,t,n)=>{"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=R,R.WritableState=C;var o,s={deprecate:n(1159)},a=n(7549),c=n(4300).Buffer,u=global.Uint8Array||function(){},l=n(963),d=n(3492).getHighWaterMark,h=n(8910).q,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function S(){}function C(e,t,o){i=i||n(8197),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(O,e,t),e._writableState.errorEmitted=!0,_(e,r)):(i(r),e._writableState.errorEmitted=!0,_(e,r),O(e,t))}(e,n,r,t,i);else{var o=D(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),r?process.nextTick(E,e,n,o,i):E(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function R(e){var t=this instanceof(i=i||n(8197));if(!t&&!o.call(R,this))return new R(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function T(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),O(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,T(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,d=n.callback;if(T(e,t,!1,t.objectMode?1:u.length,u,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var n=D(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(4378)(R,a),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===R&&e&&e._writableState instanceof C}})):o=function(e){return e instanceof this},R.prototype.pipe=function(){_(this,new g)},R.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,c.isBuffer(r)||r instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=S),i.ending?function(e,t){var n=new b;_(e,n),process.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i;return null===n?i=new v:"string"==typeof n||t.objectMode||(i=new f("chunk",["string","Buffer"],n)),!i||(_(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,a,r,i,o);return u}(this,i,s,e,t,n)),o},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,n){n(new p("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=l.destroy,R.prototype._undestroy=l.undestroy,R.prototype._destroy=function(e,t){t(e)}},8058:(e,t,n)=>{"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(2562),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[s]=null,e[a]=null,t(f(n,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[c]?n(e[c]):t(f(void 0,!0))}))}));var n,r=this[l];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(f(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(f(i,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(y,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[l]=null,n[s]=null,n[a]=null,e(f(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[s]=null,n[a]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[l]=null,n[s]=null,n[a]=null,r(f(void 0,!0))),n[u]=!0})),e.on("readable",m.bind(null,n)),n}},9913:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(4300).Buffer,a=n(3837).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,r,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,s.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&o(t.prototype,n),e}()},963:e=>{"use strict";function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,e)):process.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(n,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(n,o),i(e)):process.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},2562:(e,t,n)=>{"use strict";var r=n(8910).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",l),!1!==n.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}},5544:(e,t,n)=>{"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(8910).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){var r;if(t&&"function"==typeof t.next)r=t;else if(t&&t[Symbol.asyncIterator])r=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);r=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},n)),u=!1;function l(){return d.apply(this,arguments)}function d(){return(d=i((function*(){try{var e=yield r.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},1468:(e,t,n)=>{"use strict";var r,i=n(8910).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(2562)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){r||(r=e),e&&s.forEach(u),o||(s.forEach(u),i(r))}))}));return t.reduce(l)}},3492:(e,t,n)=>{"use strict";var r=n(8910).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},7549:(e,t,n)=>{e.exports=n(2781)},9686:(e,t,n)=>{var r=n(2781);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(5065)).Stream=r||t,t.Readable=t,t.Writable=n(5718),t.Duplex=n(8197),t.Transform=n(7954),t.PassThrough=n(9665),t.finished=n(2562),t.pipeline=n(1468))},9463:(e,t,n)=>{var r=n(3837),i=n(1422),o=n(200),s=n(9686).Writable,a=n(9686).PassThrough,c=function(){},u=function(e){return(e&=511)&&512-e},l=function(e,t){this._parent=e,this.offset=t,a.call(this,{autoDestroy:!1})};r.inherits(l,a),l.prototype.destroy=function(e){this._parent.destroy(e)};var d=function(e){if(!(this instanceof d))return new d(e);s.call(this,e),e=e||{},this._offset=0,this._buffer=i(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,n=t._buffer,r=function(){t._continue()},a=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||r()},h=function(){t._stream=null;var e=u(t._header.size);e?t._parse(e,f):t._parse(512,v),t._locked||r()},f=function(){t._buffer.consume(u(t._header.size)),t._parse(512,v),r()},p=function(){var e=t._header.size;t._paxGlobal=o.decodePax(n.slice(0,e)),n.consume(e),h()},m=function(){var e=t._header.size;t._pax=o.decodePax(n.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),n.consume(e),h()},g=function(){var r=t._header.size;this._gnuLongPath=o.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),h()},y=function(){var r=t._header.size;this._gnuLongLinkPath=o.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),h()},v=function(){var i,s=t._offset;try{i=t._header=o.decode(n.slice(0,512),e.filenameEncoding,e.allowUnknownFormat)}catch(e){t.emit("error",e)}return n.consume(512),i?"gnu-long-path"===i.type?(t._parse(i.size,g),void r()):"gnu-long-link-path"===i.type?(t._parse(i.size,y),void r()):"pax-global-header"===i.type?(t._parse(i.size,p),void r()):"pax-header"===i.type?(t._parse(i.size,m),void r()):(t._gnuLongPath&&(i.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(i.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=i=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(i,t._pax),t._pax=null),t._locked=!0,i.size&&"directory"!==i.type?(t._stream=new l(t,s),t.emit("entry",i,t._stream,a),t._parse(i.size,h),void r()):(t._parse(512,v),void t.emit("entry",i,function(e,t){var n=new l(e,t);return n.end(),n}(t,s),a))):(t._parse(512,v),void r())};this._onheader=v,this._parse(512,v)};r.inherits(d,s),d.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},d.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},d.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,e):e()}},d.prototype._write=function(e,t,n){if(!this._destroyed){var r=this._stream,i=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,r?r.write(e,n):(i.append(e),n());this._cb=n,this._missing=0;var s=null;e.length>o&&(s=e.slice(o),e=e.slice(0,o)),r?r.end(e):i.append(e),this._overflow=s,this._onparse()}},d.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=d},200:(e,t)=>{var n=Buffer.alloc,r="0".charCodeAt(0),i=Buffer.from("ustar\0","binary"),o=Buffer.from("00","binary"),s=Buffer.from("ustar ","binary"),a=Buffer.from(" \0","binary"),c=parseInt("7777",8),u=function(e,t,n,r){for(;n<r;n++)if(e[n]===t)return n;return r},l=function(e){for(var t=256,n=0;n<148;n++)t+=e[n];for(var r=156;r<512;r++)t+=e[r];return t},d=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "},h=function(e,t,n){if(128&(e=e.slice(t,t+n))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var n=[],r=e.length-1;r>0;r--){var i=e[r];t?n.push(i):n.push(255-i)}var o=0,s=n.length;for(r=0;r<s;r++)o+=n[r]*Math.pow(256,r);return t?o:-1*o}(e);for(;t<e.length&&32===e[t];)t++;for(var r=(i=u(e,32,t,e.length),o=e.length,s=e.length,"number"!=typeof i?s:(i=~~i)>=o?o:i>=0||(i+=o)>=0?i:0);t<r&&0===e[t];)t++;return r===t?0:parseInt(e.slice(t,r).toString(),8);var i,o,s},f=function(e,t,n,r){return e.slice(t,u(e,0,t,t+n)).toString(r)},p=function(e){var t=Buffer.byteLength(e),n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e};t.decodeLongPath=function(e,t){return f(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=p(" path="+e.name+"\n")),e.linkname&&(t+=p(" linkpath="+e.linkname+"\n"));var n=e.pax;if(n)for(var r in n)t+=p(" "+r+"="+n[r]+"\n");return Buffer.from(t)},t.decodePax=function(e){for(var t={};e.length;){for(var n=0;n<e.length&&32!==e[n];)n++;var r=parseInt(e.slice(0,n).toString(),10);if(!r)return t;var i=e.slice(n+1,r-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.slice(r)}return t},t.encode=function(e){var t=n(512),s=e.name,a="";if(5===e.typeflag&&"/"!==s[s.length-1]&&(s+="/"),Buffer.byteLength(s)!==s.length)return null;for(;Buffer.byteLength(s)>100;){var u=s.indexOf("/");if(-1===u)return null;a+=a?"/"+s.slice(0,u):s.slice(0,u),s=s.slice(u+1)}return Buffer.byteLength(s)>100||Buffer.byteLength(a)>155||e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(s),t.write(d(e.mode&c,6),100),t.write(d(e.uid,6),108),t.write(d(e.gid,6),116),t.write(d(e.size,11),124),t.write(d(e.mtime.getTime()/1e3|0,11),136),t[156]=r+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),i.copy(t,257),o.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(d(e.devmajor||0,6),329),t.write(d(e.devminor||0,6),337),a&&t.write(a,345),t.write(d(l(t),6),148),t)},t.decode=function(e,t,n){var o=0===e[156]?0:e[156]-r,c=f(e,0,100,t),u=h(e,100,8),d=h(e,108,8),p=h(e,116,8),m=h(e,124,12),g=h(e,136,12),y=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(o),v=0===e[157]?null:f(e,157,100,t),b=f(e,265,32),w=f(e,297,32),_=h(e,329,8),S=h(e,337,8),C=l(e);if(256===C)return null;if(C!==h(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===i.compare(e,257,263))e[345]&&(c=f(e,345,155,t)+"/"+c);else if(0===s.compare(e,257,263)&&0===a.compare(e,263,265));else if(!n)throw new Error("Invalid tar header: unknown format.");return 0===o&&c&&"/"===c[c.length-1]&&(o=5),{name:c,mode:u,uid:d,gid:p,size:m,mtime:new Date(1e3*g),type:y,linkname:v,uname:b,gname:w,devmajor:_,devminor:S}}},1825:(e,t,n)=>{t.extract=n(9463),t.pack=n(1289)},1289:(e,t,n)=>{var r=n(7268),i=n(2840),o=n(4378),s=Buffer.alloc,a=n(9686).Readable,c=n(9686).Writable,u=n(1576).StringDecoder,l=n(200),d=parseInt("755",8),h=parseInt("644",8),f=s(1024),p=function(){},m=function(e,t){(t&=511)&&e.push(f.slice(0,512-t))},g=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};o(g,c),g.prototype._write=function(e,t,n){if(this.written+=e.length,this._to.push(e))return n();this._to._drain=n},g.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this.linkname="",this._decoder=new u("utf-8"),this._destroyed=!1};o(y,c),y.prototype._write=function(e,t,n){this.linkname+=this._decoder.write(e),n()},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var v=function(){c.call(this),this._destroyed=!1};o(v,c),v.prototype._write=function(e,t,n){n(new Error("No body allowed for this entry"))},v.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var b=function(e){if(!(this instanceof b))return new b(e);a.call(this,e),this._drain=p,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o(b,a),b.prototype.entry=function(e,t,n){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(n=t,t=null),n||(n=p);var o=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&r.S_IFMT){case r.S_IFBLK:return"block-device";case r.S_IFCHR:return"character-device";case r.S_IFDIR:return"directory";case r.S_IFIFO:return"fifo";case r.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?d:h),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=Buffer.from(t)),Buffer.isBuffer(t)){e.size=t.length,this._encode(e);var s=this.push(t);return m(o,e.size),s?process.nextTick(n):this._drain=n,new v}if("symlink"===e.type&&!e.linkname){var a=new y;return i(a,(function(t){if(t)return o.destroy(),n(t);e.linkname=a.linkname,o._encode(e),n()})),a}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(n),new v;var c=new g(this);return this._stream=c,i(c,(function(t){return o._stream=null,t?(o.destroy(),n(t)):c.written!==e.size?(o.destroy(),n(new Error("size mismatch"))):(m(o,e.size),o._finalizing&&o.finalize(),void n())})),c}},b.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(f),this.push(null))},b.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},b.prototype._encode=function(e){if(!e.pax){var t=l.encode(e);if(t)return void this.push(t)}this._encodePax(e)},b.prototype._encodePax=function(e){var t=l.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(l.encode(n)),this.push(t),m(this,t.length),n.size=e.size,n.type=e.type,this.push(l.encode(n))},b.prototype._read=function(e){var t=this._drain;this._drain=p,t()},e.exports=b},3644:(e,t,n)=>{var r=n(1048),i=n(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),y(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(d)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function h(e){if(!e)return[""];var t=[],n=i("{","}",e);if(!n)return e.split(",");var r=n.pre,o=n.body,s=n.post,a=r.split(",");a[a.length-1]+="{"+o+"}";var c=h(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function f(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function m(e,t){return e<=t}function g(e,t){return e>=t}function y(e,t){var n=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),d=c||u,v=o.body.indexOf(",")>=0;if(!d&&!v)return o.post.match(/,.*\}/)?y(e=o.pre+"{"+o.body+a+o.post):[e];if(d)s=o.body.split(/\.\./);else if(1===(s=h(o.body)).length&&1===(s=y(s[0],!1).map(f)).length)return(_=o.post.length?y(o.post,!1):[""]).map((function(e){return o.pre+s[0]+e}));var b,w=o.pre,_=o.post.length?y(o.post,!1):[""];if(d){var S=l(s[0]),C=l(s[1]),R=Math.max(s[0].length,s[1].length),T=3==s.length?Math.abs(l(s[2])):1,E=m;C<S&&(T*=-1,E=g);var k=s.some(p);b=[];for(var D=S;E(D,C);D+=T){var x;if(u)"\\"===(x=String.fromCharCode(D))&&(x="");else if(x=String(D),k){var O=R-x.length;if(O>0){var P=new Array(O+1).join("0");x=D<0?"-"+P+x.slice(1):P+x}}b.push(x)}}else b=r(s,(function(e){return y(e,!1)}));for(var I=0;I<b.length;I++)for(var N=0;N<_.length;N++){var F=w+b[I]+_[N];(!t||d||F)&&n.push(F)}return n}},2779:(e,t,n)=>{var r=n(4300).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function o(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function s(e){var t=o(4);return t.writeInt32BE(e,0),t}function a(e,t){e=o(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,s=0;s<e.length;s++)n=i[255&(n^e[s])]^n>>>8;return-1^n}function c(){return s(a.apply(null,arguments))}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),c.signed=function(){return a.apply(null,arguments)},c.unsigned=function(){return a.apply(null,arguments)>>>0},e.exports=c},5420:e=>{var t=Object.prototype.toString,n="undefined"!=typeof Buffer&&"function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;e.exports=function(e,r,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return o=e,"ArrayBuffer"===t.call(o).slice(8,-1)?function(e,t,r){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=i;else if((r>>>=0)>i)throw new RangeError("'length' is out of bounds");return n?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}(e,r,i):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(e,t):new Buffer(e,t)}(e,r):n?Buffer.from(e):new Buffer(e);var o}},7699:(e,t,n)=>{var r=n(8218),i=n(3482),o=n(335),s=n(4850),a=n(4650),c=function(){return o({newline:!1,maxBuffer:10},(function(e,t){if(i(e))return t(null,s(r(),c()));t(null,a())}))};e.exports=c},9019:(e,t,n)=>{"use strict";const r=n(7147),i=n(1017),o=r.lchown?"lchown":"chown",s=r.lchownSync?"lchownSync":"chownSync",a=r.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),c=(e,t,n)=>{try{return r[s](e,t,n)}catch(e){if("ENOENT"!==e.code)throw e}},u=a?(e,t,n,i)=>o=>{o&&"EISDIR"===o.code?r.chown(e,t,n,i):i(o)}:(e,t,n,r)=>r,l=a?(e,t,n)=>{try{return c(e,t,n)}catch(i){if("EISDIR"!==i.code)throw i;((e,t,n)=>{try{r.chownSync(e,t,n)}catch(e){if("ENOENT"!==e.code)throw e}})(e,t,n)}}:(e,t,n)=>c(e,t,n),d=process.version;let h=(e,t,n)=>r.readdir(e,t,n);/^v4\./.test(d)&&(h=(e,t,n)=>r.readdir(e,n));const f=(e,t,n,i)=>{r[o](e,t,n,u(e,t,n,(e=>{i(e&&"ENOENT"!==e.code?e:null)})))},p=(e,t,n,o,s)=>{if("string"==typeof t)return r.lstat(i.resolve(e,t),((r,i)=>{if(r)return s("ENOENT"!==r.code?r:null);i.name=t,p(e,i,n,o,s)}));if(t.isDirectory())m(i.resolve(e,t.name),n,o,(r=>{if(r)return s(r);const a=i.resolve(e,t.name);f(a,n,o,s)}));else{const r=i.resolve(e,t.name);f(r,n,o,s)}},m=(e,t,n,r)=>{h(e,{withFileTypes:!0},((i,o)=>{if(i){if("ENOENT"===i.code)return r();if("ENOTDIR"!==i.code&&"ENOTSUP"!==i.code)return r(i)}if(i||!o.length)return f(e,t,n,r);let s=o.length,a=null;const c=i=>{if(!a)return i?r(a=i):0==--s?f(e,t,n,r):void 0};o.forEach((r=>p(e,r,t,n,c)))}))},g=(e,t,n)=>{let o;try{o=((e,t)=>r.readdirSync(e,{withFileTypes:!0}))(e)}catch(r){if("ENOENT"===r.code)return;if("ENOTDIR"===r.code||"ENOTSUP"===r.code)return l(e,t,n);throw r}return o&&o.length&&o.forEach((o=>((e,t,n,o)=>{if("string"==typeof t)try{const n=r.lstatSync(i.resolve(e,t));n.name=t,t=n}catch(e){if("ENOENT"===e.code)return;throw e}t.isDirectory()&&g(i.resolve(e,t.name),n,o),l(i.resolve(e,t.name),n,o)})(e,o,t,n))),l(e,t,n)};e.exports=m,m.sync=g},1048:e=>{e.exports=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=n(e[i],i);t(o)?r.push.apply(r,o):r.push(o)}return r};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},6497:(e,t,n)=>{function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(4300).Buffer.isBuffer},1227:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(2447)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},5158:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(1227):e.exports=n(39)},39:(e,t,n)=>{const r=n(6224),i=n(3837);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(2447)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},5981:(e,t,n)=>{var r=n(1451),i=n(2840),o=n(4378),s=n(1852),a=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),c=function(e,t){e._corked?e.once("uncork",t):t()},u=function(e,t){return function(n){n?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===n.message?null:n):t&&!e._ended&&e.end()}},l=function(e,t,n){if(!(this instanceof l))return new l(e,t,n);r.Duplex.call(this,n),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!n||!1!==n.autoDestroy,this._forwardDestroy=!n||!1!==n.destroy,this._forwardEnd=!n||!1!==n.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};o(l,r.Duplex),l.obj=function(e,t,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new l(e,t,n)},l.prototype.cork=function(){1==++this._corked&&this.emit("cork")},l.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},l.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,n=i(e,{writable:!0,readable:!1},u(this,this._forwardEnd)),r=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&process.nextTick(r),this._writable=e,this._writable.on("drain",r),this._unwrite=function(){t._writable.removeListener("drain",r),n()},this.uncork()}else this.end()},l.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,n=this,o=i(e,{writable:!1,readable:!0},u(this)),s=function(){n._forward()},a=function(){n.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new r.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",s),this._readable2.on("end",a),this._unread=function(){n._readable2.removeListener("readable",s),n._readable2.removeListener("end",a),o()},this._forward()}},l.prototype._read=function(){this._drained=!0,this._forward()},l.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=s(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},l.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;process.nextTick((function(){t._destroy(e)}))}},l.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},l.prototype._write=function(e,t,n){return this.destroyed?n():this._corked?c(this,this._write.bind(this,e,t,n)):e===a?this._finish(n):this._writable?void(!1===this._writable.write(e)?this._ondrain=n:n()):n()},l.prototype._finish=function(e){var t=this;this.emit("preend"),c(this,(function(){var n,r;r=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),c(t,e)},(n=t._forwardEnd&&t._writable)?n._writableState&&n._writableState.finished?r():n._writableState?n.end(r):(n.end(),r()):r()}))},l.prototype.end=function(e,t,n){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(a),r.Writable.prototype.end.call(this,n))},e.exports=l},2840:(e,t,n)=>{var r=n(447),i=function(){},o=function(e,t,n){if("function"==typeof t)return o(e,null,t);t||(t={}),n=r(n||i);var s=e._writableState,a=e._readableState,c=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,l=!1,d=function(){e.writable||h()},h=function(){u=!1,c||n.call(e)},f=function(){c=!1,u||n.call(e)},p=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},m=function(t){n.call(e,t)},g=function(){process.nextTick(y)},y=function(){if(!l)return(!c||a&&a.ended&&!a.destroyed)&&(!u||s&&s.ended&&!s.destroyed)?void 0:n.call(e,new Error("premature close"))},v=function(){e.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",h),e.on("abort",g),e.req?v():e.on("request",v)):u&&!s&&(e.on("end",d),e.on("close",d)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",p),e.on("end",f),e.on("finish",h),!1!==t.error&&e.on("error",m),e.on("close",g),function(){l=!0,e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",p),e.removeListener("end",f),e.removeListener("error",m),e.removeListener("close",g)}};e.exports=o},1511:(e,t,n)=>{var r=n(1017).join,i=process.env["win32"==process.platform?"USERPROFILE":"HOME"];e.exports=function(e){return e?"~"==e?i:"~/"!=e.slice(0,2)?e:r(i,e.slice(2)):e}},8913:(e,t,n)=>{var r=n(7147),i=n(3837),o=n(2781),s=o.Readable,a=o.Writable,c=o.PassThrough,u=n(9916),l=n(2361).EventEmitter;function d(e,t){t=t||{},l.call(this),this.fd=e,this.pend=new u,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function h(e,t){t=t||{},s.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function f(e,t){t=t||{},a.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function p(e,t){l.call(this),t=t||{},this.refCount=0,this.buffer=e,this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}t.createFromBuffer=function(e,t){return new p(e,t)},t.createFromFd=function(e,t){return new d(e,t)},t.BufferSlicer=p,t.FdSlicer=d,i.inherits(d,l),d.prototype.read=function(e,t,n,i,o){var s=this;s.pend.go((function(a){r.read(s.fd,e,t,n,i,(function(e,t,n){a(),o(e,t,n)}))}))},d.prototype.write=function(e,t,n,i,o){var s=this;s.pend.go((function(a){r.write(s.fd,e,t,n,i,(function(e,t,n){a(),o(e,t,n)}))}))},d.prototype.createReadStream=function(e){return new h(this,e)},d.prototype.createWriteStream=function(e){return new f(this,e)},d.prototype.ref=function(){this.refCount+=1},d.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.autoClose&&r.close(e.fd,(function(t){t?e.emit("error",t):e.emit("close")}))}},i.inherits(h,s),h.prototype._read=function(e){var t=this;if(!t.destroyed){var n=Math.min(t._readableState.highWaterMark,e);if(null!=t.endOffset&&(n=Math.min(n,t.endOffset-t.pos)),n<=0)return t.destroyed=!0,t.push(null),void t.context.unref();t.context.pend.go((function(e){if(t.destroyed)return e();var i=new Buffer(n);r.read(t.context.fd,i,0,n,t.pos,(function(n,r){n?t.destroy(n):0===r?(t.destroyed=!0,t.push(null),t.context.unref()):(t.pos+=r,t.push(i.slice(0,r))),e()}))}))}},h.prototype.destroy=function(e){this.destroyed||(e=e||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},i.inherits(f,a),f.prototype._write=function(e,t,n){var i=this;if(!i.destroyed){if(i.pos+e.length>i.endOffset){var o=new Error("maximum file length exceeded");return o.code="ETOOBIG",i.destroy(),void n(o)}i.context.pend.go((function(t){if(i.destroyed)return t();r.write(i.context.fd,e,0,e.length,i.pos,(function(e,r){e?(i.destroy(),t(),n(e)):(i.bytesWritten+=r,i.pos+=r,i.emit("progress"),t(),n())}))}))}},f.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},i.inherits(p,l),p.prototype.read=function(e,t,n,r,i){var o=r+n,s=o-this.buffer.length,a=s>0?s:n;this.buffer.copy(e,t,r,o),setImmediate((function(){i(null,a)}))},p.prototype.write=function(e,t,n,r,i){e.copy(this.buffer,r,t,t+n),setImmediate((function(){i(null,n,e)}))},p.prototype.createReadStream=function(e){var t=new c(e=e||{});t.destroyed=!1,t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length;for(var n=this.buffer.slice(t.start,t.pos),r=0;;){var i=r+this.maxChunkSize;if(i>=n.length){r<n.length&&t.write(n.slice(r,n.length));break}t.write(n.slice(r,i)),r=i}return t.end(),t.destroy=function(){t.destroyed=!0},t},p.prototype.createWriteStream=function(e){var t=this,n=new a(e=e||{});return n.start=e.start||0,n.endOffset=null==e.end?this.buffer.length:+e.end,n.bytesWritten=0,n.pos=n.start,n.destroyed=!1,n._write=function(e,r,i){if(!n.destroyed){var o=n.pos+e.length;if(o>n.endOffset){var s=new Error("maximum file length exceeded");return s.code="ETOOBIG",n.destroyed=!0,void i(s)}e.copy(t.buffer,n.pos,0,e.length),n.bytesWritten+=e.length,n.pos=o,n.emit("progress"),i()}},n.destroy=function(){n.destroyed=!0},n},p.prototype.ref=function(){this.refCount+=1},p.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")}},2804:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=o(n(7147)),c=o(n(1017)),u=o(n(2081)),l=n(2081),d=s(n(2806)),h=s(n(1283)),f=0===process.platform.indexOf("win"),p=["\\SOFTWARE\\JavaSoft\\JDK","\\SOFTWARE\\JavaSoft\\Java Development Kit"],m=["\\SOFTWARE\\JavaSoft\\Java Runtime Environment"];function g(e,t){return r(this,void 0,void 0,(function(){var n,r,o,s,a;return i(this,(function(i){switch(i.label){case 0:t?(r=e,n=t):(n=e,r=void 0),o=void 0,s=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,y(r)];case 2:return o=i.sent(),[3,4];case 3:return a=i.sent(),s=a,[3,4];case 4:return n(s,o),[2]}}))}))}function y(e){return r(this,void 0,void 0,(function(){var t,n,r,o;return i(this,(function(i){switch(i.label){case 0:return t=!(!e||!e.allowJre),n=(t?"java":"javac")+(f?".exe":""),r=e&&e.registry?[e.registry]:["x64","x86"],process.env.JAVA_HOME&&(s=process.env.JAVA_HOME,u=n,a.existsSync(""+s)&&a.statSync(s).isDirectory()&&a.existsSync(c.resolve(s,"bin",u)))?[2,process.env.JAVA_HOME]:f?[4,b(t?p.concat(m):p,r)]:[3,2];case 1:if(o=i.sent())return[2,o];i.label=2;case 2:return[4,v(n)];case 3:return[2,i.sent()]}var s,u}))}))}function v(e){return new Promise((function(t){d.default(e,(function(n,r){if(n||!r)return t(null);if(/\.jenv\/shims/.test(r))try{r=l.execSync("jenv which "+e).toString().trim()}catch(e){console.error(e)}r=a.realpathSync(r),r=c.dirname(r);var i=c.resolve(r,"java_home");if(a.existsSync(i))try{var o=""+u.execSync(i,{cwd:r}).toString().replace(/\n$/,"");return t(o)}catch(e){return t(null)}t(c.dirname(r))}))}))}function b(e,t){return r(this,void 0,void 0,(function(){var n,r,o,s,a,c,u,l,d,h,f,p,m,g;return i(this,(function(i){switch(i.label){case 0:if(!e.length)return[2,null];for(n=[],r=0,o=t;r<o.length;r++)for(s=o[r],a=0,c=e;a<c.length;a++)u=c[a],n.push(w(u,s));return[4,Promise.all(n)];case 1:if(l=i.sent(),!(d=Array.prototype.concat.apply([],l)).length)return[2,null];h=d.sort((function(e,t){var n=parseFloat(e.key);return parseFloat(t.key)-n})),f=0,p=h,i.label=2;case 2:return f<p.length?(m=p[f],[4,(y=m,new Promise((function(e){y.get("JavaHome",(function(t,n){if(t||!n)return e(null);e(n.value)}))})))]):[3,5];case 3:if(g=i.sent())return[2,g];i.label=4;case 4:return f++,[3,2];case 5:return[2,null]}var y}))}))}function w(e,t){return new Promise((function(n){new h.default({hive:h.default.HKLM,key:e,arch:t}).keys((function(e,t){if(e)return n([]);n(t)}))}))}g.promise=y(),e.exports=g},5175:(e,t,n)=>{var r=n(2361).EventEmitter,i=n(7147),o=n(1017);e.exports=function(e,t){var n=!!(t=t||{}).followSymlinks,s=t.fs||i,a=new r,c=!1,u=0,l={};return a.stop=function(){c||(c=!0,a.emit("stop"))},function e(t,r){h(),s.lstat(t,(function(i,u){if(!c){if(i)return d(i,t),void f();a.emit("path",t,u,r);var p=!1;if(u.isDirectory()){if(l[t])return(i=new Error("file system loop detected")).code="ELOOP",d(i,t),void f();l[t]=!0,a.emit("directory",t,u,(function(){p=!0}),r),p||function(t,n){h(),s.readdir(t,(function(r,i){if(!c){if(r)return d(r,t),void f();i.forEach((function(r){e(o.join(t,r),n&&o.join(n,r))})),f()}}))}(t,r)}else u.isFile()?l[t]||(l[t]=!0,a.emit("file",t,u,r)):u.isSymbolicLink()&&(a.emit("link",t,u,r),n&&function(t){h(),s.readlink(t,(function(n,r){if(!c){if(n)return d(n,t),void f();var i=o.resolve(o.dirname(t),r);a.emit("readlink",t,i),e(i,t),f()}}))}(t));f()}}))}(e),a;function d(e,t){e&&!c&&(e.path=t,a.emit("error",e))}function h(){u+=1}function f(){if(!c)if(0==(u-=1))a.emit("end");else if(u<0)throw new Error("pendEnd called too many times")}}},2261:(e,t,n)=>{var r;e.exports=function(){if(!r){try{r=n(5158)("follow-redirects")}catch(e){}"function"!=typeof r&&(r=function(){})}r.apply(null,arguments)}},938:(e,t,n)=>{var r=n(7310),i=r.URL,o=n(3685),s=n(5687),a=n(2781).Writable,c=n(9491),u=n(2261),l=["abort","aborted","connect","error","socket","timeout"],d=Object.create(null);l.forEach((function(e){d[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}}));var h=_("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),f=_("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),p=_("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),m=_("ERR_STREAM_WRITE_AFTER_END","write after end");function g(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(e){n._processResponse(e)},this._performRequest()}function y(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach((function(o){var s=o+":",a=n[s]=e[o],l=t[o]=Object.create(a);Object.defineProperties(l,{request:{value:function(e,o,a){if("string"==typeof e){var l=e;try{e=b(new i(l))}catch(t){e=r.parse(l)}}else i&&e instanceof i?e=b(e):(a=o,o=e,e={protocol:s});return"function"==typeof o&&(a=o,o=null),(o=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,o)).nativeProtocols=n,c.equal(o.protocol,s,"protocol mismatch"),u("options",o),new g(o,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,n){var r=l.request(e,t,n);return r.end(),r},configurable:!0,enumerable:!0,writable:!0}})})),t}function v(){}function b(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function w(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return null==n?void 0:String(n).trim()}function _(e,t){function n(e){Error.captureStackTrace(this,this.constructor),e?(this.message=t+": "+e.message,this.cause=e):this.message=t}return n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="Error ["+e+"]",n.prototype.code=e,n}function S(e){for(var t of l)e.removeListener(t,d[t]);e.on("error",v),e.abort()}g.prototype=Object.create(a.prototype),g.prototype.abort=function(){S(this._currentRequest),this.emit("abort")},g.prototype.write=function(e,t,n){if(this._ending)throw new m;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new p),this.abort()):n&&n()},g.prototype.end=function(e,t,n){if("function"==typeof e?(n=e,e=t=null):"function"==typeof t&&(n=t,t=null),e){var r=this,i=this._currentRequest;this.write(e,t,(function(){r._ended=!0,i.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},g.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},g.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},g.prototype.setTimeout=function(e,t){var n=this;function r(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function i(t){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout((function(){n.emit("timeout"),o()}),e),r(t)}function o(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",o),n.removeListener("error",o),n.removeListener("response",o),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",i)}return t&&this.on("timeout",t),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",r),this.on("abort",o),this.on("error",o),this.on("response",o),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){g.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(g.prototype,e,{get:function(){return this._currentRequest[e]}})})),g.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},g.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var o of(i._redirectable=this,l))i.on(o,d[o]);if(this._currentUrl=/^\//.test(this._options.path)?r.format(this._options):this._currentUrl=this._options.path,this._isRedirect){var s=0,a=this,c=this._requestBodyBuffers;!function e(t){if(i===a._currentRequest)if(t)a.emit("error",t);else if(s<c.length){var n=c[s++];i.finished||i.write(n.data,n.encoding,e)}else a._ended&&i.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},g.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(!n||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(S(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new f);else{var i,o=this._options.beforeRedirect;o&&(i=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var s=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],w(/^content-/i,this._options.headers));var a,c=w(/^host$/i,this._options.headers),l=r.parse(this._currentUrl),d=c||l.host,p=/^\w+:/.test(n)?this._currentUrl:r.format(Object.assign(l,{host:d}));try{a=r.resolve(p,n)}catch(e){return void this.emit("error",new h(e))}u("redirecting to",a),this._isRedirect=!0;var m=r.parse(a);if(Object.assign(this._options,m),(m.protocol!==l.protocol&&"https:"!==m.protocol||m.host!==d&&!function(e,t){const n=e.length-t.length-1;return n>0&&"."===e[n]&&e.endsWith(t)}(m.host,d))&&w(/^(?:authorization|cookie)$/i,this._options.headers),"function"==typeof o){var g={headers:e.headers,statusCode:t},y={url:p,method:s,headers:i};try{o(this._options,g,y)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){this.emit("error",new h(e))}}},e.exports=y({http:o,https:s}),e.exports.wrap=y},7268:(e,t,n)=>{e.exports=n(7147).constants||n(2057)},3873:(e,t,n)=>{"use strict";const r=n(77),i=n(1017),o=n(1381).mkdirsSync,s=n(318).utimesMillisSync,a=n(2733);function c(e,t,n,o){const s=(o.dereference?r.statSync:r.lstatSync)(t);if(s.isDirectory())return function(e,t,n,i,o){return t?d(n,i,o):function(e,t,n,i){return r.mkdirSync(n),d(t,n,i),l(n,e)}(e.mode,n,i,o)}(s,e,t,n,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,n,i,o){return t?function(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),u(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,i,o):u(e,n,i,o)}(s,e,t,n,o);if(s.isSymbolicLink())return function(e,t,n,o){let s=r.readlinkSync(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),e){let e;try{e=r.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return r.symlinkSync(s,n);throw e}if(o.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(r.statSync(n).isDirectory()&&a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(s,n)}return r.symlinkSync(s,n)}(e,t,n,o);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function u(e,t,n,i){return r.copyFileSync(t,n),i.preserveTimestamps&&function(e,t,n){(function(e){return 0==(128&e)})(e)&&function(e,t){l(e,128|t)}(n,e),function(e,t){const n=r.statSync(e);s(t,n.atime,n.mtime)}(t,n)}(e.mode,t,n),l(n,e.mode)}function l(e,t){return r.chmodSync(e,t)}function d(e,t,n){r.readdirSync(e).forEach((r=>function(e,t,n,r){const o=i.join(t,e),s=i.join(n,e),{destStat:u}=a.checkPathsSync(o,s,"copy",r);return function(e,t,n,r){if(!r.filter||r.filter(t,n))return c(e,t,n,r)}(u,o,s,r)}(r,e,t,n)))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:s,destStat:u}=a.checkPathsSync(e,t,"copy",n);return a.checkParentPathsSync(e,s,t,"copy"),function(e,t,n,s){if(s.filter&&!s.filter(t,n))return;const a=i.dirname(n);return r.existsSync(a)||o(a),c(e,t,n,s)}(u,e,t,n)}},7189:(e,t,n)=>{"use strict";const r=n(77),i=n(1017),o=n(1381).mkdirs,s=n(9257).pathExists,a=n(318).utimesMillis,c=n(2733);function u(e,t,n,r,a){const c=i.dirname(n);s(c,((i,s)=>i?a(i):s?d(e,t,n,r,a):void o(c,(i=>i?a(i):d(e,t,n,r,a)))))}function l(e,t,n,r,i,o){Promise.resolve(i.filter(n,r)).then((s=>s?e(t,n,r,i,o):o()),(e=>o(e)))}function d(e,t,n,o,s){(o.dereference?r.stat:r.lstat)(t,((a,u)=>a?s(a):u.isDirectory()?function(e,t,n,i,o,s){return t?m(n,i,o,s):function(e,t,n,i,o){r.mkdir(n,(r=>{if(r)return o(r);m(t,n,i,(t=>t?o(t):p(n,e,o)))}))}(e.mode,n,i,o,s)}(u,e,t,n,o,s):u.isFile()||u.isCharacterDevice()||u.isBlockDevice()?function(e,t,n,i,o,s){return t?function(e,t,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,(r=>r?o(r):h(e,t,n,i,o)))}(e,n,i,o,s):h(e,n,i,o,s)}(u,e,t,n,o,s):u.isSymbolicLink()?function(e,t,n,o,s){r.readlink(t,((t,a)=>t?s(t):(o.dereference&&(a=i.resolve(process.cwd(),a)),e?void r.readlink(n,((t,u)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?r.symlink(a,n,s):s(t):(o.dereference&&(u=i.resolve(process.cwd(),u)),c.isSrcSubdir(a,u)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${u}'.`)):e.isDirectory()&&c.isSrcSubdir(u,a)?s(new Error(`Cannot overwrite '${u}' with '${a}'.`)):function(e,t,n){r.unlink(t,(i=>i?n(i):r.symlink(e,t,n)))}(a,n,s)))):r.symlink(a,n,s))))}(e,t,n,o,s):u.isSocket()?s(new Error(`Cannot copy a socket file: ${t}`)):u.isFIFO()?s(new Error(`Cannot copy a FIFO pipe: ${t}`)):s(new Error(`Unknown file: ${t}`))))}function h(e,t,n,i,o){r.copyFile(t,n,(r=>r?o(r):i.preserveTimestamps?function(e,t,n,r){return function(e){return 0==(128&e)}(e)?function(e,t,n){return p(e,128|t,n)}(n,e,(i=>i?r(i):f(e,t,n,r))):f(e,t,n,r)}(e.mode,t,n,o):p(n,e.mode,o)))}function f(e,t,n,i){!function(e,t,n){r.stat(e,((e,r)=>e?n(e):a(t,r.atime,r.mtime,n)))}(t,n,(t=>t?i(t):p(n,e,i)))}function p(e,t,n){return r.chmod(e,t,n)}function m(e,t,n,i){r.readdir(e,((r,o)=>r?i(r):g(o,e,t,n,i)))}function g(e,t,n,r,o){const s=e.pop();return s?function(e,t,n,r,o,s){const a=i.join(n,t),u=i.join(r,t);c.checkPaths(a,u,"copy",o,((t,i)=>{if(t)return s(t);const{destStat:c}=i;!function(e,t,n,r,i){r.filter?l(d,e,t,n,r,i):d(e,t,n,r,i)}(c,a,u,o,(t=>t?s(t):g(e,n,r,o,s)))}))}(e,s,t,n,r,o):o()}e.exports=function(e,t,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),c.checkPaths(e,t,"copy",n,((i,o)=>{if(i)return r(i);const{srcStat:s,destStat:a}=o;c.checkParentPaths(e,s,t,"copy",(i=>i?r(i):n.filter?l(u,a,e,t,n,r):u(a,e,t,n,r)))}))}},6464:(e,t,n)=>{"use strict";const r=n(8981).fromCallback;e.exports={copy:r(n(7189)),copySync:n(3873)}},5590:(e,t,n)=>{"use strict";const r=n(8981).fromPromise,i=n(7749),o=n(1017),s=n(1381),a=n(4542),c=r((async function(e){let t;try{t=await i.readdir(e)}catch{return s.mkdirs(e)}return Promise.all(t.map((t=>a.remove(o.join(e,t)))))}));function u(e){let t;try{t=i.readdirSync(e)}catch{return s.mkdirsSync(e)}t.forEach((t=>{t=o.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},6530:(e,t,n)=>{"use strict";const r=n(8981).fromCallback,i=n(1017),o=n(77),s=n(1381);e.exports={createFile:r((function(e,t){function n(){o.writeFile(e,"",(e=>{if(e)return t(e);t()}))}o.stat(e,((r,a)=>{if(!r&&a.isFile())return t();const c=i.dirname(e);o.stat(c,((e,r)=>{if(e)return"ENOENT"===e.code?s.mkdirs(c,(e=>{if(e)return t(e);n()})):t(e);r.isDirectory()?n():o.readdir(c,(e=>{if(e)return t(e)}))}))}))})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch{}if(t&&t.isFile())return;const n=i.dirname(e);try{o.statSync(n).isDirectory()||o.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;s.mkdirsSync(n)}o.writeFileSync(e,"")}}},1720:(e,t,n)=>{"use strict";const{createFile:r,createFileSync:i}=n(6530),{createLink:o,createLinkSync:s}=n(4147),{createSymlink:a,createSymlinkSync:c}=n(3635);e.exports={createFile:r,createFileSync:i,ensureFile:r,ensureFileSync:i,createLink:o,createLinkSync:s,ensureLink:o,ensureLinkSync:s,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},4147:(e,t,n)=>{"use strict";const r=n(8981).fromCallback,i=n(1017),o=n(77),s=n(1381),a=n(9257).pathExists,{areIdentical:c}=n(2733);e.exports={createLink:r((function(e,t,n){function r(e,t){o.link(e,t,(e=>{if(e)return n(e);n(null)}))}o.lstat(t,((u,l)=>{o.lstat(e,((o,u)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);if(l&&c(u,l))return n(null);const d=i.dirname(t);a(d,((i,o)=>i?n(i):o?r(e,t):void s.mkdirs(d,(i=>{if(i)return n(i);r(e,t)}))))}))}))})),createLinkSync:function(e,t){let n;try{n=o.lstatSync(t)}catch{}try{const t=o.lstatSync(e);if(n&&c(t,n))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=i.dirname(t);return o.existsSync(r)||s.mkdirsSync(r),o.linkSync(e,t)}}},6072:(e,t,n)=>{"use strict";const r=n(1017),i=n(77),o=n(9257).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e})));{const s=r.dirname(t),a=r.join(s,e);return o(a,((t,o)=>t?n(t):o?n(null,{toCwd:a,toDst:e}):i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(s,e)})))))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(n=i.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=r.dirname(t),s=r.join(o,e);if(n=i.existsSync(s),n)return{toCwd:s,toDst:e};if(n=i.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(o,e)}}}}},9259:(e,t,n)=>{"use strict";const r=n(77);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,((e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)}))},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},3635:(e,t,n)=>{"use strict";const r=n(8981).fromCallback,i=n(1017),o=n(7749),s=n(1381),a=s.mkdirs,c=s.mkdirsSync,u=n(6072),l=u.symlinkPaths,d=u.symlinkPathsSync,h=n(9259),f=h.symlinkType,p=h.symlinkTypeSync,m=n(9257).pathExists,{areIdentical:g}=n(2733);function y(e,t,n,r){l(e,t,((s,c)=>{if(s)return r(s);e=c.toDst,f(c.toCwd,n,((n,s)=>{if(n)return r(n);const c=i.dirname(t);m(c,((n,i)=>n?r(n):i?o.symlink(e,t,s,r):void a(c,(n=>{if(n)return r(n);o.symlink(e,t,s,r)}))))}))}))}e.exports={createSymlink:r((function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,o.lstat(t,((i,s)=>{!i&&s.isSymbolicLink()?Promise.all([o.stat(e),o.stat(t)]).then((([i,o])=>{if(g(i,o))return r(null);y(e,t,n,r)})):y(e,t,n,r)}))})),createSymlinkSync:function(e,t,n){let r;try{r=o.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){const n=o.statSync(e),r=o.statSync(t);if(g(n,r))return}const s=d(e,t);e=s.toDst,n=p(s.toCwd,n);const a=i.dirname(t);return o.existsSync(a)||c(a),o.symlinkSync(e,t,n)}}},7749:(e,t,n)=>{"use strict";const r=n(8981).fromCallback,i=n(77),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof i[e]));Object.assign(t,i),o.forEach((e=>{t[e]=r(i[e])})),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise((t=>i.exists(e,t)))},t.read=function(e,t,n,r,o,s){return"function"==typeof s?i.read(e,t,n,r,o,s):new Promise(((s,a)=>{i.read(e,t,n,r,o,((e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})}))}))},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?i.write(e,t,...n):new Promise(((r,o)=>{i.write(e,t,...n,((e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffer:n})}))}))},"function"==typeof i.writev&&(t.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?i.writev(e,t,...n):new Promise(((r,o)=>{i.writev(e,t,...n,((e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffers:n})}))}))}),"function"==typeof i.realpath.native?t.realpath.native=r(i.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")},5674:(e,t,n)=>{"use strict";e.exports={...n(7749),...n(6464),...n(5590),...n(1720),...n(6573),...n(1381),...n(530),...n(4670),...n(9257),...n(4542)}},6573:(e,t,n)=>{"use strict";const r=n(8981).fromPromise,i=n(7183);i.outputJson=r(n(3508)),i.outputJsonSync=n(9578),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},7183:(e,t,n)=>{"use strict";const r=n(6813);e.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},9578:(e,t,n)=>{"use strict";const{stringify:r}=n(6780),{outputFileSync:i}=n(4670);e.exports=function(e,t,n){const o=r(t,n);i(e,o,n)}},3508:(e,t,n)=>{"use strict";const{stringify:r}=n(6780),{outputFile:i}=n(4670);e.exports=async function(e,t,n={}){const o=r(t,n);await i(e,o,n)}},1381:(e,t,n)=>{"use strict";const r=n(8981).fromPromise,{makeDir:i,makeDirSync:o}=n(8233),s=r(i);e.exports={mkdirs:s,mkdirsSync:o,mkdirp:s,mkdirpSync:o,ensureDir:s,ensureDirSync:o}},8233:(e,t,n)=>{"use strict";const r=n(7749),{checkPath:i}=n(3468),o=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(i(e),r.mkdir(e,{mode:o(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(i(e),r.mkdirSync(e,{mode:o(t),recursive:!0}))},3468:(e,t,n)=>{"use strict";const r=n(1017);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(r.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},530:(e,t,n)=>{"use strict";const r=n(8981).fromCallback;e.exports={move:r(n(436)),moveSync:n(3736)}},3736:(e,t,n)=>{"use strict";const r=n(77),i=n(1017),o=n(6464).copySync,s=n(4542).removeSync,a=n(1381).mkdirpSync,c=n(2733);function u(e,t,n){try{r.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,n){return o(e,t,{overwrite:n,errorOnExist:!0}),s(e)}(e,t,n)}}e.exports=function(e,t,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:l,isChangingCase:d=!1}=c.checkPathsSync(e,t,"move",n);return c.checkParentPathsSync(e,l,t,"move"),function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)||a(i.dirname(t)),function(e,t,n,i){if(i)return u(e,t,n);if(n)return s(t),u(e,t,n);if(r.existsSync(t))throw new Error("dest already exists.");return u(e,t,n)}(e,t,o,d)}},436:(e,t,n)=>{"use strict";const r=n(77),i=n(1017),o=n(6464).copy,s=n(4542).remove,a=n(1381).mkdirp,c=n(9257).pathExists,u=n(2733);function l(e,t,n,r,i){return r?d(e,t,n,i):n?s(t,(r=>r?i(r):d(e,t,n,i))):void c(t,((r,o)=>r?i(r):o?i(new Error("dest already exists.")):d(e,t,n,i)))}function d(e,t,n,i){r.rename(e,t,(r=>r?"EXDEV"!==r.code?i(r):function(e,t,n,r){o(e,t,{overwrite:n,errorOnExist:!0},(t=>t?r(t):s(e,r)))}(e,t,n,i):i()))}e.exports=function(e,t,n,r){"function"==typeof n&&(r=n,n={});const o=(n=n||{}).overwrite||n.clobber||!1;u.checkPaths(e,t,"move",n,((n,s)=>{if(n)return r(n);const{srcStat:c,isChangingCase:d=!1}=s;u.checkParentPaths(e,c,t,"move",(n=>n?r(n):function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)?l(e,t,o,d,r):void a(i.dirname(t),(n=>n?r(n):l(e,t,o,d,r)))))}))}},4670:(e,t,n)=>{"use strict";const r=n(8981).fromCallback,i=n(77),o=n(1017),s=n(1381),a=n(9257).pathExists;e.exports={outputFile:r((function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=o.dirname(e);a(c,((o,a)=>o?r(o):a?i.writeFile(e,t,n,r):void s.mkdirs(c,(o=>{if(o)return r(o);i.writeFile(e,t,n,r)}))))})),outputFileSync:function(e,...t){const n=o.dirname(e);if(i.existsSync(n))return i.writeFileSync(e,...t);s.mkdirsSync(n),i.writeFileSync(e,...t)}}},9257:(e,t,n)=>{"use strict";const r=n(8981).fromPromise,i=n(7749);e.exports={pathExists:r((function(e){return i.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:i.existsSync}},4542:(e,t,n)=>{"use strict";const r=n(77),i=n(8981).fromCallback,o=n(3456);e.exports={remove:i((function(e,t){if(r.rm)return r.rm(e,{recursive:!0,force:!0},t);o(e,t)})),removeSync:function(e){if(r.rmSync)return r.rmSync(e,{recursive:!0,force:!0});o.sync(e)}}},3456:(e,t,n)=>{"use strict";const r=n(77),i=n(1017),o=n(9491),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]})),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),u(e,t,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries)return r++,setTimeout((()=>u(e,t,i)),100*r);"ENOENT"===o.code&&(o=null)}n(o)}))}function u(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,((r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?l(e,t,r,n):i&&i.isDirectory()?h(e,t,r,n):void t.unlink(e,(r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?l(e,t,r,n):h(e,t,r,n);if("EISDIR"===r.code)return h(e,t,r,n)}return n(r)}))))}function l(e,t,n,r){o(e),o(t),o("function"==typeof r),t.chmod(e,438,(i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,((i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?h(e,t,n,r):t.unlink(e,r)}))}))}function d(e,t,n){let r;o(e),o(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?p(e,t,n):t.unlinkSync(e)}function h(e,t,n,r){o(e),o(t),o("function"==typeof r),t.rmdir(e,(s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,((r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach((r=>{c(i.join(e,r),t,(r=>{if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))}))}))}))}(e,t,r)}))}function f(e,t){let n;a(t=t||{}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&d(e,t,n)}try{n&&n.isDirectory()?p(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?d(e,t,n):p(e,t,n);if("EISDIR"!==n.code)throw n;p(e,t,n)}}function p(e,t,n){o(e),o(t);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){if(o(e),o(t),t.readdirSync(e).forEach((n=>f(i.join(e,n),t))),!s)return t.rmdirSync(e,t);{const n=Date.now();do{try{return t.rmdirSync(e,t)}catch{}}while(Date.now()-n<500)}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=f},2733:(e,t,n)=>{"use strict";const r=n(7749),i=n(1017),o=n(3837);function s(e,t,n){const i=n.dereference?e=>r.stat(e,{bigint:!0}):e=>r.lstat(e,{bigint:!0});return Promise.all([i(e),i(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}function a(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function c(e,t){const n=i.resolve(e).split(i.sep).filter((e=>e)),r=i.resolve(t).split(i.sep).filter((e=>e));return n.reduce(((e,t,n)=>e&&r[n]===t),!0)}function u(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,n,r,l){o.callbackify(s)(e,t,r,((r,o)=>{if(r)return l(r);const{srcStat:s,destStat:d}=o;if(d){if(a(s,d)){const r=i.basename(e),o=i.basename(t);return"move"===n&&r!==o&&r.toLowerCase()===o.toLowerCase()?l(null,{srcStat:s,destStat:d,isChangingCase:!0}):l(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!d.isDirectory())return l(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!s.isDirectory()&&d.isDirectory())return l(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return s.isDirectory()&&c(e,t)?l(new Error(u(e,t,n))):l(null,{srcStat:s,destStat:d})}))},checkPathsSync:function(e,t,n,o){const{srcStat:s,destStat:l}=function(e,t,n){let i;const o=n.dereference?e=>r.statSync(e,{bigint:!0}):e=>r.lstatSync(e,{bigint:!0}),s=o(e);try{i=o(t)}catch(e){if("ENOENT"===e.code)return{srcStat:s,destStat:null};throw e}return{srcStat:s,destStat:i}}(e,t,o);if(l){if(a(s,l)){const r=i.basename(e),o=i.basename(t);if("move"===n&&r!==o&&r.toLowerCase()===o.toLowerCase())return{srcStat:s,destStat:l,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!l.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&l.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&c(e,t))throw new Error(u(e,t,n));return{srcStat:s,destStat:l}},checkParentPaths:function e(t,n,o,s,c){const l=i.resolve(i.dirname(t)),d=i.resolve(i.dirname(o));if(d===l||d===i.parse(d).root)return c();r.stat(d,{bigint:!0},((r,i)=>r?"ENOENT"===r.code?c():c(r):a(n,i)?c(new Error(u(t,o,s))):e(t,n,d,s,c)))},checkParentPathsSync:function e(t,n,o,s){const c=i.resolve(i.dirname(t)),l=i.resolve(i.dirname(o));if(l===c||l===i.parse(l).root)return;let d;try{d=r.statSync(l,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(a(n,d))throw new Error(u(t,o,s));return e(t,n,l,s)},isSrcSubdir:c,areIdentical:a}},318:(e,t,n)=>{"use strict";const r=n(77);e.exports={utimesMillis:function(e,t,n,i){r.open(e,"r+",((e,o)=>{if(e)return i(e);r.futimes(o,t,n,(e=>{r.close(o,(t=>{i&&i(e||t)}))}))}))},utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},7645:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var n={__proto__:t(e)};else n=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})),n};var t=Object.getPrototypeOf||function(e){return e.__proto__}},77:(e,t,n)=>{var r,i,o=n(7147),s=n(2161),a=n(8520),c=n(7645),u=n(3837);function l(e,t){Object.defineProperty(e,r,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var d,h=function(){};if(u.debuglog?h=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[r]){var f=global[r]||[];l(o,f),o.close=function(e){function t(t,n){return e.call(o,t,(function(e){e||g(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),g()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(o[r]),n(9491).equal(o[r].length,0)}))}function p(e){s(e),e.gracefulify=p,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){return"function"==typeof n&&(r=n,n=null),function e(n,r,i,o){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof i&&i.apply(this,arguments):m([e,[n,r,i],t,o||Date.now(),Date.now()])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,o,s){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):m([e,[t,r,i,o],n,s||Date.now(),Date.now()])}))}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,s){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):m([e,[t,n,i,o],r,s||Date.now(),Date.now()])}))}(e,t,n,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,n,r){return"function"==typeof n&&(r=n,n=0),function e(t,n,r,o,s){return i(t,n,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):m([e,[t,n,r,o],i,s||Date.now(),Date.now()])}))}(e,t,n,r)});var o=e.readdir;e.readdir=function(e,t,n){"function"==typeof t&&(n=t,t=null);var r=c.test(process.version)?function(e,t,n,r){return o(e,i(e,t,n,r))}:function(e,t,n,r){return o(e,t,i(e,t,n,r))};return r(e,t,n);function i(e,t,n,i){return function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(s&&s.sort&&s.sort(),"function"==typeof n&&n.call(this,o,s)):m([r,[e,t,n],o,i||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var u=a(e);g=u.ReadStream,y=u.WriteStream}var l=e.ReadStream;l&&(g.prototype=Object.create(l.prototype),g.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var d=e.WriteStream;d&&(y.prototype=Object.create(d.prototype),y.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var h=g;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var f=y;function g(e,t){return this instanceof g?(l.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function y(e,t){return this instanceof y?(d.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return f},set:function(e){f=e},enumerable:!0,configurable:!0});var v=e.open;function b(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i,o){return v(t,n,r,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):m([e,[t,n,r,i],s,o||Date.now(),Date.now()])}))}(e,t,n,r)}return e.open=b,e}function m(e){h("ENQUEUE",e[0].name,e[1]),o[r].push(e),y()}function g(){for(var e=Date.now(),t=0;t<o[r].length;++t)o[r][t].length>2&&(o[r][t][3]=e,o[r][t][4]=e);y()}function y(){if(clearTimeout(d),d=void 0,0!==o[r].length){var e=o[r].shift(),t=e[0],n=e[1],i=e[2],s=e[3],a=e[4];if(void 0===s)h("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-s>=6e4){h("TIMEOUT",t.name,n);var c=n.pop();"function"==typeof c&&c.call(null,i)}else{var u=Date.now()-a,l=Math.max(a-s,1);u>=Math.min(1.2*l,100)?(h("RETRY",t.name,n),t.apply(null,n.concat([s]))):o[r].push(e)}void 0===d&&(d=setTimeout(y,0))}}global[r]||l(global,o[r]),e.exports=p(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=p(o),o.__patched=!0)},8520:(e,t,n)=>{var r=n(2781).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()})):process.nextTick((function(){o._read()}))},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2161:(e,t,n)=>{var r=n(2057),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){function t(t){return t?function(n,r,i){return t.call(e,n,r,(function(e){u(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function n(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!u(e))throw e}}:t}function i(t){return t?function(n,r,i,o){return t.call(e,n,r,i,(function(e){u(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function o(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!u(e))throw e}}:t}function a(t){return t?function(n,r,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,o):t.call(e,n,o)}:t}function c(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function u(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var l;r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){t?i&&i(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,n){var i,o=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e),e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,(function(t,r){t?o&&o(t):e.futimes(r,n,i,(function(t){e.close(r,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,i){var o,s=e.openSync(t,r.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):e.futimes&&(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){}),"win32"===s&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function n(n,r,i){var o=Date.now(),s=0;t(n,r,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(r,(function(e,o){e&&"ENOENT"===e.code?t(n,r,a):i(c)}))}),s),void(s<100&&(s+=10));i&&i(c)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function n(n,r,i,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,d,h){if(l&&"EAGAIN"===l.code&&u<10)return u++,t.call(e,n,r,i,o,s,c);a.apply(this,arguments)}}return t.call(e,n,r,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(l=e.readSync,function(t,n,r,i,o){for(var s=0;;)try{return l.call(e,t,n,r,i,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}})}},5923:(e,t,n)=>{var r=n(9796),i=n(335),o=n(4650),s=n(4850),a=n(4),c=n(5197),u=function(e){return void 0===e&&(e=3),i({newline:!1,maxBuffer:10},(function(t,n){if(e<0)return n(new Error("Maximum recursion reached"));switch(function(e){return a(e)?1:c(e)?2:0}(t)){case 1:n(null,s(r.createGunzip(),u(e-1)));break;case 2:n(null,s(r.createInflate(),u(e-1)));break;default:n(null,o())}}))};e.exports=u},4378:(e,t,n)=>{try{var r=n(3837);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(5717)}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},9425:(e,t,n)=>{"use strict";const r=n(7147),{stat:i}=r.promises,o=n(1017),s=n(8218),{inherits:a}=n(3837),{EventEmitter:c}=n(2361),u=n(4397),l=n(263),d=n(8369);function h(e,t){const n=o.basename(e.replace(/\.bz2/,""));this._from=e,this._to=o.join(t,n),this._i=0,this._n=0,this._percent=0,this._percentPrev=0}a(h,c),e.exports=(e,t)=>{const n=new h(e,t);return process.nextTick((()=>{n._start()})),n},h.prototype._start=async function(){const e=this._from,t=this._to,[n,a]=await d(i,e);if(n)return this.emit("error",n);if(!a.size)return this.emit("error",Error("archive is empty"));this._n=a.size;const c=s(),l=r.createReadStream(e),h=r.createWriteStream(t),f=this.getProgressStream(),[p]=await d(u,[l,f,c,h]);if(p)return this.emit("error",p);this.emit("file",o.basename(t)),this.emit("end")},h.prototype.getProgressStream=function(){return l(((e,t,n)=>{this._i+=e.length,this._progress(),n(null,e)}))},h.prototype._progress=function(){const e=Math.round(100*this._i/this._n);this._percent=e,e!==this._percentPrev&&(this._percentPrev=e,this.emit("progress",e))}},9691:(e,t,n)=>{"use strict";const r=n(7147),{stat:i}=r.promises,o=n(1017),s=n(9796),{inherits:a}=n(3837),{EventEmitter:c}=n(2361),u=n(4397),l=n(263),d=n(8369);function h(e,t){c.call(this);const n=o.basename(e.replace(/\.gz/,""));this._from=e,this._to=o.join(t,n),this._i=0,this._n=0,this._percent=0,this._percentPrev=0}a(h,c),e.exports=(e,t)=>{const n=new h(e,t);return process.nextTick((()=>{n._start()})),n},h.prototype._start=async function(){const e=this._from,t=this._to,[n,a]=await d(i,e);if(n)return this.emit("error",n);if(!a.size)return this.emit("error",Error("archive is empty"));this._n=a.size;const c=s.createGunzip(),l=r.createReadStream(e),h=r.createWriteStream(t),f=this.getProgressStream(),[p]=await d(u,[l,f,c,h]);if(p)return this.emit("error",p);this.emit("file",o.basename(t)),this.emit("end")},h.prototype.getProgressStream=function(){return l(((e,t,n)=>{this._i+=e.length,this._progress(),n(null,e)}))},h.prototype._progress=function(){const e=Math.round(100*this._i/this._n);this._percent=e,e!==this._percentPrev&&(this._percentPrev=e,this.emit("progress",e))}},4337:(e,t,n)=>{"use strict";const r=n(1017),i=n(3837),o=n(2282),s=n(9383),a=n(2141),c=n(9691),u=n(9425),{EventEmitter:l}=n(2361);function d(e,t){this._from=e,this._to=t,l.call(this)}i.inherits(d,l),e.exports=(e,t)=>{!function(e,t){if("string"!=typeof e)throw Error("from should be a string!");if("string"!=typeof t)throw Error("to should be a string!")}(e,t);const n=new d(e,t);return process.nextTick((()=>{n._start()})),n},d.prototype._start=function(){const e=this._from,t=this._to,n=r.extname(e),i=Error(`Not supported archive type: "${n}"`),l=/\.zip/.test(d=e)?o.extract:/\.(tar\.gz|tgz|tar)$/.test(d)?s.extract:/\.(tar\.bz2|tbz2|tar)$/.test(d)?a:/\.gz/.test(d)?c:/\.bz2/.test(d)?u:void 0;var d;if(!l)return this.emit("error",i);l(e,t).on("error",(e=>{this.emit("error",e)})).on("progress",(e=>{this.emit("progress",e)})).on("file",(e=>{this.emit("file",e)})).on("end",(()=>{this.emit("end")}))}},7966:e=>{"use strict";const t={};function n(e,n,r){r||(r=Error);class i extends r{constructor(e,t,r){super(function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(e,t,r))}}i.prototype.name=r.name,i.prototype.code=e,t[e]=i}function r(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map((e=>String(e))),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){let i;var o;let s;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s=`The ${e} ${i} ${r(t,"type")}`;else{s=`The "${e}" ${"number"!=typeof c&&(c=0),c+".".length>(a=e).length||-1===a.indexOf(".",c)?"argument":"property"} ${i} ${r(t,"type")}`}var a,c;return s+=". Received type "+typeof n,s}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},3914:(e,t,n)=>{"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(6348),o=n(496);n(4378)(u,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},7120:(e,t,n)=>{"use strict";e.exports=i;var r=n(2966);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(4378)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},6348:(e,t,n)=>{"use strict";var r;e.exports=R,R.ReadableState=C,n(2361).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},s=n(7578),a=n(4300).Buffer,c=global.Uint8Array||function(){},u=n(3837);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,h,f=n(5009),p=n(9045),m=n(1214).getHighWaterMark,g=n(7966).q,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(4378)(R,s);var _=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function C(e,t,i){r=r||n(3914),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=n(2553).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function R(e){if(r=r||n(3914),!(this instanceof R))return new R(e);var t=this instanceof r;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function T(e,t,n,r,o){i("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}}(e,u);else if(o||(s=function(e,t){var n,r;return r=t,a.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t)),n}(u,t)),s)_(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r)u.endEmitted?_(e,new w):E(e,u,t,!0);else if(u.ended)_(e,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?E(e,u,t,!1):P(e,u)):E(e,u,t,!1)}else r||(u.reading=!1,P(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),P(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=p.destroy,R.prototype._undestroy=p.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),T(this,e,t,!1,n)},R.prototype.unshift=function(e){return T(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){l||(l=n(2553).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var k=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(O,e))}function O(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function P(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(i("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){i("readable nexttick read 0"),e.read(0)}function L(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(q,t,e))}function q(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function H(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}R.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):x(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},R.prototype._read=function(e){_(this,new b("_read()"))},R.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,i("pipe count=%d opts=%j",r.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?p:a;function a(){i("onend"),e.end()}r.endEmitted?process.nextTick(s):n.once("end",s),e.on("unpipe",(function t(o,s){i("onunpipe"),o===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",h),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",a),n.removeListener("end",p),n.removeListener("data",l),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",c);var u=!1;function l(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==H(r.pipes,e))&&!u&&(i("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function d(t){i("onerror",t),p(),e.removeListener("error",d),0===o(e,"error")&&_(e,t)}function h(){e.removeListener("finish",f),p()}function f(){i("onfinish"),e.removeListener("close",h),p()}function p(){i("unpipe"),n.unpipe(e)}return n.on("data",l),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",d),e.once("close",h),e.once("finish",f),e.emit("pipe",n),r.flowing||(i("pipe resume"),n.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=H(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},R.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,i("on readable",r.length,r.reading),r.length?x(this):r.reading||process.nextTick(F,this))),n},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(N,this),n},R.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(N,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){i("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(1975)),d(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=A,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===h&&(h=n(9808)),h(R,e,t)})},2966:(e,t,n)=>{"use strict";e.exports=l;var r=n(7966).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(3914);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(4378)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},496:(e,t,n)=>{"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=R,R.WritableState=C;var o,s={deprecate:n(1159)},a=n(7578),c=n(4300).Buffer,u=global.Uint8Array||function(){},l=n(9045),d=n(1214).getHighWaterMark,h=n(7966).q,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function S(){}function C(e,t,o){i=i||n(3914),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(O,e,t),e._writableState.errorEmitted=!0,_(e,r)):(i(r),e._writableState.errorEmitted=!0,_(e,r),O(e,t))}(e,n,r,t,i);else{var o=D(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),r?process.nextTick(E,e,n,o,i):E(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function R(e){var t=this instanceof(i=i||n(3914));if(!t&&!o.call(R,this))return new R(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function T(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),O(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,T(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,d=n.callback;if(T(e,t,!1,t.objectMode?1:u.length,u,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var n=D(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(4378)(R,a),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===R&&e&&e._writableState instanceof C}})):o=function(e){return e instanceof this},R.prototype.pipe=function(){_(this,new g)},R.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,c.isBuffer(r)||r instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=S),i.ending?function(e,t){var n=new b;_(e,n),process.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i;return null===n?i=new v:"string"==typeof n||t.objectMode||(i=new f("chunk",["string","Buffer"],n)),!i||(_(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,a,r,i,o);return u}(this,i,s,e,t,n)),o},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,n){n(new p("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=l.destroy,R.prototype._undestroy=l.undestroy,R.prototype._destroy=function(e,t){t(e)}},1975:(e,t,n)=>{"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(5935),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[s]=null,e[a]=null,t(f(n,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[c]?n(e[c]):t(f(void 0,!0))}))}));var n,r=this[l];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(f(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(f(i,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(y,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[l]=null,n[s]=null,n[a]=null,e(f(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[s]=null,n[a]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[l]=null,n[s]=null,n[a]=null,r(f(void 0,!0))),n[u]=!0})),e.on("readable",m.bind(null,n)),n}},5009:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(4300).Buffer,a=n(3837).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,r,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,s.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&o(t.prototype,n),e}()},9045:e=>{"use strict";function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,e)):process.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(n,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(n,o),i(e)):process.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},5935:(e,t,n)=>{"use strict";var r=n(7966).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",l),!1!==n.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}},9808:(e,t,n)=>{"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(7966).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){var r;if(t&&"function"==typeof t.next)r=t;else if(t&&t[Symbol.asyncIterator])r=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);r=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},n)),u=!1;function l(){return d.apply(this,arguments)}function d(){return(d=i((function*(){try{var e=yield r.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},2211:(e,t,n)=>{"use strict";var r,i=n(7966).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(5935)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){r||(r=e),e&&s.forEach(u),o||(s.forEach(u),i(r))}))}));return t.reduce(l)}},1214:(e,t,n)=>{"use strict";var r=n(7966).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},7578:(e,t,n)=>{e.exports=n(2781)},1779:(e,t,n)=>{var r=n(2781);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(6348)).Stream=r||t,t.Readable=t,t.Writable=n(496),t.Duplex=n(3914),t.Transform=n(2966),t.PassThrough=n(7120),t.finished=n(5935),t.pipeline=n(2211))},263:(e,t,n)=>{const{Transform:r}=n(1779);function i(e){return(t,n,r)=>("function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=(e,t,n)=>n(null,e)),"function"!=typeof r&&(r=null),e(t,n,r))}const o=i(((e,t,n)=>{const i=new r(e);return i._transform=t,n&&(i._flush=n),i})),s=i(((e,t,n)=>{function i(o){if(!(this instanceof i))return new i(o);this.options=Object.assign({},e,o),r.call(this,this.options),this._transform=t,n&&(this._flush=n)}var o,s;return s=r,(o=i).super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i})),a=i((function(e,t,n){const i=new r(Object.assign({objectMode:!0,highWaterMark:16},e));return i._transform=t,n&&(i._flush=n),i}));e.exports=o,e.exports.ctor=s,e.exports.obj=a},3482:e=>{"use strict";e.exports=function(e){return!(!e||e.length<3)&&66===e[0]&&90===e[1]&&104===e[2]}},5197:e=>{"use strict";e.exports=function(e){return!(!e||e.length<2||120!==e[0]||1!==e[1]&&156!==e[1]&&218!==e[1])}},4:e=>{"use strict";e.exports=function(e){return!(!e||e.length<3)&&31===e[0]&&139===e[1]&&8===e[2]}},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},9383:(e,t,n)=>{"use strict";const r=n(7147),i=n(1017),o=n(9796),s=n(5923),{inherits:a}=n(3837),c=n(5175),u=n(9491),{EventEmitter:l}=n(2361),d=n(6420),h=n(5108),f=n(4397),p=n(8369),{unlink:m}=r.promises;function g(e,t,n){u("string"==typeof e,"from should be a string!"),u(/string|object/.test(typeof t),"to should be string or object!"),arguments.length>2&&u(Array.isArray(n),"files should be an array!")}function y(e){return function(e){if(!/^(pack|extract)$/.test(e))throw Error("operations: pack or extract only!")}(e),(t,n,r)=>new v(e,t,n,r)}function v(e,t,n,r){"pack"===e?g(t,n,r):g(t,n),process.nextTick((()=>{switch(l.call(this),this._i=0,this._n=0,this._percent=0,this._percentPrev=0,this._from=t,this._to=n,e){case"pack":if(this._names=r.slice(),!r.length)return this._emitError(Error("Nothing to pack!"));this._parallel(t,r,(()=>{if(!this._wasError)return this._abort?this.emit("end"):void this._pack().catch(console.log)}));break;case"extract":this._parse(t,(e=>e?this._emitError(e):this._n?this._extract():this._emitError(Error("No entries found"))))}}))}a(v,l),e.exports=y,e.exports.pack=y("pack"),e.exports.extract=y("extract"),v.prototype.abort=function(){this._abort=!0},v.prototype._emitError=function(e){this._wasError=!0,this.emit("error",e)},v.prototype._parallel=function(e,t,n){let r=t.length;const o=()=>{--r||n()};for(const n of t){const t=i.join(e,n);this._findFiles(t,o)}},v.prototype._findFiles=function(e,t){const n=c(e),r=()=>{++this._n};n.on("file",r),n.on("error",(e=>{this._emitError(e)})),n.on("directory",r),n.on("link",r),n.on("end",t)},v.prototype._pack=async function(){this.emit("start");const e=this._from,t=this._to,n="object"==typeof t?t:r.createWriteStream(t),i=o.createGzip(),s=d.pack(e,{entries:this._names,map:e=>(this._progress(),this.emit("file",e.name),e)}),[a]=await p(f,[s,i,n]);return a?this._emitError(a):this._abort?void await this._unlink(t):this.emit("end")},v.prototype._unlink=async function(e){const[t]=await p(m,e);if(t)return this._emitError(t);this.emit("end")},v.prototype._extract=async function(){this.emit("start");const e=this._from,t=this._to,n=r.createReadStream(e),i=s(),o=d.extract(t);o.on("entry",(e=>{this._progress(),this.emit("file",e.name)})),o.on("finish",(()=>{this.emit("end")}));const[a]=await p(f,[n,i,o]);a&&this._emitError(a)},v.prototype._parse=async function(e,t){const n=r.createReadStream(e),i=s(),o=h.extract();o.on("entry",((e,t,n)=>{t.on("end",(()=>{++this._n,n()})),t.resume()})),o.on("finish",t);const[a]=await p(f,[n,i,o]);a&&t(a)},v.prototype._progress=function(){++this._i;const e=Math.round(100*this._i/this._n);this._percent=e,e!==this._percentPrev&&(this._percentPrev=e,this.emit("progress",e))}},7710:(e,t,n)=>{"use strict";const{Buffer:r}=n(4300),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){const r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},o.prototype._reverseOffset=function(e){const t=e[0];let n=e[1];for(let e=0;e<t;e++)n+=this._bufs[e].length;return n},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length)return e||r.alloc(0);if(i<=0)return e||r.alloc(0);const o=!!e,s=this._offset(n),a=i-n;let c=a,u=o&&t||0,l=s[1];if(0===n&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(c<=this._bufs[s[0]].length-l)return o?this._bufs[s[0]].copy(e,t,l,l+c):this._bufs[s[0]].slice(l,l+c);o||(e=r.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){const n=this._bufs[t].length-l;if(!(c>n)){this._bufs[t].copy(e,u,l,l+c),u+=n;break}this._bufs[t].copy(e,u,l),u+=n,c-=n,l&&(l=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},o.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;)if(t.length-s>=e.length){const n=t.indexOf(e,s);if(-1!==n)return this._reverseOffset([o,n]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(n=0){return this.slice(n,n+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},9438:(e,t,n)=>{"use strict";const r=n(7313).Duplex,i=n(4378),o=n(7710);function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),r.call(this)}i(s,r),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=o},9911:e=>{"use strict";const t={};function n(e,n,r){r||(r=Error);class i extends r{constructor(e,t,r){super(function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(e,t,r))}}i.prototype.name=r.name,i.prototype.code=e,t[e]=i}function r(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map((e=>String(e))),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){let i;var o;let s;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s=`The ${e} ${i} ${r(t,"type")}`;else{s=`The "${e}" ${"number"!=typeof c&&(c=0),c+".".length>(a=e).length||-1===a.indexOf(".",c)?"argument":"property"} ${i} ${r(t,"type")}`}var a,c;return s+=". Received type "+typeof n,s}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},965:(e,t,n)=>{"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(8924),o=n(4442);n(4378)(u,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},7257:(e,t,n)=>{"use strict";e.exports=i;var r=n(6783);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(4378)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},8924:(e,t,n)=>{"use strict";var r;e.exports=R,R.ReadableState=C,n(2361).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},s=n(5536),a=n(4300).Buffer,c=global.Uint8Array||function(){},u=n(3837);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,h,f=n(1681),p=n(326),m=n(9659).getHighWaterMark,g=n(9911).q,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(4378)(R,s);var _=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function C(e,t,i){r=r||n(965),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=n(2553).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function R(e){if(r=r||n(965),!(this instanceof R))return new R(e);var t=this instanceof r;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function T(e,t,n,r,o){i("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}}(e,u);else if(o||(s=function(e,t){var n,r;return r=t,a.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t)),n}(u,t)),s)_(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r)u.endEmitted?_(e,new w):E(e,u,t,!0);else if(u.ended)_(e,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?E(e,u,t,!1):P(e,u)):E(e,u,t,!1)}else r||(u.reading=!1,P(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),P(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=p.destroy,R.prototype._undestroy=p.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),T(this,e,t,!1,n)},R.prototype.unshift=function(e){return T(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){l||(l=n(2553).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var k=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(O,e))}function O(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function P(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(i("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){i("readable nexttick read 0"),e.read(0)}function L(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(q,t,e))}function q(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function H(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}R.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):x(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},R.prototype._read=function(e){_(this,new b("_read()"))},R.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,i("pipe count=%d opts=%j",r.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?p:a;function a(){i("onend"),e.end()}r.endEmitted?process.nextTick(s):n.once("end",s),e.on("unpipe",(function t(o,s){i("onunpipe"),o===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",h),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",a),n.removeListener("end",p),n.removeListener("data",l),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",c);var u=!1;function l(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==H(r.pipes,e))&&!u&&(i("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function d(t){i("onerror",t),p(),e.removeListener("error",d),0===o(e,"error")&&_(e,t)}function h(){e.removeListener("finish",f),p()}function f(){i("onfinish"),e.removeListener("close",h),p()}function p(){i("unpipe"),n.unpipe(e)}return n.on("data",l),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",d),e.once("close",h),e.once("finish",f),e.emit("pipe",n),r.flowing||(i("pipe resume"),n.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=H(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},R.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,i("on readable",r.length,r.reading),r.length?x(this):r.reading||process.nextTick(F,this))),n},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(N,this),n},R.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(N,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){i("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(6711)),d(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=A,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===h&&(h=n(2300)),h(R,e,t)})},6783:(e,t,n)=>{"use strict";e.exports=l;var r=n(9911).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(965);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(4378)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},4442:(e,t,n)=>{"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=R,R.WritableState=C;var o,s={deprecate:n(1159)},a=n(5536),c=n(4300).Buffer,u=global.Uint8Array||function(){},l=n(326),d=n(9659).getHighWaterMark,h=n(9911).q,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function S(){}function C(e,t,o){i=i||n(965),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(O,e,t),e._writableState.errorEmitted=!0,_(e,r)):(i(r),e._writableState.errorEmitted=!0,_(e,r),O(e,t))}(e,n,r,t,i);else{var o=D(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),r?process.nextTick(E,e,n,o,i):E(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function R(e){var t=this instanceof(i=i||n(965));if(!t&&!o.call(R,this))return new R(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function T(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),O(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,T(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,d=n.callback;if(T(e,t,!1,t.objectMode?1:u.length,u,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var n=D(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(4378)(R,a),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===R&&e&&e._writableState instanceof C}})):o=function(e){return e instanceof this},R.prototype.pipe=function(){_(this,new g)},R.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,c.isBuffer(r)||r instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=S),i.ending?function(e,t){var n=new b;_(e,n),process.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i;return null===n?i=new v:"string"==typeof n||t.objectMode||(i=new f("chunk",["string","Buffer"],n)),!i||(_(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,a,r,i,o);return u}(this,i,s,e,t,n)),o},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,n){n(new p("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=l.destroy,R.prototype._undestroy=l.undestroy,R.prototype._destroy=function(e,t){t(e)}},6711:(e,t,n)=>{"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(3966),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[s]=null,e[a]=null,t(f(n,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[c]?n(e[c]):t(f(void 0,!0))}))}));var n,r=this[l];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(f(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(f(i,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(y,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[l]=null,n[s]=null,n[a]=null,e(f(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[s]=null,n[a]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[l]=null,n[s]=null,n[a]=null,r(f(void 0,!0))),n[u]=!0})),e.on("readable",m.bind(null,n)),n}},1681:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(4300).Buffer,a=n(3837).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,r,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,s.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&o(t.prototype,n),e}()},326:e=>{"use strict";function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,e)):process.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(n,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(n,o),i(e)):process.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},3966:(e,t,n)=>{"use strict";var r=n(9911).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",l),!1!==n.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}},2300:(e,t,n)=>{"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(9911).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){var r;if(t&&"function"==typeof t.next)r=t;else if(t&&t[Symbol.asyncIterator])r=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);r=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},n)),u=!1;function l(){return d.apply(this,arguments)}function d(){return(d=i((function*(){try{var e=yield r.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},7162:(e,t,n)=>{"use strict";var r,i=n(9911).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(3966)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){r||(r=e),e&&s.forEach(u),o||(s.forEach(u),i(r))}))}));return t.reduce(l)}},9659:(e,t,n)=>{"use strict";var r=n(9911).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},5536:(e,t,n)=>{e.exports=n(2781)},7313:(e,t,n)=>{var r=n(2781);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(8924)).Stream=r||t,t.Readable=t,t.Writable=n(4442),t.Duplex=n(965),t.Transform=n(6783),t.PassThrough=n(7257),t.finished=n(3966),t.pipeline=n(7162))},8722:(e,t,n)=>{var r=n(3837),i=n(9438),o=n(671),s=n(7313).Writable,a=n(7313).PassThrough,c=function(){},u=function(e){return(e&=511)&&512-e},l=function(e,t){this._parent=e,this.offset=t,a.call(this,{autoDestroy:!1})};r.inherits(l,a),l.prototype.destroy=function(e){this._parent.destroy(e)};var d=function(e){if(!(this instanceof d))return new d(e);s.call(this,e),e=e||{},this._offset=0,this._buffer=i(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,n=t._buffer,r=function(){t._continue()},a=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||r()},h=function(){t._stream=null;var e=u(t._header.size);e?t._parse(e,f):t._parse(512,v),t._locked||r()},f=function(){t._buffer.consume(u(t._header.size)),t._parse(512,v),r()},p=function(){var e=t._header.size;t._paxGlobal=o.decodePax(n.slice(0,e)),n.consume(e),h()},m=function(){var e=t._header.size;t._pax=o.decodePax(n.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),n.consume(e),h()},g=function(){var r=t._header.size;this._gnuLongPath=o.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),h()},y=function(){var r=t._header.size;this._gnuLongLinkPath=o.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),h()},v=function(){var i,s=t._offset;try{i=t._header=o.decode(n.slice(0,512),e.filenameEncoding,e.allowUnknownFormat)}catch(e){t.emit("error",e)}return n.consume(512),i?"gnu-long-path"===i.type?(t._parse(i.size,g),void r()):"gnu-long-link-path"===i.type?(t._parse(i.size,y),void r()):"pax-global-header"===i.type?(t._parse(i.size,p),void r()):"pax-header"===i.type?(t._parse(i.size,m),void r()):(t._gnuLongPath&&(i.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(i.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=i=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(i,t._pax),t._pax=null),t._locked=!0,i.size&&"directory"!==i.type?(t._stream=new l(t,s),t.emit("entry",i,t._stream,a),t._parse(i.size,h),void r()):(t._parse(512,v),void t.emit("entry",i,function(e,t){var n=new l(e,t);return n.end(),n}(t,s),a))):(t._parse(512,v),void r())};this._onheader=v,this._parse(512,v)};r.inherits(d,s),d.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},d.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},d.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,e):e()}},d.prototype._write=function(e,t,n){if(!this._destroyed){var r=this._stream,i=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,r?r.write(e,n):(i.append(e),n());this._cb=n,this._missing=0;var s=null;e.length>o&&(s=e.slice(o),e=e.slice(0,o)),r?r.end(e):i.append(e),this._overflow=s,this._onparse()}},d.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=d},671:(e,t)=>{var n=Buffer.alloc,r="0".charCodeAt(0),i=Buffer.from("ustar\0","binary"),o=Buffer.from("00","binary"),s=Buffer.from("ustar ","binary"),a=Buffer.from(" \0","binary"),c=parseInt("7777",8),u=function(e,t,n,r){for(;n<r;n++)if(e[n]===t)return n;return r},l=function(e){for(var t=256,n=0;n<148;n++)t+=e[n];for(var r=156;r<512;r++)t+=e[r];return t},d=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "},h=function(e,t,n){if(128&(e=e.slice(t,t+n))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var n=[],r=e.length-1;r>0;r--){var i=e[r];t?n.push(i):n.push(255-i)}var o=0,s=n.length;for(r=0;r<s;r++)o+=n[r]*Math.pow(256,r);return t?o:-1*o}(e);for(;t<e.length&&32===e[t];)t++;for(var r=(i=u(e,32,t,e.length),o=e.length,s=e.length,"number"!=typeof i?s:(i=~~i)>=o?o:i>=0||(i+=o)>=0?i:0);t<r&&0===e[t];)t++;return r===t?0:parseInt(e.slice(t,r).toString(),8);var i,o,s},f=function(e,t,n,r){return e.slice(t,u(e,0,t,t+n)).toString(r)},p=function(e){var t=Buffer.byteLength(e),n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e};t.decodeLongPath=function(e,t){return f(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=p(" path="+e.name+"\n")),e.linkname&&(t+=p(" linkpath="+e.linkname+"\n"));var n=e.pax;if(n)for(var r in n)t+=p(" "+r+"="+n[r]+"\n");return Buffer.from(t)},t.decodePax=function(e){for(var t={};e.length;){for(var n=0;n<e.length&&32!==e[n];)n++;var r=parseInt(e.slice(0,n).toString(),10);if(!r)return t;var i=e.slice(n+1,r-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.slice(r)}return t},t.encode=function(e){var t=n(512),s=e.name,a="";if(5===e.typeflag&&"/"!==s[s.length-1]&&(s+="/"),Buffer.byteLength(s)!==s.length)return null;for(;Buffer.byteLength(s)>100;){var u=s.indexOf("/");if(-1===u)return null;a+=a?"/"+s.slice(0,u):s.slice(0,u),s=s.slice(u+1)}return Buffer.byteLength(s)>100||Buffer.byteLength(a)>155||e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(s),t.write(d(e.mode&c,6),100),t.write(d(e.uid,6),108),t.write(d(e.gid,6),116),t.write(d(e.size,11),124),t.write(d(e.mtime.getTime()/1e3|0,11),136),t[156]=r+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),i.copy(t,257),o.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(d(e.devmajor||0,6),329),t.write(d(e.devminor||0,6),337),a&&t.write(a,345),t.write(d(l(t),6),148),t)},t.decode=function(e,t,n){var o=0===e[156]?0:e[156]-r,c=f(e,0,100,t),u=h(e,100,8),d=h(e,108,8),p=h(e,116,8),m=h(e,124,12),g=h(e,136,12),y=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(o),v=0===e[157]?null:f(e,157,100,t),b=f(e,265,32),w=f(e,297,32),_=h(e,329,8),S=h(e,337,8),C=l(e);if(256===C)return null;if(C!==h(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===i.compare(e,257,263))e[345]&&(c=f(e,345,155,t)+"/"+c);else if(0===s.compare(e,257,263)&&0===a.compare(e,263,265));else if(!n)throw new Error("Invalid tar header: unknown format.");return 0===o&&c&&"/"===c[c.length-1]&&(o=5),{name:c,mode:u,uid:d,gid:p,size:m,mtime:new Date(1e3*g),type:y,linkname:v,uname:b,gname:w,devmajor:_,devminor:S}}},5108:(e,t,n)=>{t.extract=n(8722),t.pack=n(4990)},4990:(e,t,n)=>{var r=n(7268),i=n(2840),o=n(4378),s=Buffer.alloc,a=n(7313).Readable,c=n(7313).Writable,u=n(1576).StringDecoder,l=n(671),d=parseInt("755",8),h=parseInt("644",8),f=s(1024),p=function(){},m=function(e,t){(t&=511)&&e.push(f.slice(0,512-t))},g=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};o(g,c),g.prototype._write=function(e,t,n){if(this.written+=e.length,this._to.push(e))return n();this._to._drain=n},g.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this.linkname="",this._decoder=new u("utf-8"),this._destroyed=!1};o(y,c),y.prototype._write=function(e,t,n){this.linkname+=this._decoder.write(e),n()},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var v=function(){c.call(this),this._destroyed=!1};o(v,c),v.prototype._write=function(e,t,n){n(new Error("No body allowed for this entry"))},v.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var b=function(e){if(!(this instanceof b))return new b(e);a.call(this,e),this._drain=p,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o(b,a),b.prototype.entry=function(e,t,n){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(n=t,t=null),n||(n=p);var o=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&r.S_IFMT){case r.S_IFBLK:return"block-device";case r.S_IFCHR:return"character-device";case r.S_IFDIR:return"directory";case r.S_IFIFO:return"fifo";case r.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?d:h),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=Buffer.from(t)),Buffer.isBuffer(t)){e.size=t.length,this._encode(e);var s=this.push(t);return m(o,e.size),s?process.nextTick(n):this._drain=n,new v}if("symlink"===e.type&&!e.linkname){var a=new y;return i(a,(function(t){if(t)return o.destroy(),n(t);e.linkname=a.linkname,o._encode(e),n()})),a}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(n),new v;var c=new g(this);return this._stream=c,i(c,(function(t){return o._stream=null,t?(o.destroy(),n(t)):c.written!==e.size?(o.destroy(),n(new Error("size mismatch"))):(m(o,e.size),o._finalizing&&o.finalize(),void n())})),c}},b.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(f),this.push(null))},b.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},b.prototype._encode=function(e){if(!e.pax){var t=l.encode(e);if(t)return void this.push(t)}this._encodePax(e)},b.prototype._encodePax=function(e){var t=l.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(l.encode(n)),this.push(t),m(this,t.length),n.size=e.size,n.type=e.type,this.push(l.encode(n))},b.prototype._read=function(e){var t=this._drain;this._drain=p,t()},e.exports=b},6813:(e,t,n)=>{let r;try{r=n(77)}catch(e){r=n(7147)}const i=n(8981),{stringify:o,stripBom:s}=n(6780),a={readFile:i.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,o=!("throws"in t)||t.throws;let a,c=await i.fromCallback(n.readFile)(e,t);c=s(c);try{a=JSON.parse(c,t?t.reviver:null)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,i=!("throws"in t)||t.throws;try{let r=n.readFileSync(e,t);return r=s(r),JSON.parse(r,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:i.fromPromise((async function(e,t,n={}){const s=n.fs||r,a=o(t,n);await i.fromCallback(s.writeFile)(e,a,n)})),writeFileSync:function(e,t,n={}){const i=n.fs||r,s=o(t,n);return i.writeFileSync(e,s,n)}};e.exports=a},6780:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:n=!0,replacer:r=null,spaces:i}={}){const o=n?t:"";return JSON.stringify(e,r,i).replace(/\n/g,t)+o},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},8565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{}class r extends n{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class i extends n{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class o extends n{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class s extends n{}class a extends n{constructor(e){super(`Invalid unit ${e}`)}}class c extends n{}class u extends n{constructor(){super("Zone is an abstract class")}}const l="numeric",d="short",h="long",f={year:l,month:l,day:l},p={year:l,month:d,day:l},m={year:l,month:d,day:l,weekday:d},g={year:l,month:h,day:l},y={year:l,month:h,day:l,weekday:h},v={hour:l,minute:l},b={hour:l,minute:l,second:l},w={hour:l,minute:l,second:l,timeZoneName:d},_={hour:l,minute:l,second:l,timeZoneName:h},S={hour:l,minute:l,hourCycle:"h23"},C={hour:l,minute:l,second:l,hourCycle:"h23"},R={hour:l,minute:l,second:l,hourCycle:"h23",timeZoneName:d},T={hour:l,minute:l,second:l,hourCycle:"h23",timeZoneName:h},E={year:l,month:l,day:l,hour:l,minute:l},k={year:l,month:l,day:l,hour:l,minute:l,second:l},D={year:l,month:d,day:l,hour:l,minute:l},x={year:l,month:d,day:l,hour:l,minute:l,second:l},O={year:l,month:d,day:l,weekday:d,hour:l,minute:l},P={year:l,month:h,day:l,hour:l,minute:l,timeZoneName:d},I={year:l,month:h,day:l,hour:l,minute:l,second:l,timeZoneName:d},N={year:l,month:h,day:l,weekday:h,hour:l,minute:l,timeZoneName:h},F={year:l,month:h,day:l,weekday:h,hour:l,minute:l,second:l,timeZoneName:h};class L{get type(){throw new u}get name(){throw new u}get ianaName(){return this.name}get isUniversal(){throw new u}offsetName(e,t){throw new u}formatOffset(e,t){throw new u}offset(e){throw new u}equals(e){throw new u}get isValid(){throw new u}}let M=null;class A extends L{static get instance(){return null===M&&(M=new A),M}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return xe(e,t,n)}formatOffset(e,t){return Ne(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let j={};const q={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let H={};class U extends L{static create(e){return H[e]||(H[e]=new U(e)),H[e]}static resetCache(){H={},j={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=U.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return xe(e,t,n,this.name)}formatOffset(e,t){return Ne(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=(r=this.name,j[r]||(j[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),j[r]);var r;let[i,o,s,a,c,u,l]=n.formatToParts?function(e,t){const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const{type:t,value:i}=n[e],o=q[t];"era"===t?r[o]=i:de(o)||(r[o]=parseInt(i,10))}return r}(n,t):function(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,o,s,a,c,u,l]=r;return[s,i,o,a,c,u,l]}(n,t);"BC"===a&&(i=1-Math.abs(i));let d=+t;const h=d%1e3;return d-=h>=0?h:1e3+h,(Ee({year:i,month:o,day:s,hour:24===c?0:c,minute:u,second:l,millisecond:0})-d)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let $={},B={};function W(e,t={}){const n=JSON.stringify([e,t]);let r=B[n];return r||(r=new Intl.DateTimeFormat(e,t),B[n]=r),r}let z={},V={},K=null;function G(e,t,n,r,i){const o=e.listingMode(n);return"error"===o?null:"en"===o?r(t):i(t)}class J{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:i,...o}=n;if(!t||Object.keys(o).length>0){const t={useGrouping:!1,...n};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=function(e,t={}){const n=JSON.stringify([e,t]);let r=z[n];return r||(r=new Intl.NumberFormat(e,t),z[n]=r),r}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return ve(this.floor?Math.floor(e):Se(e,3),this.padTo)}}class Z{constructor(e,t,n){let r;if(this.opts=n,e.zone.isUniversal){const t=e.offset/60*-1,i=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&U.create(i).valid?(r=i,this.dt=e):(r="UTC",n.timeZoneName?this.dt=e:this.dt=0===e.offset?e:Zn.fromMillis(e.ts+60*e.offset*1e3))}else"system"===e.zone.type?this.dt=e:(this.dt=e,r=e.zone.name);const i={...this.opts};i.timeZone=i.timeZone||r,this.dtf=W(t,i)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class Y{constructor(e,t,n){this.opts={style:"long",...n},!t&&pe()&&(this.rtf=function(e,t={}){const{base:n,...r}=t,i=JSON.stringify([e,r]);let o=V[i];return o||(o=new Intl.RelativeTimeFormat(e,t),V[i]=o),o}(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&o){const n="days"===e;switch(t){case 1:return n?"tomorrow":`next ${i[e][0]}`;case-1:return n?"yesterday":`last ${i[e][0]}`;case 0:return n?"today":`this ${i[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),c=1===a,u=i[e],l=r?c?u[1]:u[2]||u[1]:c?i[e][0]:e;return s?`${a} ${l} ago`:`in ${a} ${l}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class Q{static fromOpts(e){return Q.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,n,r=!1){const i=e||le.defaultLocale,o=i||(r?"en-US":K||(K=(new Intl.DateTimeFormat).resolvedOptions().locale,K)),s=t||le.defaultNumberingSystem,a=n||le.defaultOutputCalendar;return new Q(o,s,a,i)}static resetCache(){K=null,B={},z={},V={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n}={}){return Q.create(e,t,n)}constructor(e,t,n,r){const[i,o,s]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(-1===n)return[e];{let t,r;try{t=W(e).resolvedOptions(),r=e}catch(i){const o=e.substring(0,n);t=W(o).resolvedOptions(),r=o}const{numberingSystem:i,calendar:o}=t;return[r,i,o]}}(e);this.locale=i,this.numberingSystem=t||o||null,this.outputCalendar=n||s||null,this.intl=function(e,t,n){return n||t?(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?Q.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1,n=!0){return G(this,e,n,je,(()=>{const n=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=function(e){const t=[];for(let n=1;n<=12;n++){const r=Zn.utc(2016,n,1);t.push(e(r))}return t}((e=>this.extract(e,n,"month")))),this.monthsCache[r][e]}))}weekdays(e,t=!1,n=!0){return G(this,e,n,$e,(()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function(e){const t=[];for(let n=1;n<=7;n++){const r=Zn.utc(2016,11,13+n);t.push(e(r))}return t}((e=>this.extract(e,n,"weekday")))),this.weekdaysCache[r][e]}))}meridiems(e=!0){return G(this,void 0,e,(()=>Be),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Zn.utc(2016,11,13,9),Zn.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e,t=!0){return G(this,e,t,Ke,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Zn.utc(-40,1,1),Zn.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,n){const r=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===n));return r?r.value:null}numberFormatter(e={}){return new J(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Z(e,this.intl,t)}relFormatter(e={}){return new Y(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const n=JSON.stringify([e,t]);let r=$[n];return r||(r=new Intl.ListFormat(e,t),$[n]=r),r}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let X=null;class ee extends L{static get utcInstance(){return null===X&&(X=new ee(0)),X}static instance(e){return 0===e?ee.utcInstance:new ee(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new ee(Oe(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Ne(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Ne(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Ne(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class te extends L{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ne(e,t){if(de(e)||null===e)return t;if(e instanceof L)return e;if("string"==typeof e){const n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?A.instance:"utc"===n||"gmt"===n?ee.utcInstance:ee.parseSpecifier(n)||U.create(e)}return he(e)?ee.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new te(e)}let re,ie=()=>Date.now(),oe="system",se=null,ae=null,ce=null,ue=60;class le{static get now(){return ie}static set now(e){ie=e}static set defaultZone(e){oe=e}static get defaultZone(){return ne(oe,A.instance)}static get defaultLocale(){return se}static set defaultLocale(e){se=e}static get defaultNumberingSystem(){return ae}static set defaultNumberingSystem(e){ae=e}static get defaultOutputCalendar(){return ce}static set defaultOutputCalendar(e){ce=e}static get twoDigitCutoffYear(){return ue}static set twoDigitCutoffYear(e){ue=e%100}static get throwOnInvalid(){return re}static set throwOnInvalid(e){re=e}static resetCaches(){Q.resetCache(),U.resetCache()}}function de(e){return void 0===e}function he(e){return"number"==typeof e}function fe(e){return"number"==typeof e&&e%1==0}function pe(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function me(e,t,n){if(0!==e.length)return e.reduce(((e,r)=>{const i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function ge(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ye(e,t,n){return fe(e)&&e>=t&&e<=n}function ve(e,t=2){let n;return n=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),n}function be(e){return de(e)||null===e||""===e?void 0:parseInt(e,10)}function we(e){return de(e)||null===e||""===e?void 0:parseFloat(e)}function _e(e){if(!de(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Se(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function Ce(e){return e%4==0&&(e%100!=0||e%400==0)}function Re(e){return Ce(e)?366:365}function Te(e,t){const n=(r=t-1)-12*Math.floor(r/12)+1;var r;return 2===n?Ce(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Ee(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function ke(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===r?53:52}function De(e){return e>99?e:e>le.twoDigitCutoffYear?1900+e:2e3+e}function xe(e,t,n,r=null){const i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const s={timeZoneName:t,...o},a=new Intl.DateTimeFormat(n,s).formatToParts(i).find((e=>"timezonename"===e.type.toLowerCase()));return a?a.value:null}function Oe(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function Pe(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new c(`Invalid unit value ${e}`);return t}function Ie(e,t){const n={};for(const r in e)if(ge(e,r)){const i=e[r];if(null==i)continue;n[t(r)]=Pe(i)}return n}function Ne(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${ve(n,2)}:${ve(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${ve(n,2)}${ve(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Fe(e){return function(e,t){return["hour","minute","second","millisecond"].reduce(((t,n)=>(t[n]=e[n],t)),{})}(e)}const Le=["January","February","March","April","May","June","July","August","September","October","November","December"],Me=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ae=["J","F","M","A","M","J","J","A","S","O","N","D"];function je(e){switch(e){case"narrow":return[...Ae];case"short":return[...Me];case"long":return[...Le];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const qe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],He=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ue=["M","T","W","T","F","S","S"];function $e(e){switch(e){case"narrow":return[...Ue];case"short":return[...He];case"long":return[...qe];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Be=["AM","PM"],We=["Before Christ","Anno Domini"],ze=["BC","AD"],Ve=["B","A"];function Ke(e){switch(e){case"narrow":return[...Ve];case"short":return[...ze];case"long":return[...We];default:return null}}function Ge(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const Je={D:f,DD:p,DDD:g,DDDD:y,t:v,tt:b,ttt:w,tttt:_,T:S,TT:C,TTT:R,TTTT:T,f:E,ff:D,fff:P,ffff:N,F:k,FF:x,FFF:I,FFFF:F};class Ze{static create(e,t={}){return new Ze(e,t)}static parseFormat(e){let t=null,n="",r=!1;const i=[];for(let o=0;o<e.length;o++){const s=e.charAt(o);"'"===s?(n.length>0&&i.push({literal:r,val:n}),t=null,n="",r=!r):r||s===t?n+=s:(n.length>0&&i.push({literal:!1,val:n}),n=s,t=s)}return n.length>0&&i.push({literal:r,val:n}),i}static macroTokenToFormatOpts(e){return Je[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).formatToParts()}formatInterval(e,t={}){return this.loc.dtFormatter(e.start,{...this.opts,...t}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return ve(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,i=(t,n)=>this.loc.extract(e,t,n),o=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=(t,r)=>n?function(e,t){return je(t)[e.month-1]}(e,t):i(r?{month:t}:{month:t,day:"numeric"},"month"),a=(t,r)=>n?function(e,t){return $e(t)[e.weekday-1]}(e,t):i(r?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const n=Ze.macroTokenToFormatOpts(t);return n?this.formatWithSystemDefault(e,n):t},u=t=>n?function(e,t){return Ke(t)[e.year<0?0:1]}(e,t):i({era:t},"era");return Ge(Ze.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return n?function(e){return Be[e.hour<12?0:1]}(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return r?i({day:"numeric"},"day"):this.num(e.day);case"dd":return r?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return a("short",!0);case"cccc":return a("long",!0);case"ccccc":return a("narrow",!0);case"EEE":return a("short",!1);case"EEEE":return a("long",!1);case"EEEEE":return a("narrow",!1);case"L":return r?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return s("short",!0);case"LLLL":return s("long",!0);case"LLLLL":return s("narrow",!0);case"M":return r?i({month:"numeric"},"month"):this.num(e.month);case"MM":return r?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return s("short",!1);case"MMMM":return s("long",!1);case"MMMMM":return s("narrow",!1);case"y":return r?i({year:"numeric"},"year"):this.num(e.year);case"yy":return r?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}}))}formatDurationFromString(e,t){const n=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=Ze.parseFormat(t),i=r.reduce(((e,{literal:t,val:n})=>t?e:e.concat(n)),[]);return Ge(r,(e=>t=>{const r=n(t);return r?this.num(e.get(r),t.length):t})(e.shiftTo(...i.map(n).filter((e=>e)))))}}class Ye{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Qe=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Xe(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function et(...e){return t=>e.reduce((([e,n,r],i)=>{const[o,s,a]=i(t,r);return[{...e,...o},s||n,a]}),[{},null,1]).slice(0,2)}function tt(e,...t){if(null==e)return[null,null];for(const[n,r]of t){const t=n.exec(e);if(t)return r(t)}return[null,null]}function nt(...e){return(t,n)=>{const r={};let i;for(i=0;i<e.length;i++)r[e[i]]=be(t[n+i]);return[r,null,n+i]}}const rt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,it=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ot=RegExp(`${it.source}(?:${rt.source}?(?:\\[(${Qe.source})\\])?)?`),st=RegExp(`(?:T${ot.source})?`),at=nt("weekYear","weekNumber","weekDay"),ct=nt("year","ordinal"),ut=RegExp(`${it.source} ?(?:${rt.source}|(${Qe.source}))?`),lt=RegExp(`(?: ${ut.source})?`);function dt(e,t,n){const r=e[t];return de(r)?n:be(r)}function ht(e,t){return[{hours:dt(e,t,0),minutes:dt(e,t+1,0),seconds:dt(e,t+2,0),milliseconds:_e(e[t+3])},null,t+4]}function ft(e,t){const n=!e[t]&&!e[t+1],r=Oe(e[t+1],e[t+2]);return[{},n?null:ee.instance(r),t+3]}function pt(e,t){return[{},e[t]?U.create(e[t]):null,t+1]}const mt=RegExp(`^T?${it.source}$`),gt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function yt(e){const[t,n,r,i,o,s,a,c,u]=e,l="-"===t[0],d=c&&"-"===c[0],h=(e,t=!1)=>void 0!==e&&(t||e&&l)?-e:e;return[{years:h(we(n)),months:h(we(r)),weeks:h(we(i)),days:h(we(o)),hours:h(we(s)),minutes:h(we(a)),seconds:h(we(c),"-0"===c),milliseconds:h(_e(u),d)}]}const vt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function bt(e,t,n,r,i,o,s){const a={year:2===t.length?De(be(t)):be(t),month:Me.indexOf(n)+1,day:be(r),hour:be(i),minute:be(o)};return s&&(a.second=be(s)),e&&(a.weekday=e.length>3?qe.indexOf(e)+1:He.indexOf(e)+1),a}const wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function _t(e){const[,t,n,r,i,o,s,a,c,u,l,d]=e,h=bt(t,i,r,n,o,s,a);let f;return f=c?vt[c]:u?0:Oe(l,d),[h,new ee(f)]}const St=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ct=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Rt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Tt(e){const[,t,n,r,i,o,s,a]=e;return[bt(t,i,r,n,o,s,a),ee.utcInstance]}function Et(e){const[,t,n,r,i,o,s,a]=e;return[bt(t,a,n,r,i,o,s),ee.utcInstance]}const kt=Xe(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,st),Dt=Xe(/(\d{4})-?W(\d\d)(?:-?(\d))?/,st),xt=Xe(/(\d{4})-?(\d{3})/,st),Ot=Xe(ot),Pt=et((function(e,t){return[{year:dt(e,t),month:dt(e,t+1,1),day:dt(e,t+2,1)},null,t+3]}),ht,ft,pt),It=et(at,ht,ft,pt),Nt=et(ct,ht,ft,pt),Ft=et(ht,ft,pt),Lt=et(ht),Mt=Xe(/(\d{4})-(\d\d)-(\d\d)/,lt),At=Xe(ut),jt=et(ht,ft,pt),qt={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Ht={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...qt},Ut={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...qt},$t=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Bt=$t.slice(0).reverse();function Wt(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Vt(r)}function zt(e,t,n,r,i){const o=e[i][n],s=t[n]/o,a=Math.sign(s)!==Math.sign(r[i])&&0!==r[i]&&Math.abs(s)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(s):Math.trunc(s);r[i]+=a,t[n]-=a*o}class Vt{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let n=t?Ut:Ht;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Q.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return Vt.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new c("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new Vt({values:Ie(e,Vt.normalizeUnit),loc:Q.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(he(e))return Vt.fromMillis(e);if(Vt.isDuration(e))return e;if("object"==typeof e)return Vt.fromObject(e);throw new c(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=function(e){return tt(e,[gt,yt])}(e);return n?Vt.fromObject(n,t):Vt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=function(e){return tt(e,[mt,Lt])}(e);return n?Vt.fromObject(n,t):Vt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the Duration is invalid");const n=e instanceof Ye?e:new Ye(e,t);if(le.throwOnInvalid)throw new o(n);return new Vt({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new a(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?Ze.create(this.loc,n).formatDurationFromString(this,e):"Invalid Duration"}toHuman(e={}){const t=$t.map((t=>{const n=this.values[t];return de(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(n)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Se(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const n=this.shiftTo("hours","minutes","seconds","milliseconds");let r="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(r+=".SSS"));let i=n.toFormat(r);return e.includePrefix&&(i="T"+i),i}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Vt.fromDurationLike(e),n={};for(const e of $t)(ge(t.values,e)||ge(this.values,e))&&(n[e]=t.get(e)+this.get(e));return Wt(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=Vt.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=Pe(e(this.values[n],n));return Wt(this,{values:t},!0)}get(e){return this[Vt.normalizeUnit(e)]}set(e){return this.isValid?Wt(this,{values:{...this.values,...Ie(e,Vt.normalizeUnit)}}):this}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:r}={}){return Wt(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:n})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return function(e,t){Bt.reduce(((n,r)=>de(t[r])?n:(n&&zt(e,t,n,t,r),r)),null)}(this.matrix,e),Wt(this,{values:e},!0)}rescale(){return this.isValid?Wt(this,{values:function(e){const t={};for(const[n,r]of Object.entries(e))0!==r&&(t[n]=r);return t}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>Vt.normalizeUnit(e)));const t={},n={},r=this.toObject();let i;for(const o of $t)if(e.indexOf(o)>=0){i=o;let e=0;for(const t in n)e+=this.matrix[t][o]*n[t],n[t]=0;he(r[o])&&(e+=r[o]);const s=Math.trunc(e);t[o]=s,n[o]=(1e3*e-1e3*s)/1e3;for(const e in r)$t.indexOf(e)>$t.indexOf(o)&&zt(this.matrix,r,e,t,o)}else he(r[o])&&(n[o]=r[o]);for(const e in n)0!==n[e]&&(t[i]+=e===i?n[e]:n[e]/this.matrix[i][e]);return Wt(this,{values:t},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return Wt(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const r of $t)if(t=this.values[r],n=e.values[r],!(void 0===t||0===t?void 0===n||0===n:t===n))return!1;var t,n;return!0}}const Kt="Invalid Interval";class Gt{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the Interval is invalid");const n=e instanceof Ye?e:new Ye(e,t);if(le.throwOnInvalid)throw new i(n);return new Gt({invalid:n})}static fromDateTimes(e,t){const n=Yn(e),r=Yn(t),i=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?Gt.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:Gt.invalid("missing or invalid end"):Gt.invalid("missing or invalid start")}(n,r);return null==i?new Gt({start:n,end:r}):i}static after(e,t){const n=Vt.fromDurationLike(t),r=Yn(e);return Gt.fromDateTimes(r,r.plus(n))}static before(e,t){const n=Vt.fromDurationLike(t),r=Yn(e);return Gt.fromDateTimes(r.minus(n),r)}static fromISO(e,t){const[n,r]=(e||"").split("/",2);if(n&&r){let e,i,o,s;try{e=Zn.fromISO(n,t),i=e.isValid}catch(r){i=!1}try{o=Zn.fromISO(r,t),s=o.isValid}catch(r){s=!1}if(i&&s)return Gt.fromDateTimes(e,o);if(i){const n=Vt.fromISO(r,t);if(n.isValid)return Gt.after(e,n)}else if(s){const e=Vt.fromISO(n,t);if(e.isValid)return Gt.before(o,e)}}return Gt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set({start:e,end:t}={}){return this.isValid?Gt.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Yn).filter((e=>this.contains(e))).sort(),n=[];let{s:r}=this,i=0;for(;r<this.e;){const e=t[i]||this.e,o=+e>+this.e?this.e:e;n.push(Gt.fromDateTimes(r,o)),r=o,i+=1}return n}splitBy(e){const t=Vt.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let n,{s:r}=this,i=1;const o=[];for(;r<this.e;){const e=this.start.plus(t.mapUnits((e=>e*i)));n=+e>+this.e?this.e:e,o.push(Gt.fromDateTimes(r,n)),r=n,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:Gt.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return Gt.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],n)=>t?t.overlaps(n)||t.abutsStart(n)?[e,t.union(n)]:[e.concat([t]),n]:[e,n]),[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const r=[],i=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),o=Array.prototype.concat(...i).sort(((e,t)=>e.time-t.time));for(const e of o)n+="s"===e.type?1:-1,1===n?t=e.time:(t&&+t!=+e.time&&r.push(Gt.fromDateTimes(t,e.time)),t=null);return Gt.merge(r)}difference(...e){return Gt.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Kt}toLocaleString(e=f,t={}){return this.isValid?Ze.create(this.s.loc.clone(t),e).formatInterval(this):Kt}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Kt}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Kt}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Kt}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Kt}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Vt.invalid(this.invalidReason)}mapEndpoints(e){return Gt.fromDateTimes(e(this.s),e(this.e))}}class Jt{static hasDST(e=le.defaultZone){const t=Zn.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return U.isValidZone(e)}static normalizeZone(e){return ne(e,le.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||Q.create(t,n,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||Q.create(t,n,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Q.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Q.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Q.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Q.create(t,null,"gregory").eras(e)}static features(){return{relative:pe()}}}function Zt(e,t){const n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(Vt.fromMillis(r).as("days"))}const Yt={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Qt={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Xt=Yt.hanidec.replace(/[\[|\]]/g,"").split("");function en({numberingSystem:e},t=""){return new RegExp(`${Yt[e||"latn"]}${t}`)}function tn(e,t=(e=>e)){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(-1!==e[n].search(Yt.hanidec))t+=Xt.indexOf(e[n]);else for(const e in Qt){const[n,i]=Qt[e];r>=n&&r<=i&&(t+=r-n)}}return parseInt(t,10)}return t}(e))}}const nn=`[ ${String.fromCharCode(160)}]`,rn=new RegExp(nn,"g");function on(e){return e.replace(/\./g,"\\.?").replace(rn,nn)}function sn(e){return e.replace(/\./g,"").replace(rn," ").toLowerCase()}function an(e,t){return null===e?null:{regex:RegExp(e.map(on).join("|")),deser:([n])=>e.findIndex((e=>sn(n)===sn(e)))+t}}function cn(e,t){return{regex:e,deser:([,e,t])=>Oe(e,t),groups:t}}function un(e){return{regex:e,deser:([e])=>e}}const ln={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let dn=null;function hn(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const n=pn(Ze.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t))))}function fn(e,t,n){const r=hn(Ze.parseFormat(n),e),i=r.map((t=>function(e,t){const n=en(t),r=en(t,"{2}"),i=en(t,"{3}"),o=en(t,"{4}"),s=en(t,"{6}"),a=en(t,"{1,2}"),c=en(t,"{1,3}"),u=en(t,"{1,6}"),l=en(t,"{1,9}"),d=en(t,"{2,4}"),h=en(t,"{4,6}"),f=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},p=(p=>{if(e.literal)return f(p);switch(p.val){case"G":return an(t.eras("short",!1),0);case"GG":return an(t.eras("long",!1),0);case"y":return tn(u);case"yy":case"kk":return tn(d,De);case"yyyy":case"kkkk":return tn(o);case"yyyyy":return tn(h);case"yyyyyy":return tn(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return tn(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return tn(r);case"MMM":return an(t.months("short",!0,!1),1);case"MMMM":return an(t.months("long",!0,!1),1);case"LLL":return an(t.months("short",!1,!1),1);case"LLLL":return an(t.months("long",!1,!1),1);case"o":case"S":return tn(c);case"ooo":case"SSS":return tn(i);case"u":return un(l);case"uu":return un(a);case"uuu":case"E":case"c":return tn(n);case"a":return an(t.meridiems(),0);case"EEE":return an(t.weekdays("short",!1,!1),1);case"EEEE":return an(t.weekdays("long",!1,!1),1);case"ccc":return an(t.weekdays("short",!0,!1),1);case"cccc":return an(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return cn(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return cn(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return un(/[a-z_+-/]{1,256}?/i);default:return f(p)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return p.token=e,p}(t,e))),o=i.find((e=>e.invalidReason));if(o)return{input:t,tokens:r,invalidReason:o.invalidReason};{const[e,n]=function(e){return[`^${e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,e]}(i),o=RegExp(e,"i"),[a,c]=function(e,t,n){const r=e.match(t);if(r){const e={};let t=1;for(const i in n)if(ge(n,i)){const o=n[i],s=o.groups?o.groups+1:1;!o.literal&&o.token&&(e[o.token.val[0]]=o.deser(r.slice(t,t+s))),t+=s}return[r,e]}return[r,{}]}(t,o,n),[u,l,d]=c?function(e){let t,n=null;return de(e.z)||(n=U.create(e.z)),de(e.Z)||(n||(n=new ee(e.Z)),t=e.Z),de(e.q)||(e.M=3*(e.q-1)+1),de(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),de(e.u)||(e.S=_e(e.u)),[Object.keys(e).reduce(((t,n)=>{const r=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return r&&(t[r]=e[n]),t}),{}),n,t]}(c):[null,null,void 0];if(ge(c,"a")&&ge(c,"H"))throw new s("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:o,rawMatches:a,matches:c,result:u,zone:l,specificOffset:d}}}function pn(e,t){return e?Ze.create(t,e).formatDateTimeParts((dn||(dn=Zn.fromMillis(1555555555555)),dn)).map((t=>function(e,t){const{type:n,value:r}=e;if("literal"===n)return{literal:!0,val:r};const i=t[n];let o=ln[n];return"object"==typeof o&&(o=o[i]),o?{literal:!1,val:o}:void 0}(t,e))):null}const mn=[0,31,59,90,120,151,181,212,243,273,304,334],gn=[0,31,60,91,121,152,182,213,244,274,305,335];function yn(e,t){return new Ye("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function vn(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return 0===i?7:i}function bn(e,t,n){return n+(Ce(e)?gn:mn)[t-1]}function wn(e,t){const n=Ce(e)?gn:mn,r=n.findIndex((e=>e<t));return{month:r+1,day:t-n[r]}}function _n(e){const{year:t,month:n,day:r}=e,i=bn(t,n,r),o=vn(t,n,r);let s,a=Math.floor((i-o+10)/7);return a<1?(s=t-1,a=ke(s)):a>ke(t)?(s=t+1,a=1):s=t,{weekYear:s,weekNumber:a,weekday:o,...Fe(e)}}function Sn(e){const{weekYear:t,weekNumber:n,weekday:r}=e,i=vn(t,1,4),o=Re(t);let s,a=7*n+r-i-3;a<1?(s=t-1,a+=Re(s)):a>o?(s=t+1,a-=Re(t)):s=t;const{month:c,day:u}=wn(s,a);return{year:s,month:c,day:u,...Fe(e)}}function Cn(e){const{year:t,month:n,day:r}=e;return{year:t,ordinal:bn(t,n,r),...Fe(e)}}function Rn(e){const{year:t,ordinal:n}=e,{month:r,day:i}=wn(t,n);return{year:t,month:r,day:i,...Fe(e)}}function Tn(e){const t=fe(e.year),n=ye(e.month,1,12),r=ye(e.day,1,Te(e.year,e.month));return t?n?!r&&yn("day",e.day):yn("month",e.month):yn("year",e.year)}function En(e){const{hour:t,minute:n,second:r,millisecond:i}=e,o=ye(t,0,23)||24===t&&0===n&&0===r&&0===i,s=ye(n,0,59),a=ye(r,0,59),c=ye(i,0,999);return o?s?a?!c&&yn("millisecond",i):yn("second",r):yn("minute",n):yn("hour",t)}const kn="Invalid DateTime",Dn=864e13;function xn(e){return new Ye("unsupported zone",`the zone "${e.name}" is not supported`)}function On(e){return null===e.weekData&&(e.weekData=_n(e.c)),e.weekData}function Pn(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Zn({...n,...t,old:n})}function In(e,t,n){let r=e-60*t*1e3;const i=n.offset(r);if(t===i)return[r,t];r-=60*(i-t)*1e3;const o=n.offset(r);return i===o?[r,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}function Nn(e,t){const n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Fn(e,t,n){return In(Ee(e),t,n)}function Ln(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o={...e.c,year:r,month:i,day:Math.min(e.c.day,Te(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=Vt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Ee(o);let[c,u]=In(a,n,e.zone);return 0!==s&&(c+=s,u=e.zone.offset(c)),{ts:c,o:u}}function Mn(e,t,n,r,i,o){const{setZone:s,zone:a}=n;if(e&&0!==Object.keys(e).length){const r=t||a,i=Zn.fromObject(e,{...n,zone:r,specificOffset:o});return s?i:i.setZone(a)}return Zn.invalid(new Ye("unparsable",`the input "${i}" can't be parsed as ${r}`))}function An(e,t,n=!0){return e.isValid?Ze.create(Q.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function jn(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=ve(e.c.year,n?6:4),t?(r+="-",r+=ve(e.c.month),r+="-",r+=ve(e.c.day)):(r+=ve(e.c.month),r+=ve(e.c.day)),r}function qn(e,t,n,r,i,o){let s=ve(e.c.hour);return t?(s+=":",s+=ve(e.c.minute),0===e.c.second&&n||(s+=":")):s+=ve(e.c.minute),0===e.c.second&&n||(s+=ve(e.c.second),0===e.c.millisecond&&r||(s+=".",s+=ve(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!o?s+="Z":e.o<0?(s+="-",s+=ve(Math.trunc(-e.o/60)),s+=":",s+=ve(Math.trunc(-e.o%60))):(s+="+",s+=ve(Math.trunc(e.o/60)),s+=":",s+=ve(Math.trunc(e.o%60)))),o&&(s+="["+e.zone.ianaName+"]"),s}const Hn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Un={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},$n={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Bn=["year","month","day","hour","minute","second","millisecond"],Wn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],zn=["year","ordinal","hour","minute","second","millisecond"];function Vn(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new a(e);return t}function Kn(e,t){const n=ne(t.zone,le.defaultZone),r=Q.fromObject(t),i=le.now();let o,s;if(de(e.year))o=i;else{for(const t of Bn)de(e[t])&&(e[t]=Hn[t]);const t=Tn(e)||En(e);if(t)return Zn.invalid(t);const r=n.offset(i);[o,s]=Fn(e,r,n)}return new Zn({ts:o,zone:n,loc:r,o:s})}function Gn(e,t,n){const r=!!de(n.round)||n.round,i=(e,i)=>(e=Se(e,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,i)),o=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return i(o(n.unit),n.unit);for(const e of n.units){const t=o(e);if(Math.abs(t)>=1)return i(t,e)}return i(e>t?-0:0,n.units[n.units.length-1])}function Jn(e){let t,n={};return e.length>0&&"object"==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}class Zn{constructor(e){const t=e.zone||le.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Ye("invalid input"):null)||(t.isValid?null:xn(t));this.ts=de(e.ts)?le.now():e.ts;let r=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,i]=[e.old.c,e.old.o];else{const e=t.offset(this.ts);r=Nn(this.ts,e),n=Number.isNaN(r.year)?new Ye("invalid input"):null,r=n?null:r,i=n?null:e}this._zone=t,this.loc=e.loc||Q.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static now(){return new Zn({})}static local(){const[e,t]=Jn(arguments),[n,r,i,o,s,a,c]=t;return Kn({year:n,month:r,day:i,hour:o,minute:s,second:a,millisecond:c},e)}static utc(){const[e,t]=Jn(arguments),[n,r,i,o,s,a,c]=t;return e.zone=ee.utcInstance,Kn({year:n,month:r,day:i,hour:o,minute:s,second:a,millisecond:c},e)}static fromJSDate(e,t={}){const n=(r=e,"[object Date]"===Object.prototype.toString.call(r)?e.valueOf():NaN);var r;if(Number.isNaN(n))return Zn.invalid("invalid input");const i=ne(t.zone,le.defaultZone);return i.isValid?new Zn({ts:n,zone:i,loc:Q.fromObject(t)}):Zn.invalid(xn(i))}static fromMillis(e,t={}){if(he(e))return e<-Dn||e>Dn?Zn.invalid("Timestamp out of range"):new Zn({ts:e,zone:ne(t.zone,le.defaultZone),loc:Q.fromObject(t)});throw new c(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(he(e))return new Zn({ts:1e3*e,zone:ne(t.zone,le.defaultZone),loc:Q.fromObject(t)});throw new c("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=ne(t.zone,le.defaultZone);if(!n.isValid)return Zn.invalid(xn(n));const r=le.now(),i=de(t.specificOffset)?n.offset(r):t.specificOffset,o=Ie(e,Vn),a=!de(o.ordinal),c=!de(o.year),u=!de(o.month)||!de(o.day),l=c||u,d=o.weekYear||o.weekNumber,h=Q.fromObject(t);if((l||a)&&d)throw new s("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new s("Can't mix ordinal dates with month/day");const f=d||o.weekday&&!l;let p,m,g=Nn(r,i);f?(p=Wn,m=Un,g=_n(g)):a?(p=zn,m=$n,g=Cn(g)):(p=Bn,m=Hn);let y=!1;for(const e of p)de(o[e])?o[e]=y?m[e]:g[e]:y=!0;const v=f?function(e){const t=fe(e.weekYear),n=ye(e.weekNumber,1,ke(e.weekYear)),r=ye(e.weekday,1,7);return t?n?!r&&yn("weekday",e.weekday):yn("week",e.week):yn("weekYear",e.weekYear)}(o):a?function(e){const t=fe(e.year),n=ye(e.ordinal,1,Re(e.year));return t?!n&&yn("ordinal",e.ordinal):yn("year",e.year)}(o):Tn(o),b=v||En(o);if(b)return Zn.invalid(b);const w=f?Sn(o):a?Rn(o):o,[_,S]=Fn(w,i,n),C=new Zn({ts:_,zone:n,o:S,loc:h});return o.weekday&&l&&e.weekday!==C.weekday?Zn.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${C.toISO()}`):C}static fromISO(e,t={}){const[n,r]=function(e){return tt(e,[kt,Pt],[Dt,It],[xt,Nt],[Ot,Ft])}(e);return Mn(n,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,r]=function(e){return tt(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[wt,_t])}(e);return Mn(n,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,r]=function(e){return tt(e,[St,Tt],[Ct,Tt],[Rt,Et])}(e);return Mn(n,r,t,"HTTP",t)}static fromFormat(e,t,n={}){if(de(e)||de(t))throw new c("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:i=null}=n,o=Q.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),[s,a,u,l]=function(e,t,n){const{result:r,zone:i,specificOffset:o,invalidReason:s}=fn(e,t,n);return[r,i,o,s]}(o,e,t);return l?Zn.invalid(l):Mn(s,a,n,`format ${t}`,e,u)}static fromString(e,t,n={}){return Zn.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,r]=function(e){return tt(e,[Mt,Pt],[At,jt])}(e);return Mn(n,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the DateTime is invalid");const n=e instanceof Ye?e:new Ye(e,t);if(le.throwOnInvalid)throw new r(n);return new Zn({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=pn(e,Q.fromObject(t));return n?n.map((e=>e?e.val:null)).join(""):null}static expandFormat(e,t={}){return hn(Ze.parseFormat(e),Q.fromObject(t)).map((e=>e.val)).join("")}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?On(this).weekYear:NaN}get weekNumber(){return this.isValid?On(this).weekNumber:NaN}get weekday(){return this.isValid?On(this).weekday:NaN}get ordinal(){return this.isValid?Cn(this.c).ordinal:NaN}get monthShort(){return this.isValid?Jt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Jt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Jt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Jt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return Ce(this.year)}get daysInMonth(){return Te(this.year,this.month)}get daysInYear(){return this.isValid?Re(this.year):NaN}get weeksInWeekYear(){return this.isValid?ke(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:r}=Ze.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(ee.instance(e),t)}toLocal(){return this.setZone(le.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if((e=ne(e,le.defaultZone)).equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||n){const t=e.offset(this.ts),n=this.toObject();[r]=Fn(n,t,e)}return Pn(this,{ts:r,zone:e})}return Zn.invalid(xn(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){return Pn(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Ie(e,Vn),n=!de(t.weekYear)||!de(t.weekNumber)||!de(t.weekday),r=!de(t.ordinal),i=!de(t.year),o=!de(t.month)||!de(t.day),a=i||o,c=t.weekYear||t.weekNumber;if((a||r)&&c)throw new s("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&r)throw new s("Can't mix ordinal dates with month/day");let u;n?u=Sn({..._n(this.c),...t}):de(t.ordinal)?(u={...this.toObject(),...t},de(t.day)&&(u.day=Math.min(Te(u.year,u.month),u.day))):u=Rn({...Cn(this.c),...t});const[l,d]=Fn(u,this.o,this.zone);return Pn(this,{ts:l,o:d})}plus(e){return this.isValid?Pn(this,Ln(this,Vt.fromDurationLike(e))):this}minus(e){return this.isValid?Pn(this,Ln(this,Vt.fromDurationLike(e).negate())):this}startOf(e){if(!this.isValid)return this;const t={},n=Vt.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===n&&(t.weekday=1),"quarters"===n){const e=Math.ceil(this.month/3);t.month=3*(e-1)+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?Ze.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):kn}toLocaleString(e=f,t={}){return this.isValid?Ze.create(this.loc.clone(t),e).formatDateTime(this):kn}toLocaleParts(e={}){return this.isValid?Ze.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const o="extended"===e;let s=jn(this,o);return s+="T",s+=qn(this,o,t,n,r,i),s}toISODate({format:e="extended"}={}){return this.isValid?jn(this,"extended"===e):null}toISOWeekDate(){return An(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:i=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+qn(this,"extended"===o,t,e,n,i):null}toRFC2822(){return An(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return An(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?jn(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(n&&(r+=" "),t?r+="z":e&&(r+="ZZ")),An(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():kn}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return Vt.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=(a=t,Array.isArray(a)?a:[a]).map(Vt.normalizeUnit),o=e.valueOf()>this.valueOf(),s=function(e,t,n,r){let[i,o,s,a]=function(e,t,n){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const n=Zt(e,t);return(n-n%7)/7}],["days",Zt]],i={},o=e;let s,a;for(const[c,u]of r)n.indexOf(c)>=0&&(s=c,i[c]=u(e,t),a=o.plus(i),a>t?(i[c]--,e=o.plus(i)):e=a);return[e,i,a,s]}(e,t,n);const c=t-i,u=n.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===u.length&&(s<t&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+c/(s-i)));const l=Vt.fromObject(o,r);return u.length>0?Vt.fromMillis(c,r).shiftTo(...u).plus(l):l}(o?this:e,o?e:this,i,r);var a;return o?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(Zn.now(),e,t)}until(e){return this.isValid?Gt.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=n&&n<=r.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Zn.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(r=e.unit,i=void 0),Gn(t,this.plus(n),{...e,numeric:"always",units:r,unit:i})}toRelativeCalendar(e={}){return this.isValid?Gn(e.base||Zn.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Zn.isDateTime))throw new c("min requires all arguments be DateTimes");return me(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(Zn.isDateTime))throw new c("max requires all arguments be DateTimes");return me(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:r=null,numberingSystem:i=null}=n;return fn(Q.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,n={}){return Zn.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return f}static get DATE_MED(){return p}static get DATE_MED_WITH_WEEKDAY(){return m}static get DATE_FULL(){return g}static get DATE_HUGE(){return y}static get TIME_SIMPLE(){return v}static get TIME_WITH_SECONDS(){return b}static get TIME_WITH_SHORT_OFFSET(){return w}static get TIME_WITH_LONG_OFFSET(){return _}static get TIME_24_SIMPLE(){return S}static get TIME_24_WITH_SECONDS(){return C}static get TIME_24_WITH_SHORT_OFFSET(){return R}static get TIME_24_WITH_LONG_OFFSET(){return T}static get DATETIME_SHORT(){return E}static get DATETIME_SHORT_WITH_SECONDS(){return k}static get DATETIME_MED(){return D}static get DATETIME_MED_WITH_SECONDS(){return x}static get DATETIME_MED_WITH_WEEKDAY(){return O}static get DATETIME_FULL(){return P}static get DATETIME_FULL_WITH_SECONDS(){return I}static get DATETIME_HUGE(){return N}static get DATETIME_HUGE_WITH_SECONDS(){return F}}function Yn(e){if(Zn.isDateTime(e))return e;if(e&&e.valueOf&&he(e.valueOf()))return Zn.fromJSDate(e);if(e&&"object"==typeof e)return Zn.fromObject(e);throw new c(`Unknown datetime argument: ${e}, of type ${typeof e}`)}t.DateTime=Zn,t.Duration=Vt,t.FixedOffsetZone=ee,t.IANAZone=U,t.Info=Jt,t.Interval=Gt,t.InvalidZone=te,t.Settings=le,t.SystemZone=A,t.VERSION="3.2.1",t.Zone=L},1171:(e,t,n)=>{e.exports=h,h.Minimatch=f;var r=function(){try{return n(1017)}catch(e){}}()||{sep:"/"};h.sep=r.sep;var i=h.GLOBSTAR=f.GLOBSTAR={},o=n(3644),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",u="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),l=/\/+/;function d(e,t){t=t||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function h(e,t,n){return m(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new f(t,n).match(e)}function f(e,t){if(!(this instanceof f))return new f(e,t);m(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===r.sep||(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function p(e,t){return t||(t=this instanceof f?this.options:{}),e=void 0===e?this.pattern:e,m(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}h.filter=function(e,t){return t=t||{},function(n,r,i){return h(n,e,t)}},h.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return h;var t=h,n=function(n,r,i){return t(n,r,d(e,i))};return(n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))}).defaults=function(n){return t.defaults(d(e,n)).Minimatch},n.filter=function(n,r){return t.filter(n,d(e,r))},n.defaults=function(n){return t.defaults(d(e,n))},n.makeRe=function(n,r){return t.makeRe(n,d(e,r))},n.braceExpand=function(n,r){return t.braceExpand(n,d(e,r))},n.match=function(n,r,i){return t.match(n,r,d(e,i))},n},f.defaults=function(e){return h.defaults(e).Minimatch},f.prototype.debug=function(){},f.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(l)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0},f.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(!this.options.nonegate){for(var r=0,i=e.length;r<i&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},h.braceExpand=function(e,t){return p(e,t)},f.prototype.braceExpand=p;var m=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};f.prototype.parse=function(e,t){m(e);var n=this.options;if("**"===e){if(!n.noglobstar)return i;e="*"}if(""===e)return"";var r,o="",l=!!n.nocase,d=!1,h=[],f=[],p=!1,y=-1,v=-1,b="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function _(){if(r){switch(r){case"*":o+=c,l=!0;break;case"?":o+=a,l=!0;break;default:o+="\\"+r}w.debug("clearStateChar %j %j",r,o),r=!1}}for(var S,C=0,R=e.length;C<R&&(S=e.charAt(C));C++)if(this.debug("%s\t%s %s %j",e,C,o,S),d&&u[S])o+="\\"+S,d=!1;else switch(S){case"/":return!1;case"\\":_(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,C,o,S),p){this.debug("  in class"),"!"===S&&C===v+1&&(S="^"),o+=S;continue}w.debug("call clearStateChar %j",r),_(),r=S,n.noext&&_();continue;case"(":if(p){o+="(";continue}if(!r){o+="\\(";continue}h.push({type:r,start:C-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(p||!h.length){o+="\\)";continue}_(),l=!0;var T=h.pop();o+=T.close,"!"===T.type&&f.push(T),T.reEnd=o.length;continue;case"|":if(p||!h.length||d){o+="\\|",d=!1;continue}_(),o+="|";continue;case"[":if(_(),p){o+="\\"+S;continue}p=!0,v=C,y=o.length,o+=S;continue;case"]":if(C===v+1||!p){o+="\\"+S,d=!1;continue}var E=e.substring(v+1,C);try{RegExp("["+E+"]")}catch(e){var k=this.parse(E,g);o=o.substr(0,y)+"\\["+k[0]+"\\]",l=l||k[1],p=!1;continue}l=!0,p=!1,o+=S;continue;default:_(),d?d=!1:!u[S]||"^"===S&&p||(o+="\\"),o+=S}for(p&&(E=e.substr(v+1),k=this.parse(E,g),o=o.substr(0,y)+"\\["+k[0],l=l||k[1]),T=h.pop();T;T=h.pop()){var D=o.slice(T.reStart+T.open.length);this.debug("setting tail",o,T),D=D.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",D,D,T,o);var x="*"===T.type?c:"?"===T.type?a:"\\"+T.type;l=!0,o=o.slice(0,T.reStart)+x+"\\("+D}_(),d&&(o+="\\\\");var O=!1;switch(o.charAt(0)){case"[":case".":case"(":O=!0}for(var P=f.length-1;P>-1;P--){var I=f[P],N=o.slice(0,I.reStart),F=o.slice(I.reStart,I.reEnd-8),L=o.slice(I.reEnd-8,I.reEnd),M=o.slice(I.reEnd);L+=M;var A=N.split("(").length-1,j=M;for(C=0;C<A;C++)j=j.replace(/\)[+*?]?/,"");var q="";""===(M=j)&&t!==g&&(q="$"),o=N+F+M+q+L}if(""!==o&&l&&(o="(?=.)"+o),O&&(o=b+o),t===g)return[o,l];if(!l)return e.replace(/\\(.)/g,"$1");var H=n.nocase?"i":"";try{var U=new RegExp("^"+o+"$",H)}catch(e){return new RegExp("$.")}return U._glob=e,U._src=o,U};var g={};h.makeRe=function(e,t){return new f(e,t||{}).makeRe()},f.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},h.match=function(e,t,n){var r=new f(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},f.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(l),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(n.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},f.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=t[s],d=e[o];if(this.debug(t,l,d),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,d]);var h=o,f=s+1;if(f===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;h<a;){var p=e[h];if(this.debug("\nglobstar while",e,h,t,f,p),this.matchOne(e.slice(h),t.slice(f),n))return this.debug("globstar found match!",h,a,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,h,t,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,f),h!==a))}if("string"==typeof l?(u=d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},2986:(e,t,n)=>{var r=n(1017),i=n(7147),o=parseInt("0777",8);function s(e,t,n,a){"function"==typeof t?(n=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,u=t.fs||i;void 0===c&&(c=o&~process.umask()),a||(a=null);var l=n||function(){};e=r.resolve(e),u.mkdir(e,c,(function(n){if(!n)return l(null,a=a||e);"ENOENT"===n.code?s(r.dirname(e),t,(function(n,r){n?l(n,r):s(e,t,l,r)})):u.stat(e,(function(e,t){e||!t.isDirectory()?l(n,a):l(null,a)}))}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,n,s){n&&"object"==typeof n||(n={mode:n});var a=n.mode,c=n.fs||i;void 0===a&&(a=o&~process.umask()),s||(s=null),t=r.resolve(t);try{c.mkdirSync(t,a),s=s||t}catch(i){if("ENOENT"===i.code)s=e(r.dirname(t),n,s),e(t,n,s);else{var u;try{u=c.statSync(t)}catch(e){throw i}if(!u.isDirectory())throw i}}return s}},1890:(e,t,n)=>{const r=n(4231),i=n(3610),{mkdirpNative:o,mkdirpNativeSync:s}=n(9378),{mkdirpManual:a,mkdirpManualSync:c}=n(8600),{useNative:u,useNativeSync:l}=n(6167),d=(e,t)=>(e=i(e),t=r(t),u(t)?o(e,t):a(e,t));d.sync=(e,t)=>(e=i(e),t=r(t),l(t)?s(e,t):c(e,t)),d.native=(e,t)=>o(i(e),r(t)),d.manual=(e,t)=>a(i(e),r(t)),d.nativeSync=(e,t)=>s(i(e),r(t)),d.manualSync=(e,t)=>c(i(e),r(t)),e.exports=d},8812:(e,t,n)=>{const{dirname:r}=n(1017),i=(e,t,n)=>n===t?Promise.resolve():e.statAsync(t).then((e=>e.isDirectory()?n:void 0),(n=>"ENOENT"===n.code?i(e,r(t),t):void 0)),o=(e,t,n)=>{if(n!==t)try{return e.statSync(t).isDirectory()?n:void 0}catch(n){return"ENOENT"===n.code?o(e,r(t),t):void 0}};e.exports={findMade:i,findMadeSync:o}},8600:(e,t,n)=>{const{dirname:r}=n(1017),i=(e,t,n)=>{t.recursive=!1;const o=r(e);return o===e?t.mkdirAsync(e,t).catch((e=>{if("EISDIR"!==e.code)throw e})):t.mkdirAsync(e,t).then((()=>n||e),(r=>{if("ENOENT"===r.code)return i(o,t).then((n=>i(e,t,n)));if("EEXIST"!==r.code&&"EROFS"!==r.code)throw r;return t.statAsync(e).then((e=>{if(e.isDirectory())return n;throw r}),(()=>{throw r}))}))},o=(e,t,n)=>{const i=r(e);if(t.recursive=!1,i===e)try{return t.mkdirSync(e,t)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return t.mkdirSync(e,t),n||e}catch(r){if("ENOENT"===r.code)return o(e,t,o(i,t,n));if("EEXIST"!==r.code&&"EROFS"!==r.code)throw r;try{if(!t.statSync(e).isDirectory())throw r}catch(e){throw r}}};e.exports={mkdirpManual:i,mkdirpManualSync:o}},9378:(e,t,n)=>{const{dirname:r}=n(1017),{findMade:i,findMadeSync:o}=n(8812),{mkdirpManual:s,mkdirpManualSync:a}=n(8600);e.exports={mkdirpNative:(e,t)=>(t.recursive=!0,r(e)===e?t.mkdirAsync(e,t):i(t,e).then((n=>t.mkdirAsync(e,t).then((()=>n)).catch((n=>{if("ENOENT"===n.code)return s(e,t);throw n}))))),mkdirpNativeSync:(e,t)=>{if(t.recursive=!0,r(e)===e)return t.mkdirSync(e,t);const n=o(t,e);try{return t.mkdirSync(e,t),n}catch(n){if("ENOENT"===n.code)return a(e,t);throw n}}}},4231:(e,t,n)=>{const{promisify:r}=n(3837),i=n(7147);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:i,...e};else if("number"==typeof e)e={mode:e,fs:i};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:i}}else e={mode:511,fs:i};return e.mkdir=e.mkdir||e.fs.mkdir||i.mkdir,e.mkdirAsync=r(e.mkdir),e.stat=e.stat||e.fs.stat||i.stat,e.statAsync=r(e.stat),e.statSync=e.statSync||e.fs.statSync||i.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||i.mkdirSync,e}},3610:(e,t,n)=>{const r=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:i,parse:o}=n(1017);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=i(e),"win32"===r){const t=/[*|"<>?:]/,{root:n}=o(e);if(t.test(e.substr(n.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},6167:(e,t,n)=>{const r=n(7147),i=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),o=+i[0]>10||10==+i[0]&&+i[1]>=12,s=o?e=>e.mkdir===r.mkdir:()=>!1,a=o?e=>e.mkdirSync===r.mkdirSync:()=>!1;e.exports={useNative:s,useNativeSync:a}},7824:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,s){s=s||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,"day"):c>=r?o(a,c,r,"hour"):c>=n?o(a,c,n,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=r?Math.round(e/r)+"h":o>=n?Math.round(e/n)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},447:(e,t,n)=>{var r=n(2479);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},7835:(e,t,n)=>{"use strict";const r=n(7147),{promisify:i}=n(3837),o=i(r.access);e.exports=async e=>{try{return await o(e),!0}catch(e){return!1}},e.exports.sync=e=>{try{return r.accessSync(e),!0}catch(e){return!1}}},335:(e,t,n)=>{var r=n(5981),i=n(4650),o=n(5420),s=function(e,t){if("number"==typeof e&&(e={maxBuffer:e}),"function"==typeof e)return s(null,e);e||(e={});var n="number"==typeof e.maxBuffer?e.maxBuffer:65535,a=e.strict,c=!1!==e.newline,u=[],l=0,d=r.obj(),h=i.obj({highWaterMark:1},(function(e,t,r){if(function(e){return!Buffer.isBuffer(e)&&"string"!=typeof e}(e))return p(e,null,r);if(Buffer.isBuffer(e)||(e=o(e)),c){var i=Array.prototype.indexOf.call(e,10);if(i>0&&13===e[i-1]&&i--,i>-1)return u.push(e.slice(0,i)),p(Buffer.concat(u),e.slice(i),r)}return u.push(e),(l+=e.length)<n?r():a?r(new Error("No newline found")):void p(Buffer.concat(u),null,r)})),f=function(){if(a)return d.destroy(new Error("No newline found"));d.cork(),p(Buffer.concat(u),null,(function(e){if(e)return d.destroy(e);d.uncork()}))},p=function(e,n,r){d.removeListener("preend",f),t(e,(function(t,i){if(t)return r(t);d.setWritable(i),d.setReadable(i),e&&i.write(e),n&&i.write(n),n=u=h=null,r()}))};return d.on("preend",f),d.setWritable(h),d};e.exports=s},9916:e=>{function t(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function n(e){e.pending+=1;var t=!1;return function(i){if(t)throw new Error("callback called twice");if(t=!0,e.error=e.error||i,e.pending-=1,e.waiting.length>0&&e.pending<e.max)r(e,e.waiting.shift());else if(0===e.pending){var o=e.listeners;e.listeners=[],o.forEach(n)}};function n(t){t(e.error)}}function r(e,t){t(n(e))}e.exports=t,t.prototype.go=function(e){this.pending<this.max?r(this,e):this.waiting.push(e)},t.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},t.prototype.hold=function(){return n(this)}},4397:(e,t,n)=>{"use strict";const r=n(7147),i=n(9796),{promisify:o}=n(3837);e.exports=o(((e,t,n)=>{n?void 0===t.end&&(t.end=!0):(n=t,t={end:!0}),function(e,t,n){let o,s,a,c,u,l=!1,d=!1;const h=e.slice(),f=h.shift(),p=h.pop(),m=e.some((e=>e instanceof i.Gunzip)),g=e.some((e=>e instanceof i.Gzip)),y=e.some((e=>e instanceof r.WriteStream)),v=(e,t,n)=>{t.removeListener(e,n)};function b(){l=!0,E()}function w(){d=!0,E()}function _(e){u=!0,s=!0,f.on("readable",(function(){this.read()})),T(e),E()}function S(e){c=!0,a=!0,T(e),E()}function C(){a=!0,E()}function R(){s=!0,E()}function T(e){o=e,function(e,t){e&&t.destroy&&t.destroy()}(s,p),c=!0,a||s||E(),a&&m&&E()}function E(){const e=a&&!t.end;return u&&a||c&&!y||c&&l||a&&s&&(!y||l||d)||e||o&&(g||m)?(v("error",p,_),v("open",p,b),v("finish",p,R),v("close",p,w),v("error",f,S),v("end",f,C),function(e,t){for(const n of e)n.removeListener("error",t)}(h,T),void n(o)):void 0}f.on("end",C),f.on("error",S),p.on("error",_),p.on("open",b),p.on("close",w),function(e,t){for(const n of e)n.on("error",t)}(h,T),function(e,t){let n;for(const r of e)n=n?n.pipe(r,{end:t.end}):r}(e,t),t.end&&p.on("finish",R)}(e,t,n)}))},8212:e=>{"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,n)}));case 4:return process.nextTick((function(){e.call(null,t,n,r)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},4286:(e,t,n)=>{var r=n(447),i=n(2840),o=n(7147),s=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},u=function(e,t,n,u){u=r(u);var l=!1;e.on("close",(function(){l=!0})),i(e,{readable:t,writable:n},(function(e){if(e)return u(e);l=!0,u()}));var d=!1;return function(t){if(!l&&!d)return d=!0,function(e){return!!a&&!!o&&(e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void u(t||new Error("stream was destroyed"))}},l=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(i,o){var s=o<t.length-1;return u(i,s,o>0,(function(t){e||(e=t),t&&r.forEach(l),s||(r.forEach(l),n(e))}))}));t.reduce(d)}},4850:(e,t,n)=>{var r=n(4286),i=n(4378),o=n(5981),s=function(e){return e.length?Array.isArray(e[0])?e[0]:Array.prototype.slice.call(e):[]},a=function(e){var t=function(){var n=s(arguments);if(!(this instanceof t))return new t(n);o.call(this,null,null,e),n.length&&this.setPipeline(n)};return i(t,o),t.prototype.setPipeline=function(){var e=s(arguments),t=this,n=!1,i=e[0],o=e[e.length-1];o=o.readable?o:null,i=i.writable?i:null;var a=function(){e[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",(function(){n||t.cork()})),r(e,(function(e){if(t.removeListener("close",a),e)return t.destroy("premature close"===e.message?null:e);n=!0,!1===t._autoDestroy&&(t._autoDestroy=!0),t.uncork()})),this.destroyed)return a();this.setWritable(i),this.setReadable(o)},t};e.exports=a({autoDestroy:!1,destroy:!1}),e.exports.obj=a({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16}),e.exports.ctor=a},6753:(e,t,n)=>{"use strict";var r=n(8212),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var o=Object.create(n(6497));o.inherits=n(4378);var s=n(9481),a=n(4229);o.inherits(d,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];d.prototype[l]||(d.prototype[l]=a.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},2725:(e,t,n)=>{"use strict";e.exports=o;var r=n(4605),i=Object.create(n(6497));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(4378),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},9481:(e,t,n)=>{"use strict";var r=n(8212);e.exports=v;var i,o=n(5826);v.ReadableState=y,n(2361).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(9740),c=n(9509).Buffer,u=global.Uint8Array||function(){},l=Object.create(n(6497));l.inherits=n(4378);var d=n(3837),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var f,p=n(5057),m=n(1195);l.inherits(v,a);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(i=i||n(6753));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(2553).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function v(e){if(i=i||n(6753),!(this instanceof v))return new v(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function b(e,t,n,r,i){var o,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,C(e)}}(e,s)):(i||(o=function(e,t){var n,r;return r=t,c.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):T(e,s)):w(e,s,t,!1))):r||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),T(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},v.prototype.unshift=function(e){return b(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return f||(f=n(2553).s),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var _=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),x(e)}function T(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(E,e,t))}function E(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}function x(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0==(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0==(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):C(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?y:c;function c(){h("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",(function t(r,o){h("onunpipe"),r===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,h("cleanup"),e.removeListener("close",m),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",p),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",f),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,x(e))}}(n);e.on("drain",u);var l=!1,d=!1;function f(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==N(i.pipes,e))&&!l&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function p(t){h("onerror",t),y(),e.removeListener("error",p),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",g),y()}function g(){h("onfinish"),e.removeListener("close",m),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?o(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",p),e.once("close",m),e.once("finish",g),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=N(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},v.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&C(this):r.nextTick(k,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),this},v.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=O},4605:(e,t,n)=>{"use strict";e.exports=s;var r=n(6753),i=Object.create(n(6497));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(4378),i.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},4229:(e,t,n)=>{"use strict";var r=n(8212);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;g.WritableState=m;var a=Object.create(n(6497));a.inherits=n(4378);var c,u={deprecate:n(1159)},l=n(9740),d=n(9509).Buffer,h=global.Uint8Array||function(){},f=n(1195);function p(){}function m(e,t){o=o||n(6753),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,n,i,t,o);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),i?s(v,e,n,a,o):v(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||n(6753),!(c.call(g,this)||this instanceof o))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function y(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,y(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,d=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=w(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(g,l),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===g&&e&&e._writableState instanceof m}})):c=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,d.isBuffer(i)||i instanceof h);return a&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=p),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(i,s),o=!1),o}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,a,r,i,o);return c}(this,o,a,e,t,n)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=f.destroy,g.prototype._undestroy=f.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},5057:(e,t,n)=>{"use strict";var r=n(9509).Buffer,i=n(3837);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=i,n=s,o.data.copy(t,n),s+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},1195:(e,t,n)=>{"use strict";var r=n(8212);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},9740:(e,t,n)=>{e.exports=n(2781)},1451:(e,t,n)=>{var r=n(2781);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r,(t=e.exports=r.Readable).Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.Stream=r):((t=e.exports=n(9481)).Stream=r||t,t.Readable=t,t.Writable=n(4229),t.Duplex=n(6753),t.Transform=n(4605),t.PassThrough=n(2725))},9509:(e,t,n)=>{var r=n(4300),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},1852:e=>{e.exports=function(e){var t,n=e._readableState;return n?n.objectMode||"number"==typeof e._duplexState?e.read():e.read((t=n).buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length):null}},2553:(e,t,n)=>{"use strict";var r=n(9509).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},2130:e=>{"use strict";var t=process.argv,n=t.indexOf("--"),r=function(e){e="--"+e;var r=t.indexOf(e);return-1!==r&&(-1===n||r<n)};e.exports=!(!("FORCE_COLOR"in process.env)&&(r("no-color")||r("no-colors")||r("color=false")||!(r("color")||r("colors")||r("color=true")||r("color=always"))&&(process.stdout&&!process.stdout.isTTY||"win32"!==process.platform&&!("COLORTERM"in process.env)&&("dumb"===process.env.TERM||!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)))))},6420:(e,t,n)=>{var r=n(9019),i=n(7728),o=n(5780),s=n(2986),a=n(7147),c=n(1017),u="win32"===n(2037).platform(),l=function(){},d=function(e){return e},h=u?function(e){return e.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:d,f=function(e,t){return function(n){n.name=n.name.split("/").slice(t).join("/");var r=n.linkname;return r&&("link"===n.type||c.isAbsolute(r))&&(n.linkname=r.split("/").slice(t).join("/")),e(n)}};t.pack=function(e,t){e||(e="."),t||(t={});var n=t.fs||a,r=t.ignore||t.filter||l,s=t.map||l,u=t.mapStream||d,m=function(e,t,n,r,i,o){var s=i||["."];return function(i){if(!s.length)return i();var a=s.shift(),u=c.join(n,a);t.call(e,u,(function(t,l){return t?i(t):l.isDirectory()?void e.readdir(u,(function(e,t){if(e)return i(e);o&&t.sort();for(var u=0;u<t.length;u++)r(c.join(n,a,t[u]))||s.push(c.join(a,t[u]));i(null,a,l)})):i(null,a,l)}))}}(n,t.dereference?n.stat:n.lstat,e,r,t.entries,t.sort),g=!1!==t.strict,y="number"==typeof t.umask?~t.umask:~p(),v="number"==typeof t.dmode?t.dmode:0,b="number"==typeof t.fmode?t.fmode:0,w=t.pack||i.pack(),_=t.finish||l;t.strip&&(s=f(s,t.strip)),t.readable&&(v|=parseInt(555,8),b|=parseInt(444,8)),t.writable&&(v|=parseInt(333,8),b|=parseInt(222,8));var S=function(r,i,a){if(r)return w.destroy(r);if(!i)return!1!==t.finalize&&w.finalize(),_(w);if(a.isSocket())return C();var l={name:h(i),mode:(a.mode|(a.isDirectory()?v:b))&y,mtime:a.mtime,size:a.size,type:"file",uid:a.uid,gid:a.gid};if(a.isDirectory())return l.size=0,l.type="directory",l=s(l)||l,w.entry(l,C);if(a.isSymbolicLink())return l.size=0,l.type="symlink",function(t,r){n.readlink(c.join(e,t),(function(e,t){if(e)return w.destroy(e);r.linkname=h(t),w.entry(r,C)}))}(i,l=s(l)||l);if(l=s(l)||l,!a.isFile())return g?w.destroy(new Error("unsupported type for "+i)):C();var d=w.entry(l,C);if(d){var f=u(n.createReadStream(c.join(e,i),{start:0,end:l.size>0?l.size-1:l.size}),l);f.on("error",(function(e){d.destroy(e)})),o(f,d)}},C=function(e){if(e)return w.destroy(e);m(S)};return C(),w};var p=function(){return process.umask?process.umask():0};function m(e,t,n,r){if(t===n)return r(null,!0);e.lstat(t,(function(i,o){return i&&"ENOENT"!==i.code?r(i):i||o.isDirectory()?m(e,c.join(t,".."),n,r):void r(null,!1)}))}function g(e,t,n){s(e,{fs:t.fs},(function(e,i){!e&&i&&t.own?r(i,t.uid,t.gid,n):n(e)}))}t.extract=function(e,t){e||(e="."),t||(t={});var n=t.fs||a,r=t.ignore||t.filter||l,s=t.map||l,y=t.mapStream||d,v=!1!==t.chown&&!u&&0===(process.getuid?process.getuid():-1),b=t.extract||i.extract(),w=[],_=new Date,S="number"==typeof t.umask?~t.umask:~p(),C="number"==typeof t.dmode?t.dmode:0,R="number"==typeof t.fmode?t.fmode:0,T=!1!==t.strict;t.strip&&(s=f(s,t.strip)),t.readable&&(C|=parseInt(555,8),R|=parseInt(444,8)),t.writable&&(C|=parseInt(333,8),R|=parseInt(222,8));var E=function(e,t){for(var r,i;(r=(i=w).length?i[i.length-1]:null)&&e.slice(0,r[0].length)!==r[0];)w.pop();if(!r)return t();n.utimes(r[0],_,r[1],t)};return b.on("entry",(function(i,a,l){(i=s(i)||i).name=h(i.name);var d=c.join(e,c.join("/",i.name));if(r(d,i))return a.resume(),l();var f=function(e){if(e)return l(e);!function(e,r,i){!1===t.utimes?i():"directory"===r.type?n.utimes(e,_,r.mtime,i):"symlink"===r.type?E(e,i):n.utimes(e,_,r.mtime,(function(t){if(t)return i(t);E(e,i)}))}(d,i,(function(e){return e?l(e):u?l():void function(e,t,r){var i="symlink"===t.type,o=i?n.lchmod:n.chmod,s=i?n.lchown:n.chown;if(!o)return r();var a=(t.mode|("directory"===t.type?C:R))&S;function c(t){return t?r(t):o?void o.call(n,e,a,r):r()}s&&v?s.call(n,e,t.uid,t.gid,c):c(null)}(d,i,l)}))},p=function(){var e=n.createWriteStream(d),t=y(a,i);e.on("error",(function(e){t.destroy(e)})),o(t,e,(function(t){if(t)return l(t);e.on("close",f)}))};if("directory"===i.type)return w.push([d,i.mtime]),g(d,{fs:n,own:v,uid:i.uid,gid:i.gid},f);var b=c.dirname(d);m(n,b,c.join(e,"."),(function(r,o){return r?l(r):o?void g(b,{fs:n,own:v,uid:i.uid,gid:i.gid},(function(r){if(r)return l(r);switch(i.type){case"file":return p();case"link":return function(){if(u)return l();n.unlink(d,(function(){var r=c.join(e,c.join("/",i.linkname));n.link(r,d,(function(e){if(e&&"EPERM"===e.code&&t.hardlinkAsFilesFallback)return a=n.createReadStream(r),p();f(e)}))}))}();case"symlink":return function(){if(u)return l();n.unlink(d,(function(){n.symlink(i.linkname,d,f)}))}()}if(T)return l(new Error("unsupported type for "+d+" ("+i.type+")"));a.resume(),l()})):l(new Error(b+" is not a valid path"))}))})),t.finish&&b.on("finish",t.finish),b}},4920:(e,t,n)=>{"use strict";const{Buffer:r}=n(4300),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){const r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},o.prototype._reverseOffset=function(e){const t=e[0];let n=e[1];for(let e=0;e<t;e++)n+=this._bufs[e].length;return n},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length)return e||r.alloc(0);if(i<=0)return e||r.alloc(0);const o=!!e,s=this._offset(n),a=i-n;let c=a,u=o&&t||0,l=s[1];if(0===n&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(c<=this._bufs[s[0]].length-l)return o?this._bufs[s[0]].copy(e,t,l,l+c):this._bufs[s[0]].slice(l,l+c);o||(e=r.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){const n=this._bufs[t].length-l;if(!(c>n)){this._bufs[t].copy(e,u,l,l+c),u+=n;break}this._bufs[t].copy(e,u,l),u+=n,c-=n,l&&(l=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},o.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;)if(t.length-s>=e.length){const n=t.indexOf(e,s);if(-1!==n)return this._reverseOffset([o,n]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(n=0){return this.slice(n,n+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},1999:(e,t,n)=>{"use strict";const r=n(848).Duplex,i=n(4378),o=n(4920);function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),r.call(this)}i(s,r),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=o},5780:(e,t,n)=>{var r=n(447),i=n(2840),o=n(7147),s=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},u=function(e,t,n,u){u=r(u);var l=!1;e.on("close",(function(){l=!0})),i(e,{readable:t,writable:n},(function(e){if(e)return u(e);l=!0,u()}));var d=!1;return function(t){if(!l&&!d)return d=!0,function(e){return!!a&&!!o&&(e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void u(t||new Error("stream was destroyed"))}},l=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(i,o){var s=o<t.length-1;return u(i,s,o>0,(function(t){e||(e=t),t&&r.forEach(l),s||(r.forEach(l),n(e))}))}));return t.reduce(d)}},1352:e=>{"use strict";const t={};function n(e,n,r){r||(r=Error);class i extends r{constructor(e,t,r){super(function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(e,t,r))}}i.prototype.name=r.name,i.prototype.code=e,t[e]=i}function r(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map((e=>String(e))),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){let i;var o;let s;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s=`The ${e} ${i} ${r(t,"type")}`;else{s=`The "${e}" ${"number"!=typeof c&&(c=0),c+".".length>(a=e).length||-1===a.indexOf(".",c)?"argument":"property"} ${i} ${r(t,"type")}`}var a,c;return s+=". Received type "+typeof n,s}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},2374:(e,t,n)=>{"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(6192),o=n(4249);n(4378)(u,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},5629:(e,t,n)=>{"use strict";e.exports=i;var r=n(4135);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(4378)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},6192:(e,t,n)=>{"use strict";var r;e.exports=R,R.ReadableState=C,n(2361).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},s=n(4343),a=n(4300).Buffer,c=global.Uint8Array||function(){},u=n(3837);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,h,f=n(3980),p=n(2194),m=n(7801).getHighWaterMark,g=n(1352).q,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(4378)(R,s);var _=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function C(e,t,i){r=r||n(2374),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=n(2553).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function R(e){if(r=r||n(2374),!(this instanceof R))return new R(e);var t=this instanceof r;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function T(e,t,n,r,o){i("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}}(e,u);else if(o||(s=function(e,t){var n,r;return r=t,a.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t)),n}(u,t)),s)_(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r)u.endEmitted?_(e,new w):E(e,u,t,!0);else if(u.ended)_(e,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?E(e,u,t,!1):P(e,u)):E(e,u,t,!1)}else r||(u.reading=!1,P(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),P(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=p.destroy,R.prototype._undestroy=p.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),T(this,e,t,!1,n)},R.prototype.unshift=function(e){return T(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){l||(l=n(2553).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var k=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(O,e))}function O(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function P(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(i("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){i("readable nexttick read 0"),e.read(0)}function L(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(q,t,e))}function q(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function H(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}R.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):x(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},R.prototype._read=function(e){_(this,new b("_read()"))},R.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,i("pipe count=%d opts=%j",r.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?p:a;function a(){i("onend"),e.end()}r.endEmitted?process.nextTick(s):n.once("end",s),e.on("unpipe",(function t(o,s){i("onunpipe"),o===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",h),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",a),n.removeListener("end",p),n.removeListener("data",l),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",c);var u=!1;function l(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==H(r.pipes,e))&&!u&&(i("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function d(t){i("onerror",t),p(),e.removeListener("error",d),0===o(e,"error")&&_(e,t)}function h(){e.removeListener("finish",f),p()}function f(){i("onfinish"),e.removeListener("close",h),p()}function p(){i("unpipe"),n.unpipe(e)}return n.on("data",l),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",d),e.once("close",h),e.once("finish",f),e.emit("pipe",n),r.flowing||(i("pipe resume"),n.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=H(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},R.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,i("on readable",r.length,r.reading),r.length?x(this):r.reading||process.nextTick(F,this))),n},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(N,this),n},R.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(N,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){i("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(5032)),d(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=A,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===h&&(h=n(268)),h(R,e,t)})},4135:(e,t,n)=>{"use strict";e.exports=l;var r=n(1352).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(2374);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(4378)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},4249:(e,t,n)=>{"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=R,R.WritableState=C;var o,s={deprecate:n(1159)},a=n(4343),c=n(4300).Buffer,u=global.Uint8Array||function(){},l=n(2194),d=n(7801).getHighWaterMark,h=n(1352).q,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function S(){}function C(e,t,o){i=i||n(2374),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(O,e,t),e._writableState.errorEmitted=!0,_(e,r)):(i(r),e._writableState.errorEmitted=!0,_(e,r),O(e,t))}(e,n,r,t,i);else{var o=D(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),r?process.nextTick(E,e,n,o,i):E(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function R(e){var t=this instanceof(i=i||n(2374));if(!t&&!o.call(R,this))return new R(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function T(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),O(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,T(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,d=n.callback;if(T(e,t,!1,t.objectMode?1:u.length,u,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var n=D(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(4378)(R,a),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===R&&e&&e._writableState instanceof C}})):o=function(e){return e instanceof this},R.prototype.pipe=function(){_(this,new g)},R.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,c.isBuffer(r)||r instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=S),i.ending?function(e,t){var n=new b;_(e,n),process.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i;return null===n?i=new v:"string"==typeof n||t.objectMode||(i=new f("chunk",["string","Buffer"],n)),!i||(_(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,a,r,i,o);return u}(this,i,s,e,t,n)),o},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,n){n(new p("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=l.destroy,R.prototype._undestroy=l.undestroy,R.prototype._destroy=function(e,t){t(e)}},5032:(e,t,n)=>{"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(7401),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[s]=null,e[a]=null,t(f(n,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[c]?n(e[c]):t(f(void 0,!0))}))}));var n,r=this[l];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(f(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(f(i,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(y,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[l]=null,n[s]=null,n[a]=null,e(f(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[s]=null,n[a]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[l]=null,n[s]=null,n[a]=null,r(f(void 0,!0))),n[u]=!0})),e.on("readable",m.bind(null,n)),n}},3980:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(4300).Buffer,a=n(3837).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,r,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,s.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&o(t.prototype,n),e}()},2194:e=>{"use strict";function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,e)):process.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(n,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(n,o),i(e)):process.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},7401:(e,t,n)=>{"use strict";var r=n(1352).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",l),!1!==n.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}},268:(e,t,n)=>{"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(1352).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){var r;if(t&&"function"==typeof t.next)r=t;else if(t&&t[Symbol.asyncIterator])r=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);r=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},n)),u=!1;function l(){return d.apply(this,arguments)}function d(){return(d=i((function*(){try{var e=yield r.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},3025:(e,t,n)=>{"use strict";var r,i=n(1352).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(7401)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){r||(r=e),e&&s.forEach(u),o||(s.forEach(u),i(r))}))}));return t.reduce(l)}},7801:(e,t,n)=>{"use strict";var r=n(1352).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},4343:(e,t,n)=>{e.exports=n(2781)},848:(e,t,n)=>{var r=n(2781);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(6192)).Stream=r||t,t.Readable=t,t.Writable=n(4249),t.Duplex=n(2374),t.Transform=n(4135),t.PassThrough=n(5629),t.finished=n(7401),t.pipeline=n(3025))},1786:(e,t,n)=>{var r=n(3837),i=n(1999),o=n(3536),s=n(848).Writable,a=n(848).PassThrough,c=function(){},u=function(e){return(e&=511)&&512-e},l=function(e,t){this._parent=e,this.offset=t,a.call(this,{autoDestroy:!1})};r.inherits(l,a),l.prototype.destroy=function(e){this._parent.destroy(e)};var d=function(e){if(!(this instanceof d))return new d(e);s.call(this,e),e=e||{},this._offset=0,this._buffer=i(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,n=t._buffer,r=function(){t._continue()},a=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||r()},h=function(){t._stream=null;var e=u(t._header.size);e?t._parse(e,f):t._parse(512,v),t._locked||r()},f=function(){t._buffer.consume(u(t._header.size)),t._parse(512,v),r()},p=function(){var e=t._header.size;t._paxGlobal=o.decodePax(n.slice(0,e)),n.consume(e),h()},m=function(){var e=t._header.size;t._pax=o.decodePax(n.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),n.consume(e),h()},g=function(){var r=t._header.size;this._gnuLongPath=o.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),h()},y=function(){var r=t._header.size;this._gnuLongLinkPath=o.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),h()},v=function(){var i,s=t._offset;try{i=t._header=o.decode(n.slice(0,512),e.filenameEncoding,e.allowUnknownFormat)}catch(e){t.emit("error",e)}return n.consume(512),i?"gnu-long-path"===i.type?(t._parse(i.size,g),void r()):"gnu-long-link-path"===i.type?(t._parse(i.size,y),void r()):"pax-global-header"===i.type?(t._parse(i.size,p),void r()):"pax-header"===i.type?(t._parse(i.size,m),void r()):(t._gnuLongPath&&(i.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(i.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=i=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(i,t._pax),t._pax=null),t._locked=!0,i.size&&"directory"!==i.type?(t._stream=new l(t,s),t.emit("entry",i,t._stream,a),t._parse(i.size,h),void r()):(t._parse(512,v),void t.emit("entry",i,function(e,t){var n=new l(e,t);return n.end(),n}(t,s),a))):(t._parse(512,v),void r())};this._onheader=v,this._parse(512,v)};r.inherits(d,s),d.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},d.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},d.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,e):e()}},d.prototype._write=function(e,t,n){if(!this._destroyed){var r=this._stream,i=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,r?r.write(e,n):(i.append(e),n());this._cb=n,this._missing=0;var s=null;e.length>o&&(s=e.slice(o),e=e.slice(0,o)),r?r.end(e):i.append(e),this._overflow=s,this._onparse()}},d.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=d},3536:(e,t)=>{var n=Buffer.alloc,r="0".charCodeAt(0),i=Buffer.from("ustar\0","binary"),o=Buffer.from("00","binary"),s=Buffer.from("ustar ","binary"),a=Buffer.from(" \0","binary"),c=parseInt("7777",8),u=function(e,t,n,r){for(;n<r;n++)if(e[n]===t)return n;return r},l=function(e){for(var t=256,n=0;n<148;n++)t+=e[n];for(var r=156;r<512;r++)t+=e[r];return t},d=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "},h=function(e,t,n){if(128&(e=e.slice(t,t+n))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var n=[],r=e.length-1;r>0;r--){var i=e[r];t?n.push(i):n.push(255-i)}var o=0,s=n.length;for(r=0;r<s;r++)o+=n[r]*Math.pow(256,r);return t?o:-1*o}(e);for(;t<e.length&&32===e[t];)t++;for(var r=(i=u(e,32,t,e.length),o=e.length,s=e.length,"number"!=typeof i?s:(i=~~i)>=o?o:i>=0||(i+=o)>=0?i:0);t<r&&0===e[t];)t++;return r===t?0:parseInt(e.slice(t,r).toString(),8);var i,o,s},f=function(e,t,n,r){return e.slice(t,u(e,0,t,t+n)).toString(r)},p=function(e){var t=Buffer.byteLength(e),n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e};t.decodeLongPath=function(e,t){return f(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=p(" path="+e.name+"\n")),e.linkname&&(t+=p(" linkpath="+e.linkname+"\n"));var n=e.pax;if(n)for(var r in n)t+=p(" "+r+"="+n[r]+"\n");return Buffer.from(t)},t.decodePax=function(e){for(var t={};e.length;){for(var n=0;n<e.length&&32!==e[n];)n++;var r=parseInt(e.slice(0,n).toString(),10);if(!r)return t;var i=e.slice(n+1,r-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.slice(r)}return t},t.encode=function(e){var t=n(512),s=e.name,a="";if(5===e.typeflag&&"/"!==s[s.length-1]&&(s+="/"),Buffer.byteLength(s)!==s.length)return null;for(;Buffer.byteLength(s)>100;){var u=s.indexOf("/");if(-1===u)return null;a+=a?"/"+s.slice(0,u):s.slice(0,u),s=s.slice(u+1)}return Buffer.byteLength(s)>100||Buffer.byteLength(a)>155||e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(s),t.write(d(e.mode&c,6),100),t.write(d(e.uid,6),108),t.write(d(e.gid,6),116),t.write(d(e.size,11),124),t.write(d(e.mtime.getTime()/1e3|0,11),136),t[156]=r+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),i.copy(t,257),o.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(d(e.devmajor||0,6),329),t.write(d(e.devminor||0,6),337),a&&t.write(a,345),t.write(d(l(t),6),148),t)},t.decode=function(e,t,n){var o=0===e[156]?0:e[156]-r,c=f(e,0,100,t),u=h(e,100,8),d=h(e,108,8),p=h(e,116,8),m=h(e,124,12),g=h(e,136,12),y=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(o),v=0===e[157]?null:f(e,157,100,t),b=f(e,265,32),w=f(e,297,32),_=h(e,329,8),S=h(e,337,8),C=l(e);if(256===C)return null;if(C!==h(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===i.compare(e,257,263))e[345]&&(c=f(e,345,155,t)+"/"+c);else if(0===s.compare(e,257,263)&&0===a.compare(e,263,265));else if(!n)throw new Error("Invalid tar header: unknown format.");return 0===o&&c&&"/"===c[c.length-1]&&(o=5),{name:c,mode:u,uid:d,gid:p,size:m,mtime:new Date(1e3*g),type:y,linkname:v,uname:b,gname:w,devmajor:_,devminor:S}}},7728:(e,t,n)=>{t.extract=n(1786),t.pack=n(7377)},7377:(e,t,n)=>{var r=n(7268),i=n(2840),o=n(4378),s=Buffer.alloc,a=n(848).Readable,c=n(848).Writable,u=n(1576).StringDecoder,l=n(3536),d=parseInt("755",8),h=parseInt("644",8),f=s(1024),p=function(){},m=function(e,t){(t&=511)&&e.push(f.slice(0,512-t))},g=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};o(g,c),g.prototype._write=function(e,t,n){if(this.written+=e.length,this._to.push(e))return n();this._to._drain=n},g.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this.linkname="",this._decoder=new u("utf-8"),this._destroyed=!1};o(y,c),y.prototype._write=function(e,t,n){this.linkname+=this._decoder.write(e),n()},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var v=function(){c.call(this),this._destroyed=!1};o(v,c),v.prototype._write=function(e,t,n){n(new Error("No body allowed for this entry"))},v.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var b=function(e){if(!(this instanceof b))return new b(e);a.call(this,e),this._drain=p,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o(b,a),b.prototype.entry=function(e,t,n){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(n=t,t=null),n||(n=p);var o=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&r.S_IFMT){case r.S_IFBLK:return"block-device";case r.S_IFCHR:return"character-device";case r.S_IFDIR:return"directory";case r.S_IFIFO:return"fifo";case r.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?d:h),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=Buffer.from(t)),Buffer.isBuffer(t)){e.size=t.length,this._encode(e);var s=this.push(t);return m(o,e.size),s?process.nextTick(n):this._drain=n,new v}if("symlink"===e.type&&!e.linkname){var a=new y;return i(a,(function(t){if(t)return o.destroy(),n(t);e.linkname=a.linkname,o._encode(e),n()})),a}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(n),new v;var c=new g(this);return this._stream=c,i(c,(function(t){return o._stream=null,t?(o.destroy(),n(t)):c.written!==e.size?(o.destroy(),n(new Error("size mismatch"))):(m(o,e.size),o._finalizing&&o.finalize(),void n())})),c}},b.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(f),this.push(null))},b.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},b.prototype._encode=function(e){if(!e.pax){var t=l.encode(e);if(t)return void this.push(t)}this._encodePax(e)},b.prototype._encodePax=function(e){var t=l.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(l.encode(n)),this.push(t),m(this,t.length),n.size=e.size,n.type=e.type,this.push(l.encode(n))},b.prototype._read=function(e){var t=this._drain;this._drain=p,t()},e.exports=b},6547:(e,t,n)=>{var r=n(2781);function i(e,t,n){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var i=!1,o=!1,s=[],a=!1,c=new r;function u(){for(;s.length&&!c.paused;){var e=s.shift();if(null===e)return c.emit("end");c.emit("data",e)}}function l(){c.writable=!1,t.call(c),!c.readable&&c.autoDestroy&&c.destroy()}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(n&&!1===n.autoDestroy),c.write=function(t){return e.call(this,t),!c.paused},c.queue=c.push=function(e){return a||(null===e&&(a=!0),s.push(e),u()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&process.nextTick((function(){c.destroy()}))})),c.end=function(e){if(!i)return i=!0,arguments.length&&c.write(e),l(),c},c.destroy=function(){if(!o)return o=!0,i=!0,s.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),u(),c.paused||c.emit("drain"),c},c}e.exports=i,i.through=i},4650:(e,t,n)=>{var r=n(1451).Transform,i=n(3837).inherits,o=n(7529);function s(e){r.call(this,e),this._destroyed=!1}function a(e,t,n){n(null,e)}function c(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=a),"function"!=typeof r&&(r=null),e(t,n,r)}}i(s,r),s.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;process.nextTick((function(){e&&t.emit("error",e),t.emit("close")}))}},e.exports=c((function(e,t,n){var r=new s(e);return r._transform=t,n&&(r._flush=n),r})),e.exports.ctor=c((function(e,t,n){function r(t){if(!(this instanceof r))return new r(t);this.options=o(e,t),s.call(this,this.options)}return i(r,s),r.prototype._transform=t,n&&(r.prototype._flush=n),r})),e.exports.obj=c((function(e,t,n){var r=new s(o({objectMode:!0,highWaterMark:16},e));return r._transform=t,n&&(r._flush=n),r}))},1830:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.notifyMissingCompileCommands=t.configureCompilationDatabase=void 0;const i=n(9496),o=n(7147),s=n(1017),a=n(2846),c=`${a.SONARLINT_CATEGORY}.pathToCompileCommands`,u="doNotAskAboutCompileCommands";let l=!1;function d(e){i.window.showInformationMessage(`Analysis configured. Compilation database path is set to: ${e}`);const[t,n]=function(e){if(!s.isAbsolute(e))return[e,void 0];for(const t of i.workspace.workspaceFolders||[]){const n=t.uri.fsPath;if(e.startsWith(n))return[`\${workspaceFolder}${e.replace(n,"")}`,t]}return[e,void 0]}(e);return void 0!==n?i.workspace.getConfiguration(a.SONARLINT_CATEGORY,n.uri).update("pathToCompileCommands",t,i.ConfigurationTarget.WorkspaceFolder):i.workspace.getConfiguration().update(c,t,i.ConfigurationTarget.Workspace)}function h(){return r(this,void 0,void 0,(function*(){const e=(yield i.workspace.findFiles("**/compile_commands.json")).filter((e=>o.existsSync(e.fsPath)));0===e.length?(i.window.showWarningMessage("No compilation databases were found in the workspace\n \n[How to generate compile commands](https://github.com/SonarSource/sonarlint-vscode/wiki/C-and-CPP-Analysis)"),i.workspace.getConfiguration().update(c,void 0,i.ConfigurationTarget.Workspace)):yield function(e){return r(this,void 0,void 0,(function*(){if(1===e.length)return d(e[0].fsPath);const t=e.map(((e,t)=>({label:e.fsPath,description:"",index:t})));t.sort(((e,t)=>e.label.localeCompare(t.label)));const n=yield i.window.showQuickPick(t,{placeHolder:"Pick a compilation database"});return n?d(e[n.index].fsPath):void 0}))}(e)}))}t.configureCompilationDatabase=h,t.notifyMissingCompileCommands=function(e){return()=>r(this,void 0,void 0,(function*(){if((yield function(e){return r(this,void 0,void 0,(function*(){return e.workspaceState.get(u,!1)}))}(e))||l)return;const t="Don't ask again",n="Ask me later",o="Configure compile commands";i.window.showWarningMessage("SonarLint is unable to analyze C and C++ file(s) because there is no configured compilation \n      database.",o,n,t).then((r=>{switch(r){case t:e.workspaceState.update(u,!0);break;case o:h();break;case n:l=!0}}))}))}},2238:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoBindingService=t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_FOLDER_FLAG=t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_WS_FLAG=void 0;const i=n(9496),o="Configure Binding",s="Choose Manually",a="Don't Ask Again";t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_WS_FLAG="doNotAskAboutAutoBindingForWorkspace",t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_FOLDER_FLAG="doNotAskAboutAutoBindingForFolder";const c="https://github.com/SonarSource/sonarlint-vscode/wiki/Connected-Mode",u=`There are folders in your workspace that are not bound to any SonarQube/SonarCloud projects.\n      Do you want to configure binding?\n      [Learn More](${c})`;class l{static init(e,t,n){l._instance=new l(e,t,n)}constructor(e,t,n){this.bindingService=e,this.workspaceState=t,this.settingsService=n}static get instance(){return l._instance}checkConditionsAndAttemptAutobinding(e){return r(this,void 0,void 0,(function*(){if(!this.isConnectionConfigured())return;if(this.workspaceState.get(t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_WS_FLAG))return;const n=e.suggestions;Object.keys(n).length>5?(yield this.askUserBeforeAutoBinding())&&this.autoBindAllFolders(n):this.autoBindAllFolders(n)}))}autoBindAllFolders(e){const t=this.getFoldersThatShouldNotBeAutoBound();Object.keys(e).forEach((n=>{const r=i.workspace.getWorkspaceFolder(i.Uri.parse(n));t.includes(r.uri.toString())||this.promptToAutoBind(e[n],r)}))}isConnectionConfigured(){const e=this.settingsService.getSonarCloudConnections(),t=this.settingsService.getSonarQubeConnections();return e.length>0||t.length>0}findFileByNameInFolderRequest(e){return r(this,void 0,void 0,(function*(){const t=i.Uri.parse(e.folderUri);return{foundFiles:(yield Promise.all(e.filenames.map((e=>l.instance.findFileInFolder(e,t))))).filter((e=>null!==e))}}))}getFoldersThatShouldNotBeAutoBound(){return this.workspaceState.get(t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_FOLDER_FLAG,[])}findFileInFolder(e,t){return r(this,void 0,void 0,(function*(){const n=i.Uri.joinPath(t,e);try{if((yield i.workspace.fs.stat(n)).type===i.FileType.File){const t=(yield i.workspace.fs.readFile(n)).toString();return{fileName:e,filePath:e,content:t}}}catch(e){return null}return null}))}getTargetConnectionForManualBinding(){return r(this,void 0,void 0,(function*(){const e=this.settingsService.getSonarQubeConnections(),t=this.settingsService.getSonarCloudConnections();let n;if(0===t.length&&1===e.length)n={label:this.computeItemLabel("SonarQube",e[0]),description:"SonarQube",connectionId:this.computeConnectionId(e[0]),contextValue:"sonarqubeConnection"};else if(0===e.length&&1===t.length)n={label:this.computeItemLabel("SonarCloud",t[0]),description:"SonarCloud",connectionId:this.computeConnectionId(t[0]),contextValue:"sonarcloudConnection"};else{const r=[];e.forEach((e=>{r.push({label:this.computeItemLabel("SonarQube",e),description:"SonarQube",connectionId:this.computeConnectionId(e),contextValue:"sonarqubeConnection"})})),t.forEach((e=>{r.push({label:this.computeItemLabel("SonarCloud",e),description:"SonarCloud",connectionId:this.computeConnectionId(e),contextValue:"sonarcloudConnection"})})),n=i.window.showQuickPick(r,{title:"Select Connection to Create Binding for",placeHolder:"For which connection do you want to create project binding?"})}return n}))}computeItemLabel(e,t){return"SonarQube"===e?t.connectionId?t.connectionId:t.serverUrl:t.connectionId?t.connectionId:t.organizationKey}computeConnectionId(e){return e.connectionId?e.connectionId:"<default>"}askUserBeforeAutoBinding(){return r(this,void 0,void 0,(function*(){return i.window.showInformationMessage(u,o,s,a).then((e=>r(this,void 0,void 0,(function*(){if(e===a)return this.workspaceState.update(t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_WS_FLAG,!0),!1;if(e===s){const e=yield this.getTargetConnectionForManualBinding();return yield this.bindingService.createOrEditBinding(e.connectionId,e.contextValue),!1}return e===o}))))}))}promptToAutoBind(e,t){return r(this,void 0,void 0,(function*(){if(1===e.length){const n=e[0];yield this.promptToAutoBindSingleOption(n,t)}else e.length>1?yield this.promptToAutoBindMultiChoice(t):yield this.promptToBindManually(t)}))}promptToBindManually(e){return r(this,void 0,void 0,(function*(){i.window.showInformationMessage(u,o,a).then((n=>r(this,void 0,void 0,(function*(){if(n===a)this.workspaceState.update(t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_FOLDER_FLAG,[...this.getFoldersThatShouldNotBeAutoBound(),e.uri.toString()]);else if(n===o){const e=yield this.getTargetConnectionForManualBinding();yield this.bindingService.createOrEditBinding(e.connectionId,e.contextValue)}}))))}))}promptToAutoBindSingleOption(e,n){return r(this,void 0,void 0,(function*(){const r=`Do you want to bind folder '${n.name}' to project '${e.sonarProjectKey}'`,u=this.isBindingSuggestionForSonarCloud(e)?`${r} of SonarCloud organization '${e.connectionId}'?`:`${r} of SonarQube server '${e.connectionId}'?`;switch(yield i.window.showInformationMessage(`${u}\n      [Learn More](${c})`,o,s,a)){case o:yield this.bindingService.saveBinding(e.sonarProjectKey,e.connectionId,n);break;case s:const r=yield this.getTargetConnectionForManualBinding();yield this.bindingService.createOrEditBinding(r.connectionId,r.contextValue);break;case a:yield this.workspaceState.update(t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_FOLDER_FLAG,[...this.getFoldersThatShouldNotBeAutoBound(),n.uri.toString()])}}))}isBindingSuggestionForSonarCloud(e){return this.settingsService.getSonarCloudConnections().filter((t=>e.connectionId===t.connectionId)).length>0}promptToAutoBindMultiChoice(e){return r(this,void 0,void 0,(function*(){switch(yield i.window.showInformationMessage(u,o,a)){case o:const n=yield this.getTargetConnectionForManualBinding();yield this.bindingService.createOrEditBinding(n.connectionId,n.contextValue);break;case a:yield this.workspaceState.update(t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_FOLDER_FLAG,[...this.getFoldersThatShouldNotBeAutoBound(),e.uri.toString()])}}))}}t.AutoBindingService=l},3934:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BindingService=t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_FOLDER_FLAG=void 0;const i=n(9496),o=n(3872),s=n(401),a=n(6708),c="sonarlint",u="connectedMode.project",l="<default>",d="Open Folder",h="Bind Manually";t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_FOLDER_FLAG="doNotAskAboutAutoBindingForFolder";class f{static init(e,t,n){f._instance=new f(e,t,n)}constructor(e,t,n){this.languageClient=e,this.workspaceState=t,this.settingsService=n}static get instance(){return f._instance}deleteBindingWithConfirmation(e){return r(this,void 0,void 0,(function*(){const t="Delete";return(yield i.window.showWarningMessage(`Are you sure you want to delete ${e.serverType} project binding '${e.name}'?`,{modal:!0},t))!==t?Promise.resolve(void 0):this.deleteBinding(e)}))}deleteBinding(e){return r(this,void 0,void 0,(function*(){const t=e instanceof s.WorkspaceFolderItem?e.uri:e.folder;return i.workspace.getConfiguration(c,t).update(u,void 0,i.ConfigurationTarget.WorkspaceFolder)}))}deleteBindingsForConnection(e){return r(this,void 0,void 0,(function*(){const t=e.id||l,n=this.getAllBindings().get(t);if(n)for(const e of n.values())yield Promise.all(e.map((e=>this.deleteBinding(e))))}))}getAllBindings(){const e=new Map;for(const t of i.workspace.workspaceFolders||[]){const n=i.workspace.getConfiguration(c,t.uri).get(u),r=n.projectKey;if(r){const i=n.connectionId||n.serverId||l;e.has(i)||e.set(i,new Map);const o=e.get(i);o.has(r)||o.set(r,[]),o.get(r).push({folder:t,binding:n})}}return e}createOrEditBinding(e,t,n,o){return r(this,void 0,void 0,(function*(){const r=i.workspace.workspaceFolders;if(!r)return void((yield i.window.showWarningMessage("No folder to bind, please open a workspace or folder first",d))===d&&i.commands.executeCommand("vscode.openFolder"));let s;o||(o="sonarqubeConnection"===t?"SonarQube":"SonarCloud"),n?s=n.name:(s=yield this.showFolderSelectionQuickPickOrReturnDefaultSelection(r),n=r.find((e=>e.name===s))),yield this.pickRemoteProjectToBind(e,n,o,s)}))}getBaseServerUrl(e,t){return r(this,void 0,void 0,(function*(){const n="SonarQube"===t?(yield this.settingsService.loadSonarQubeConnection(e)).serverUrl:(yield this.settingsService.loadSonarCloudConnection(e)).organizationKey;return(0,a.buildBaseServerUrl)(t,n)}))}pickRemoteProjectToBind(e,t,n,s){return r(this,void 0,void 0,(function*(){const r=yield this.getBaseServerUrl(e,n);let a;const c=yield this.getSuggestedItems(e,t,n),u=yield this.getRemoteProjectsItems(e,t,n),l=this.deduplicateQuickPickItems(c,u),d={label:"All Projects",kind:i.QuickPickItemKind.Separator},h={label:"Suggested Projects",kind:i.QuickPickItemKind.Separator};if(u){const u=i.window.createQuickPick();u.title=`Select ${n} Project to Bind with '${s}/'`,u.placeholder=`Select the remote project you want to bind with '${s}/' folder`,u.items=[h,...c,d,...l],u.ignoreFocusOut=!0,u.onDidTriggerItemButton((e=>{u.busy=!0,i.commands.executeCommand(o.Commands.OPEN_BROWSER,i.Uri.parse(`${r}?id=${e.item.description}`))})),u.onDidChangeSelection((n=>{a=n[0],this.saveBinding(a.description,e,t),u.dispose()})),u.show()}}))}deduplicateQuickPickItems(e,t){return e.forEach((e=>{t=t.filter((t=>t.description!==e.description))})),t}getSuggestedItems(e,t,n){return r(this,void 0,void 0,(function*(){const r="SonarQube"===n?yield this.settingsService.loadSonarQubeConnection(e):yield this.settingsService.loadSonarCloudConnection(e),i="SonarQube"===n?yield this.getConnectionToServerProjects([],[r]):yield this.getConnectionToServerProjects([r],[]),o=(0,a.getBestHitsForConnections)(i,t);return(0,a.serverProjectsToQuickPickItems)(o.get(r),n)}))}showFolderSelectionQuickPickOrReturnDefaultSelection(e){return r(this,void 0,void 0,(function*(){return 1===e.length?e[0].name:i.window.showQuickPick(e.map((e=>e.name)),{title:"Select Folder to Bind",placeHolder:"Select the workspace folder you want to create binding for"})}))}saveBinding(e,t,n){return r(this,void 0,void 0,(function*(){return i.window.showInformationMessage(`Workspace folder '${n.name}/'\n                      has been bound with project '${e}'`),i.workspace.getConfiguration(c,n).update(u,{connectionId:t,projectKey:e})}))}getRemoteProjects(e){return r(this,void 0,void 0,(function*(){return this.languageClient.getRemoteProjectsForConnection(e)}))}getRemoteProjectsItems(e,t,n){return r(this,void 0,void 0,(function*(){const o=e||l,s=[];try{let e=yield this.getRemoteProjects(o);e instanceof Map||(e=new Map(Object.entries(e))),0===e.size&&i.window.showWarningMessage("No remote projects to display.",h).then((e=>r(this,void 0,void 0,(function*(){e===h&&function(e){r(this,void 0,void 0,(function*(){void 0===i.workspace.getConfiguration(c,e).get(u).projectKey&&(yield i.workspace.getConfiguration(c,e).update(u,{connectionId:"",projectKey:""})),i.commands.executeCommand("workbench.action.openFolderSettingsFile")}))}(t)})))),e.forEach(((e,t)=>{s.push({label:e,description:t,buttons:[{iconPath:new i.ThemeIcon("link-external"),tooltip:`View in ${n}`}]})}))}catch(e){i.window.showErrorMessage("Request Failed: Could not get the list of remote projects. Please check the connection.")}return s.sort(((e,t)=>e.label.localeCompare(t.label,"en"))),s}))}shouldBeAutoBound(e){const n=this.workspaceState.get(t.DO_NOT_ASK_ABOUT_AUTO_BINDING_FOR_FOLDER_FLAG,[]);return!this.isBound(e)&&!n.includes(e.uri.toString())}isBound(e){return!!i.workspace.getConfiguration(c,e.uri).get(u).projectKey}getConnectionToServerProjects(e,t){return r(this,void 0,void 0,(function*(){const n=new Map;return yield this.setProjectsForConnection(e,n),yield this.setProjectsForConnection(t,n),n}))}setProjectsForConnection(e,t){return r(this,void 0,void 0,(function*(){for(const n of e){const e=yield this.languageClient.getRemoteProjectsForConnection(n.connectionId),r=Object.entries(e).map((e=>({key:e[0],name:e[1]})));t.set(n,r)}}))}}t.BindingService=f},401:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AllConnectionsTreeDataProvider=t.ConnectionGroup=t.Connection=t.RemoteProject=t.WorkspaceFolderItem=void 0;const i=n(9496),o=n(3934),s=n(2320),a="<default>";class c extends i.TreeItem{constructor(e,t,n,r){super(e,i.TreeItemCollapsibleState.None),this.name=e,this.uri=t,this.connectionId=n,this.serverType=r,this.iconPath=i.ThemeIcon.Folder,this.contextValue="workspaceFolder"}}t.WorkspaceFolderItem=c;class u extends i.TreeItem{constructor(e,t,n,r){super(r||"<project not found>",i.TreeItemCollapsibleState.Expanded),this.connectionId=e,this.key=t,this.serverType=n,this.name=r,this.description=t,this.iconPath=new i.ThemeIcon(r?"cloud":"question"),this.contextValue="remoteProject"}}t.RemoteProject=u;class l extends i.TreeItem{constructor(e,t,n,r){super(t,i.TreeItemCollapsibleState.Collapsed),this.id=e,this.label=t,this.contextValue=n,this.status=r,this.collapsibleState=i.TreeItemCollapsibleState.Collapsed,this.iconPath=this.getIconPath()}getIconPath(){return"ok"===this.status?new i.ThemeIcon("pass",new i.ThemeColor("debugIcon.pauseForeground")):"notok"===this.status?new i.ThemeIcon("error",new i.ThemeColor("testing.iconFailed")):new i.ThemeIcon("circle-large-outline",new i.ThemeColor("debugConsole.warningForeground"))}refresh(){this.iconPath=this.getIconPath()}}t.Connection=l;class d extends i.TreeItem{constructor(e,t,n){super(t,i.TreeItemCollapsibleState.Collapsed),this.id=e,this.label=t,this.contextValue=n}}t.ConnectionGroup=d,t.AllConnectionsTreeDataProvider=class{constructor(e){this.client=e,this._onDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.allConnections={sonarqube:Array.from([]),sonarcloud:Array.from([])}}getConnections(e){return r(this,void 0,void 0,(function*(){const t="sonarqube"===e?"sonarqubeConnection":"sonarcloudConnection",n="connectionId",i="sonarqube"===e?"serverUrl":"organizationKey",o="sonarqube"===e?s.ConnectionSettingsService.instance.getSonarQubeConnections():s.ConnectionSettingsService.instance.getSonarCloudConnections(),c=yield Promise.all(o.map((e=>r(this,void 0,void 0,(function*(){const r=e[n]?e[n]:e[i];let o="loading";const s=e.connectionId?e.connectionId:a;try{const e=yield this.checkConnection(s);e.success?o="ok":/unknown/.test(e.reason)||(o="notok")}catch(e){console.log(e)}return new l(e.connectionId,r,t,o)})))));return this.allConnections[e]=c,c}))}checkConnection(e){return r(this,void 0,void 0,(function*(){return this.client.checkConnection(e)}))}refresh(e){e?this._onDidChangeTreeData.fire(e):this._onDidChangeTreeData.fire(null)}getTreeItem(e){return e}getChildren(e){return r(this,void 0,void 0,(function*(){if(!e)return this.getInitialState();if("sonarQubeGroup"===e.contextValue)return this.getConnections("sonarqube");if("sonarCloudGroup"===e.contextValue)return this.getConnections("sonarcloud");if("sonarqubeConnection"===e.contextValue||"sonarcloudConnection"===e.contextValue){const t=e,n="sonarqubeConnection"===e.contextValue?"SonarQube":"SonarCloud";return this.getBoundProjects(t.id,n)}if("remoteProject"===e.contextValue){const t=e;return this.getWorkspaceFoldersBoundTo(t.connectionId,t.key,t.serverType)}return null}))}getBoundProjects(e,t){return r(this,void 0,void 0,(function*(){const n=o.BindingService.instance.getAllBindings().get(e||a);if(!n)return[];const r=[...n.keys()],i=yield this.client.getRemoteProjectNames(e||a,r);return r.map((n=>new u(e,n,t,i[n])))}))}getWorkspaceFoldersBoundTo(e,t,n){const r=o.BindingService.instance.getAllBindings().get(e||a);if(!r)return[];const i=r.get(t);return i?i.map((t=>new c(t.folder.name,t.folder,e,n))):[]}getInitialState(){const e=s.ConnectionSettingsService.instance.getSonarQubeConnections(),t=s.ConnectionSettingsService.instance.getSonarCloudConnections();return[e.length>0?new d("sonarqube","SonarQube","sonarQubeGroup"):null,t.length>0?new d("sonarcloud","SonarCloud","sonarCloudGroup"):null]}reportConnectionCheckResult(e){e.connectionId===a&&(e.connectionId=void 0);const t=[...this.allConnections.sonarqube,...this.allConnections.sonarcloud].find((t=>t.id===e.connectionId));t&&(t.status=e.success?"ok":"notok",t.refresh(),this.refresh(t))}}},5714:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleTokenReceivedNotification=t.handleMessage=t.reportConnectionCheckResult=t.editSonarCloudConnection=t.editSonarQubeConnection=t.connectToSonarCloud=t.connectToSonarQube=void 0;const i=n(9496),o=n(3872),s=n(2320),a=n(5285),c=n(2144);let u;function l(e){u.webview.onDidReceiveMessage(f),u.iconPath=a.resolveExtensionFile("images",`${e.toLowerCase()}.svg`),u.reveal()}function d(e,t){u||(u=i.window.createWebviewPanel("sonarlint.ConnectionSetup",`${t} Connection`,i.ViewColumn.Active,{enableScripts:!0}),u.onDidDispose((()=>{u=void 0}),null,e.subscriptions))}function h(e,t,n){const r=new c.ResourceResolver(e,t),i=r.resolve("styles","connectionsetup.css"),o=r.resolve("node_modules","@vscode","webview-ui-toolkit","dist","toolkit.min.js"),a=r.resolve("webview-ui","connectionsetup.js"),{mode:u,initialState:l}=n,d=(0,s.isSonarQubeConnection)(l),h=d?"SonarQube":"SonarCloud",f=d?"https://docs.sonarqube.org/latest/user-guide/connected-mode/":"https://docs.sonarcloud.io/advanced-setup/sonarlint-smart-notifications/",p=(0,c.escapeHtml)(l.connectionId)||"",m=(0,c.escapeHtml)(l.token);return`<!doctype html><html lang="en">\n    <head>\n      <title>${h} Connection</title>\n      <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />\n      <meta http-equiv="Encoding" content="utf-8" />\n      <meta http-equiv="Content-Security-Policy"\n        content="default-src 'none'; style-src ${t.cspSource}; script-src ${t.cspSource}"/>\n      <link rel="stylesheet" type="text/css" href="${i}" />\n      <script type="module" src="${o}"><\/script>\n      <script type="module" src="${a}"><\/script>\n    </head>\n    <body>\n      <h1>${"create"===u?"New":"Edit"} ${h} Connection</h1>\n      <form id="connectionForm">\n        ${function(e){if((0,s.isSonarQubeConnection)(e)){const t=(0,c.escapeHtml)(e.serverUrl);return`<vscode-text-field id="serverUrl" type="url" placeholder="https://your.sonarqube.server/" required size="40"\n    title="The base URL for your SonarQube server" autofocus value="${t}">\n      Server URL\n    </vscode-text-field>\n    <input type="hidden" id="serverUrl-initial" value="${t}" />`}return""}(l)}\n        ${function(e,t){return`<div id="tokenGeneration" class="formRowWithStatus">\n      <vscode-button id="generateToken" ${(0,s.isSonarQubeConnection)(e)&&""===e.serverUrl?"disabled":""}>\n        Generate Token\n      </vscode-button>\n      <span id="tokenGenerationProgress" class="hidden">\n        <vscode-progress-ring/>\n      </span>\n      <span id="tokenGenerationResult"></span>\n    </div>\n    <p>\n      You can use the button above to generate a user token in your ${t} settings,\n      copy it and paste it in the field below.\n    </p>`}(l,h)}\n        <div class="formRowWithStatus">\n          <vscode-text-field id="token" type="password" placeholder="········" required size="40"\n            title="A user token generated for your account on ${h}" value="${m}">\n            User Token\n          </vscode-text-field>\n          <span id="tokenStatus" class="hidden">Token received!</span>\n          <input type="hidden" id="token-initial" value="${m}" />\n        </div>\n        ${function(e){if((0,s.isSonarQubeConnection)(e))return"";const t=(0,c.escapeHtml)(e.organizationKey);return`<vscode-text-field id="organizationKey" type="text" placeholder="your-organization" required size="40"\n    title="The key of your organization on SonarCloud" autofocus value="${t}">\n      Organization Key\n    </vscode-text-field>\n    <input type="hidden" id="organizationKey-initial" value="${t}" />`}(l)}\n        <vscode-text-field id="connectionId" type="text" placeholder="My ${h} Connection" size="40"\n          title="Optionally, please give this connection a memorable name" value="${p}"\n          ${"update"===n.mode?"readonly":""}>\n          Connection Name\n        </vscode-text-field>\n        <input type="hidden" id="connectionId-initial" value="${p}" />\n        <input type="hidden" id="shouldGenerateConnectionId" value="${"create"===u}"/>\n        <vscode-checkbox id="enableNotifications" ${l.disableNotifications?"":"checked"}>\n          Receive notifications from ${h}\n        </vscode-checkbox>\n        <input type="hidden" id="enableNotifications-initial" value="${!l.disableNotifications}" />\n        <p>\n          You will receive\n          <vscode-link target="_blank" href="${f}">notifications</vscode-link>\n          from ${h} in situations like:\n        </p>\n        <ul>\n          <li>the Quality Gate status of a bound project changes</li>\n          <li>the latest analysis of a bound project on ${h} raises new issues assigned to you</li>\n        </ul>\n        <div id="connectionCheck" class="formRowWithStatus">\n          <vscode-button id="saveConnection" disabled>Save Connection</vscode-button>\n          <span id="connectionProgress" class="hidden">\n            <vscode-progress-ring/>\n          </span>\n          <span id="connectionStatus"></span>\n        </div>\n      </form>\n    </body>\n  </html>`}function f(e){return r(this,void 0,void 0,(function*(){switch(e.command){case"openTokenGenerationPage":yield function(e){return r(this,void 0,void 0,(function*(){const{serverUrl:t}=e,n=p(t);try{const e=yield s.ConnectionSettingsService.instance.getTokenGenerationUrl(n);yield u.webview.postMessage({command:"tokenGenerationPageIsOpen"}),yield i.commands.executeCommand(o.Commands.OPEN_BROWSER,i.Uri.parse(e))}catch(e){yield u.webview.postMessage({command:"tokenGenerationPageIsOpen",errorMessage:"Incorrect URL or server is not available"})}}))}(e);break;case"saveConnection":delete e.command,e.disableNotifications||delete e.disableNotifications,e.connectionId||delete e.connectionId,e.serverUrl&&(e.serverUrl=p(e.serverUrl)),yield function(e){return r(this,void 0,void 0,(function*(){if((0,s.isSonarQubeConnection)(e)){const t=yield s.ConnectionSettingsService.instance.loadSonarQubeConnection(e.connectionId);yield u.webview.postMessage({command:"connectionCheckStart"}),t?yield s.ConnectionSettingsService.instance.updateSonarQubeConnection(e):yield s.ConnectionSettingsService.instance.addSonarQubeConnection(e)}else{const t=yield s.ConnectionSettingsService.instance.loadSonarCloudConnection(e.connectionId);yield u.webview.postMessage({command:"connectionCheckStart"}),t?yield s.ConnectionSettingsService.instance.updateSonarCloudConnection(e):yield s.ConnectionSettingsService.instance.addSonarCloudConnection(e)}}))}(e)}}))}function p(e){return function(e){let t=e;for(;t.endsWith("/");)t=t.substring(0,t.length-1);return t}(e.trim())}t.connectToSonarQube=function(e){return()=>{const t="SonarQube";d(e,t),u.webview.html=h(e,u.webview,{mode:"create",initialState:{serverUrl:"",token:"",connectionId:""}}),l(t)}},t.connectToSonarCloud=function(e){return()=>{const t="SonarCloud";d(e,t),u.webview.html=h(e,u.webview,{mode:"create",initialState:{organizationKey:"",token:"",connectionId:""}}),l(t)}},t.editSonarQubeConnection=function(e){return t=>r(this,void 0,void 0,(function*(){const n="string"==typeof t?t:(yield t).id,r=yield s.ConnectionSettingsService.instance.loadSonarQubeConnection(n),i="SonarQube";d(e,i),u.webview.html=h(e,u.webview,{mode:"update",initialState:r}),l(i)}))},t.editSonarCloudConnection=function(e){return t=>r(this,void 0,void 0,(function*(){const n="string"==typeof t?t:(yield t).id,r=yield s.ConnectionSettingsService.instance.loadSonarCloudConnection(n),i="SonarCloud";d(e,i),u.webview.html=h(e,u.webview,{mode:"update",initialState:r}),l(i)}))},t.reportConnectionCheckResult=function(e){return r(this,void 0,void 0,(function*(){if(u){const t=e.success?"connectionCheckSuccess":"connectionCheckFailure";u.webview.postMessage(Object.assign({command:t},e))}else if(e.success)i.window.showInformationMessage(`Connection with '${e.connectionId}' was successful!`);else{const t="Edit Connection";(yield i.window.showErrorMessage(`Connection with '${e.connectionId}' failed. Please check your settings.`,t))===t&&i.commands.executeCommand(o.Commands.EDIT_SONARQUBE_CONNECTION,e.connectionId)}}))},t.handleMessage=f,t.handleTokenReceivedNotification=function(e){return r(this,void 0,void 0,(function*(){u&&u.active&&(yield u.webview.postMessage({command:"tokenReceived",token:e}))}))}},112:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=t.toUrl=void 0;const i=n(2081),o=n(8565),s=n(1017),a=n(9496),c=n(1830),u=n(2238),l=n(3934),d=n(401),h=n(5714),f=n(5201),p=n(5072),m=n(6067),g=n(6151),y=n(3237),v=n(1317),b=n(4840),w=n(9759),_=n(17),S=n(8977),C=n(4445),R=n(8979),T=n(2320),E=n(2846),k=n(3872),D=n(5758),x=n(2650),O=n(8635),P=n(7458),I=n(5285),N=[{scheme:"file",pattern:"**/*"},{notebook:{scheme:"file",notebookType:"jupyter-notebook"},language:"python"}];let F,L,M,A,j,q,H,U,$,B;function W(e){return t=>{const n=(0,E.getSonarLintConfiguration)(),r=n.get("rules")||{};if("string"==typeof t)r[t]={level:e};else{const{key:n,activeByDefault:i}=t.rule;r[n]="on"===e&&!i||"off"===e&&i?{level:e}:void 0}return n.update("rules",r,a.ConfigurationTarget.Global)}}function z(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((n=>{0===e.indexOf(`${n}`)&&(t=n)})),t}function V(){const e=H.countAllHotspots();U.badge=e>0?{value:e,tooltip:`Total ${e} Security Hotspots`}:void 0}function K(e){return r(this,void 0,void 0,(function*(){return T.ConnectionSettingsService.instance.getServerToken(e)}))}function G(e){return r(this,void 0,void 0,(function*(){if(yield F.showAllLocations(e),e.creationDate){const t=e.creationDate?o.DateTime.fromISO(e.creationDate).toLocaleString(o.DateTime.DATETIME_MED):null;L.message=t?`Analyzed ${t} on '${e.connectionId}'`:"Detected by SonarLint"}else L.message=null;e.flows.length>0&&L.reveal(F.getChildren(null)[0])}))}function J(){F.hideLocations(),L.message=null}t.toUrl=function(e){let t=s.resolve(e).replace(/\\/g,"/");return"/"!==t[0]&&(t="/"+t),encodeURI("file://"+t)},t.activate=function(e){(0,E.loadInitialSettings)(),I.setExtensionContext(e),(0,D.initLogOutput)(e);const t=a.workspace.createFileSystemWatcher("**/*.py");e.subscriptions.push(t);const n={documentSelector:N,synchronize:{configurationSection:"sonarlint",fileEvents:t},uriConverters:{code2Protocol:P.code2ProtocolConverter,protocol2Code:P.protocol2CodeConverter},diagnosticCollectionName:"sonarlint",initializationOptions:()=>({productKey:"vscode",telemetryStorage:s.resolve(e.extensionPath,"..","sonarlint_usage"),productName:"SonarLint VSCode",productVersion:I.packageJson.version,workspaceName:a.workspace.name,firstSecretDetected:(0,R.isFirstSecretDetected)(e),showVerboseLogs:a.workspace.getConfiguration().get("sonarlint.output.showVerboseLogs",!1),platform:(0,x.getPlatform)(),architecture:process.arch,additionalAttributes:{vscode:{remoteName:z(a.env.remoteName),uiKind:a.UIKind[a.env.uiKind]}},enableNotebooks:!0}),outputChannel:(0,D.getLogOutput)(),revealOutputChannelOn:4};M=new v.SonarLintExtendedLanguageClient("sonarlint","SonarLint Language Server",(()=>function(e){return(0,O.resolveRequirements)(e).catch((e=>{throw a.window.showErrorMessage(e.message,e.label).then((t=>{e.label&&e.label===t&&e.command&&a.commands.executeCommand(e.command,e.commandParam)})),e})).then((t=>new Promise(((n,r)=>{const{command:o,args:s}=(0,w.languageServerCommand)(e,t);(0,D.logToSonarLintOutput)(`Executing ${o} ${s.join(" ")}`);const a=i.spawn(o,s);a.stderr.on("data",(function(e){!function(e,t){(0,E.isVerboseEnabled)()&&e.toString().split(/\r\n|\r|\n/).forEach((e=>{e.length>0&&(0,D.logToSonarLintOutput)(`[stderr] ${e}`)}))}(e)})),n({reader:a.stdout,writer:a.stdin})}))))}(e)),n),T.ConnectionSettingsService.init(e,M),(0,T.migrateConnectedModeSettings)((0,E.getCurrentConfiguration)(),T.ConnectionSettingsService.instance),l.BindingService.init(M,e.workspaceState,T.ConnectionSettingsService.instance),u.AutoBindingService.init(l.BindingService.instance,e.workspaceState,T.ConnectionSettingsService.instance),M.start().then((()=>{!function(e){M.onNotification(b.ShowRuleDescriptionNotification.type,(0,_.showRuleDescription)(e)),M.onNotification(b.SuggestBindingNotification.type,(e=>function(e){(0,D.logToSonarLintOutput)(`Received binding suggestions: ${JSON.stringify(e)}`),u.AutoBindingService.instance.checkConditionsAndAttemptAutobinding(e)}(e))),M.onRequest(b.FindFileByNamesInFolderRequest.type,(e=>u.AutoBindingService.instance.findFileByNameInFolderRequest(e))),M.onRequest(b.GetTokenForServer.type,(e=>K(e))),M.onRequest(b.GetJavaConfigRequest.type,(e=>(0,g.getJavaConfig)(M,e))),M.onRequest(b.ScmCheckRequest.type,(e=>(0,C.isIgnoredByScm)(e))),M.onRequest(b.EditorOpenCheck.type,(e=>function(e){const t=a.Uri.parse(e).toString(!1),n=a.workspace.textDocuments.some((e=>e.uri.toString(!1)===t)),r=a.workspace.notebookDocuments.some((e=>e.uri.toString(!1)===t));return n||r}(e))),M.onNotification(b.ReportConnectionCheckResult.type,(e=>r(this,void 0,void 0,(function*(){yield(0,h.reportConnectionCheckResult)(e),q.reportConnectionCheckResult(e)})))),M.onNotification(b.ShowNotificationForFirstSecretsIssueNotification.type,(()=>(0,R.showNotificationForFirstSecretsIssue)(e))),M.onNotification(b.ShowSonarLintOutputNotification.type,(()=>a.commands.executeCommand(k.Commands.SHOW_SONARLINT_OUTPUT))),M.onNotification(b.OpenJavaHomeSettingsNotification.type,(()=>a.commands.executeCommand(k.Commands.OPEN_SETTINGS,O.JAVA_HOME_CONFIG))),M.onNotification(b.OpenPathToNodeSettingsNotification.type,(()=>a.commands.executeCommand(k.Commands.OPEN_SETTINGS,"sonarlint.pathToNodeExecutable"))),M.onNotification(b.BrowseToNotification.type,(e=>a.commands.executeCommand(k.Commands.OPEN_BROWSER,a.Uri.parse(e)))),M.onNotification(b.OpenConnectionSettingsNotification.type,(e=>{const t="sonarlint.connectedMode.connections."+(e?"sonarcloud":"sonarqube");return a.commands.executeCommand(k.Commands.OPEN_SETTINGS,t)})),M.onNotification(b.ShowHotspotNotification.type,(e=>(0,p.showSecurityHotspot)(U,H,e))),M.onNotification(b.ShowIssueOrHotspotNotification.type,G),M.onNotification(b.NeedCompilationDatabaseRequest.type,(0,c.notifyMissingCompileCommands)(e)),M.onRequest(b.GetTokenForServer.type,(e=>K(e))),M.onNotification(b.SubmitTokenNotification.type,(e=>(0,h.handleTokenReceivedNotification)(e))),M.onNotification(b.PublishHotspotsForFile.type,(e=>{H.refresh(e),V()}))}(e);const t=a.window.createStatusBarItem(),n=(0,C.initScm)(M,t);e.subscriptions.push(n),e.subscriptions.push(M.onRequest(b.GetBranchNameForFolderRequest.type,(e=>n.getBranchForFolder(a.Uri.parse(e))))),e.subscriptions.push(M.onNotification(b.SetReferenceBranchNameForFolderNotification.type,(e=>{n.setReferenceBranchName(a.Uri.parse(e.folderUri),e.branchName)}))),e.subscriptions.push(t),a.window.onDidChangeActiveTextEditor((e=>n.updateReferenceBranchStatusItem(e))),A=new S.AllRulesTreeDataProvider((()=>M.listAllRules())),j=a.window.createTreeView("SonarLint.AllRules",{treeDataProvider:A}),e.subscriptions.push(j)})),F=new y.SecondaryLocationsTree,L=a.window.createTreeView("SonarLint.IssueLocations",{treeDataProvider:F}),e.subscriptions.push(L),a.workspace.onDidChangeConfiguration((e=>r(this,void 0,void 0,(function*(){e.affectsConfiguration("sonarlint.rules")&&A.refresh(),e.affectsConfiguration("sonarlint.connectedMode")&&q.refresh()})))),function(e){e.subscriptions.push(a.commands.registerCommand(k.Commands.SHOW_ALL_LOCATIONS,G)),e.subscriptions.push(a.commands.registerCommand(k.Commands.CLEAR_LOCATIONS,J)),e.subscriptions.push(a.commands.registerCommand(k.Commands.NAVIGATE_TO_LOCATION,y.navigateToLocation)),e.subscriptions.push(a.commands.registerCommand(k.Commands.DEACTIVATE_RULE,W("off"))),e.subscriptions.push(a.commands.registerCommand(k.Commands.ACTIVATE_RULE,W("on"))),e.subscriptions.push(a.commands.registerCommand(k.Commands.SHOW_HOTSPOT_RULE_DESCRIPTION,(e=>M.showHotspotRuleDescription(e.ruleKey,e.key,e.fileUri)))),e.subscriptions.push(a.commands.registerCommand(k.Commands.OPEN_HOTSPOT_ON_SERVER,(e=>M.openHotspotOnServer(e.key,e.fileUri)))),e.subscriptions.push(a.commands.registerCommand(k.Commands.SHOW_HOTSPOT_LOCATION,(e=>M.showHotspotLocations(e.key,e.fileUri)))),e.subscriptions.push(a.commands.registerCommand(k.Commands.HIGHLIGHT_REMOTE_HOTSPOT_LOCATION,(e=>(0,p.showSecurityHotspot)(U,H)))),e.subscriptions.push(a.commands.registerCommand(k.Commands.CLEAR_HOTSPOT_HIGHLIGHTING,J)),e.subscriptions.push(a.commands.registerCommand(k.Commands.SHOW_ALL_RULES,(()=>A.filter(null)))),e.subscriptions.push(a.commands.registerCommand(k.Commands.SHOW_ACTIVE_RULES,(()=>A.filter("on")))),e.subscriptions.push(a.commands.registerCommand(k.Commands.SHOW_INACTIVE_RULES,(()=>A.filter("off")))),e.subscriptions.push(a.commands.registerCommand(k.Commands.OPEN_RULE_BY_KEY,(e=>r(this,void 0,void 0,(function*(){yield a.commands.executeCommand(k.Commands.SHOW_ALL_RULES),yield j.reveal(new S.RuleNode({key:e.toUpperCase()}),{focus:!0,expand:!0})}))))),e.subscriptions.push(a.commands.registerCommand(k.Commands.FIND_RULE_BY_KEY,(()=>r(this,void 0,void 0,(function*(){const e=yield a.window.showInputBox({prompt:"Rule Key",validateInput:e=>A.checkRuleExists(e)});yield a.commands.executeCommand(k.Commands.OPEN_RULE_BY_KEY,e)}))))),e.subscriptions.push(a.commands.registerCommand(k.Commands.SHOW_SONARLINT_OUTPUT,(()=>(0,D.showLogOutput)()))),e.subscriptions.push(a.commands.registerCommand(k.Commands.INSTALL_MANAGED_JRE,O.installManagedJre)),e.subscriptions.push(a.commands.registerCommand(k.Commands.HIDE_HOTSPOT,(()=>{(0,p.hideSecurityHotspot)(H),V()}))),e.subscriptions.push(a.commands.registerCommand(k.Commands.SHOW_HOTSPOT_DESCRIPTION,p.showHotspotDescription)),e.subscriptions.push(a.commands.registerCommand(k.Commands.CONFIGURE_COMPILATION_DATABASE,c.configureCompilationDatabase)),e.subscriptions.push(a.commands.registerCommand(k.Commands.CONNECT_TO_SONARQUBE,(0,h.connectToSonarQube)(e))),e.subscriptions.push(a.commands.registerCommand(k.Commands.CONNECT_TO_SONARCLOUD,(0,h.connectToSonarCloud)(e))),e.subscriptions.push(a.commands.registerCommand(k.Commands.EDIT_SONARQUBE_CONNECTION,(0,h.editSonarQubeConnection)(e))),e.subscriptions.push(a.commands.registerCommand(k.Commands.EDIT_SONARCLOUD_CONNECTION,(0,h.editSonarCloudConnection)(e))),e.subscriptions.push(a.commands.registerCommand(k.Commands.ADD_PROJECT_BINDING,(e=>l.BindingService.instance.createOrEditBinding(e.id,e.contextValue)))),e.subscriptions.push(a.commands.registerCommand(k.Commands.REMOVE_CONNECTION,(e=>r(this,void 0,void 0,(function*(){(yield T.ConnectionSettingsService.instance.removeConnection(e))&&l.BindingService.instance.deleteBindingsForConnection(e)}))))),e.subscriptions.push(a.commands.registerCommand(k.Commands.EDIT_PROJECT_BINDING,(e=>l.BindingService.instance.createOrEditBinding(e.connectionId,e.contextValue,e.uri,e.serverType)))),e.subscriptions.push(a.commands.registerCommand(k.Commands.REMOVE_PROJECT_BINDING,(e=>l.BindingService.instance.deleteBindingWithConfirmation(e)))),e.subscriptions.push(a.commands.registerCommand(k.Commands.TRIGGER_HELP_AND_FEEDBACK_LINK,(e=>{M.helpAndFeedbackLinkClicked(e.id),a.commands.executeCommand(k.Commands.OPEN_BROWSER,a.Uri.parse(e.url))}))),e.subscriptions.push(a.commands.registerCommand(k.Commands.SCAN_FOR_HOTSPOTS_IN_FOLDER,(e=>r(this,void 0,void 0,(function*(){yield H.showHotspotsInFolder(),yield function(e){return r(this,void 0,void 0,(function*(){yield(0,p.useProvidedFolderOrPickManuallyAndScan)(e,a.workspace.workspaceFolders,M,p.getFilesForHotspotsAndLaunchScan)}))}(e)}))))),e.subscriptions.push(a.commands.registerCommand(k.Commands.SHOW_HOTSPOTS_IN_OPEN_FILES,(()=>r(this,void 0,void 0,(function*(){yield H.showHotspotsInOpenFiles(),M.forgetFolderHotspots()}))))),e.subscriptions.push(a.commands.registerCommand(k.Commands.FORGET_FOLDER_HOTSPOTS,(()=>M.forgetFolderHotspots())))}(e),q=new d.AllConnectionsTreeDataProvider(M);const o=a.window.createTreeView("SonarLint.ConnectedMode",{treeDataProvider:q});e.subscriptions.push(o),H=new m.AllHotspotsTreeDataProvider(T.ConnectionSettingsService.instance),U=a.window.createTreeView("SonarLint.SecurityHotspots",{treeDataProvider:H}),e.subscriptions.push(U),$=new f.HelpAndFeedbackTreeDataProvider,B=a.window.createTreeView("SonarLint.HelpAndFeedback",{treeDataProvider:$}),e.subscriptions.push(B),e.subscriptions.push((0,E.onConfigurationChange)()),e.subscriptions.push(a.extensions.onDidChange((()=>{(0,g.installClasspathListener)(M)}))),(0,g.installClasspathListener)(M)},t.deactivate=function(){if(M)return M.stop()}},5201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HelpAndFeedbackTreeDataProvider=t.HelpAndFeedbackLink=t.helpAndFeedbackViewItems=void 0;const r=n(9496),i=n(3872);t.helpAndFeedbackViewItems=[{id:"docs",label:"Read Documentation",url:"https://github.com/SonarSource/sonarlint-vscode/wiki",icon:"book"},{id:"getHelp",label:"Get Help | Report Issue",url:"https://community.sonarsource.com/c/sl/vs-code/36",icon:"comment-discussion"},{id:"supportedRules",label:"See Languages & Rules",url:"https://github.com/SonarSource/sonarlint-vscode/wiki/Languages-and-rules",icon:"checklist"},{id:"whatsNew",label:"Check What's New",url:"https://www.sonarsource.com/products/sonarlint/whats-new/vs-code/",icon:"megaphone"},{id:"suggestFeature",label:"Suggest a Feature",url:"https://www.sonarsource.com/products/sonarlint/roadmap/",icon:"extensions"},{id:"faq",label:"Review FAQ",url:"https://community.sonarsource.com/t/frequently-asked-questions/7204",icon:"question"}];class o extends r.TreeItem{constructor(e){const n=function(e){return t.helpAndFeedbackViewItems.find((t=>t.id===e))}(e);super(n.label,r.TreeItemCollapsibleState.None),this.id=e,this.iconPath=new r.ThemeIcon(n.icon),this.command={command:i.Commands.TRIGGER_HELP_AND_FEEDBACK_LINK,title:"Trigger Help and Feedback Link",arguments:[n]}}}t.HelpAndFeedbackLink=o,t.HelpAndFeedbackTreeDataProvider=class{constructor(){this._onDidChangeTreeData=new r.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event}refresh(){this._onDidChangeTreeData.fire(null)}getChildren(e){return t.helpAndFeedbackViewItems.map((e=>new o(e.id)))}getTreeItem(e){return e}}},616:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeHotspotContextPanelContent=void 0;const r=n(4840),i=n(5285),o=n(2144),s={"buffer-overflow":"Buffer Overflow","sql-injection":"SQL Injection",rce:"Code Injection (RCE)","object-injection":"Object Injection","command-injection":"Command Injection","path-traversal-injection":"Path Traversal Injection","ldap-injection":"LDAP Injection","xpath-injection":"XPath Injection","expression-lang-injection":"Expression Language Injection","log-injection":"Log Injection",xxe:"XML External Entity (XXE)",xss:"Cross-Site Scripting (XSS)",dos:"Denial of Service (DoS)",ssrf:"Server-Side Request Forgery (SSRF)",csrf:"Cross-Site Request Forgery (CSRF)","http-response-splitting":"HTTP Response Splitting","open-redirect":"Open Redirect","weak-cryptography":"Weak Cryptography",auth:"Authentication","insecure-conf":"Insecure Configuration","file-manipulation":"File Manipulation",others:"Others"};t.computeHotspotContextPanelContent=function(e,t){const n=new o.ResourceResolver(i.extensionContext,t).resolve("styles","hotspot.css"),a=s[e.rule.securityCategory],c=function(e){const t=r.HotspotProbability[e];return`<span class="hotspot-probability hotspot-probability-${t}">${t}</span>`}(e.rule.vulnerabilityProbability),u=e.author,l=function(e){return e===r.HotspotStatus.ToReview?"To review":"Reviewed"}(e.status);return`<!doctype html><html>\n  <head>\n    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />\n    <meta http-equiv="Encoding" content="utf-8" />\n    <meta http-equiv="Content-Security-Policy"\n      content="default-src 'none'; style-src ${t.cspSource}"/>\n    <link rel="stylesheet" type="text/css" href="${n}" />\n  </head>\n  <body>\n    <h1><big>${e.message}</big> (${e.rule.key})</h1>\n    <dl class="hotspot-header">\n      <dd>Category</dd><dt>${a}</dt>\n      <dd>Review priority</dd><dt>${c}</dt>\n      <dd>Author</dd><dt>${u}</dt>\n      <dd>Status</dd><dt>${l}</dt>\n    </dl>\n\n    <main class="tabs">\n      <input type="radio" name="tabs" id="tabone" checked="checked">\n      <label for="tabone" class="tabLabel">What's the risk?</label>\n      <section class="tab">\n      ${e.rule.riskDescription}\n      </section>\n\n      <input type="radio" name="tabs" id="tabtwo">\n      <label for="tabtwo" class="tabLabel">Are you at risk?</label>\n      <section class="tab">\n      ${e.rule.vulnerabilityDescription}\n      </section>\n\n      <input type="radio" name="tabs" id="tabthree">\n      <label for="tabthree" class="tabLabel">How can you fix it?</label>\n      <section class="tab">\n      ${e.rule.fixRecommendations}\n      </section>\n    </main>\n    </body>\n</html>`}},5072:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getFilesForHotspotsScan=t.useProvidedFolderOrPickManuallyAndScan=t.getFilesForHotspotsAndLaunchScan=t.highlightLocation=t.showHotspotDescription=t.diagnosticSeverity=t.hideSecurityHotspot=t.showSecurityHotspot=t.OPEN_HOTSPOT_IN_IDE_SOURCE=void 0;const i=n(9496),o=n(3872),s=n(616),a=n(4840),c=n(5758),u=n(5285),l=n(6067),d=n(7458),h=n(3237),f=n(6513),p=n(4445);let m,g;function y(e){switch(e.rule.vulnerabilityProbability){case a.HotspotProbability.High:return l.HotspotReviewPriority.High;case a.HotspotProbability.Low:return l.HotspotReviewPriority.Low;default:return l.HotspotReviewPriority.Medium}}function v(e){return r(this,void 0,void 0,(function*(){const t=yield(0,u.findFilesInFolder)(e),n=yield(0,p.filterOutScmIgnoredFiles)(t,p.filterIgnored),r=i.window.visibleTextEditors.map((e=>e.document));return yield(0,u.createAnalysisFilesFromFileUris)(n,r)}))}t.OPEN_HOTSPOT_IN_IDE_SOURCE="openInIde",t.showSecurityHotspot=(e,n,s)=>r(void 0,void 0,void 0,(function*(){const r=s||m,a=yield i.workspace.findFiles(`**/${r.filePath}`);if(0===a.length)!function(e){i.window.showErrorMessage(`Could not find file '${e.filePath}' in the current workspace.\nPlease make sure that the right folder is open and bound to the right project on the server,\n and that the file has not been removed or renamed.`,"Show Documentation").then((e=>{"Show Documentation"===e&&i.commands.executeCommand(o.Commands.OPEN_BROWSER,i.Uri.parse("https://docs.sonarqube.org/latest/user-guide/security-hotspots/"))}))}(r);else{const s=a[0];a.length>1&&(0,c.logToSonarLintOutput)(`Multiple candidates found for '${r.filePath}', using first match '${s}'`);const u=yield i.window.showTextDocument(s);r instanceof l.HotspotNode?(m=r||m,yield(0,t.highlightLocation)(u)):(function(e,n,r){const{startLine:o,startLineOffset:s,endLine:a,endLineOffset:c}=e.textRange,u={range:{start:new i.Position(o-1,s),end:{line:a-1,character:c}},severity:y(e),message:e.message,code:e.rule.key,source:t.OPEN_HOTSPOT_IN_IDE_SOURCE,flows:[],data:"remoteHotspotKey"};let l;if(r.hasLocalHotspots())l=r.getAllFilesWithHotspots().get(e.filePath);else{r.fileHotspotsCache=new Map;const t=(0,d.getUriFromRelativePath)(e.filePath,i.workspace.workspaceFolders[0]);r.fileHotspotsCache.set(t,[u]),l=r.getAllFilesWithHotspots().get(e.filePath),r.refresh()}const h=r.getChildren(l).find((e=>"knownHotspotsGroup"===e.contextValue)),f=r.getChildren(h).find((t=>t.label===e.message));n.reveal(f,{focus:!0})}(r,e,n),m=r||m,yield(0,t.highlightLocation)(u)),i.commands.executeCommand(o.Commands.SHOW_HOTSPOT_DESCRIPTION)}})),t.hideSecurityHotspot=e=>{g&&g.dispose(),e.hasLocalHotspots()||(e.fileHotspotsCache=new Map),m=null,e.refresh()},t.diagnosticSeverity=y,t.showHotspotDescription=()=>{g||(g=i.window.createWebviewPanel("sonarlint.DiagContext","SonarQube Security Hotspot",i.ViewColumn.Two,{enableScripts:!1}),g.onDidDispose((()=>{g=void 0}),null)),g.webview.html=(0,s.computeHotspotContextPanelContent)(m,g.webview),g.iconPath={light:(0,u.resolveExtensionFile)("images/sonarqube.svg"),dark:(0,u.resolveExtensionFile)("images/sonarqube.svg")},g.reveal()},t.highlightLocation=e=>r(void 0,void 0,void 0,(function*(){const t=new i.Position(m.textRange.startLine-1,m.textRange.startLineOffset),n=new i.Position(m.textRange.endLine-1,m.textRange.endLineOffset),r=new i.Range(t,n);e.revealRange(r,i.TextEditorRevealType.InCenter),e.selection=new i.Selection(t,n),(0,h.isValidRange)(r,e.document)&&e.setDecorations(h.SINGLE_LOCATION_DECORATION,[r])})),t.getFilesForHotspotsAndLaunchScan=function(e,t){return r(this,void 0,void 0,(function*(){const n=yield v(e);!function(e,t,n){e.scanFolderForHotspots({folderUri:(0,d.code2ProtocolConverter)(t),documents:n})}(t,e,n)}))},t.useProvidedFolderOrPickManuallyAndScan=function(e,t,n,o){return r(this,void 0,void 0,(function*(){if(e&&e.path)yield o(e,n);else{if(!t||0===t.length)return void(0,f.noWorkspaceFolderToScanMessage)();if(1===t.length)e=t[0].uri,yield o(e,n);else{const s=(0,u.getQuickPickListItemsForWorkspaceFolders)(t),a=i.window.createQuickPick();a.title="Select Workspace Folder to scan for Hotspots",a.placeholder="Select Workspace Folder to scan for Hotspots",a.items=s,a.ignoreFocusOut=!0,a.onDidChangeSelection((t=>r(this,void 0,void 0,(function*(){e=i.Uri.parse(t[0].description),yield o(e,n),a.dispose()})))),a.show()}}}))},t.getFilesForHotspotsScan=v},6067:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AllHotspotsTreeDataProvider=t.HotspotNode=t.FileGroup=t.HotspotGroup=t.HotspotReviewPriority=void 0;const i=n(9496),o=n(9496),s=n(3872),a=n(7458),c=n(5072),u="sonarlint",l="sonarqube",d="sonarcloud";var h;!function(e){e[e.High=1]="High",e[e.Medium=2]="Medium",e[e.Low=3]="Low"}(h=t.HotspotReviewPriority||(t.HotspotReviewPriority={}));class f extends i.TreeItem{constructor(e,t){super("new"===e?"Newly detected":"Already known",i.TreeItemCollapsibleState.Expanded),this.keyword=e,this.fileUri=t,this.contextValue="new"===e?"newHotspotsGroup":"knownHotspotsGroup",this.id=`${e}-${t}`,this.fileUri=t,this.iconPath=new o.ThemeIcon("security-hotspot",new o.ThemeColor("new"===e?"problemsWarningIcon.foreground":"problemsInfoIcon.foreground"))}}t.HotspotGroup=f;class p extends i.TreeItem{constructor(e){super((0,a.getFileNameFromFullPath)(e),i.TreeItemCollapsibleState.Expanded),this.id=e,this.contextValue="hotspotsFileGroup",this.fileUri=e;const t=i.workspace.workspaceFolders.length>1;this.resourceUri=i.Uri.parse(this.fileUri),this.description=(0,a.getRelativePathFromFullPath)(e,i.workspace.getWorkspaceFolder(this.resourceUri),t),this.iconPath=i.ThemeIcon.File}}t.FileGroup=p;const m=new Map([[h.High,new i.ThemeIcon("error",new i.ThemeColor("problemsErrorIcon.foreground"))],[h.Medium,new i.ThemeIcon("warning",new i.ThemeColor("problemsWarningIcon.foreground"))],[h.Low,new i.ThemeIcon("info",new i.ThemeColor("problemsInfoIcon.foreground"))]]);class g extends i.TreeItem{constructor(e,t,n,r,o,a,u){super(o,i.TreeItemCollapsibleState.None),this.key=e,this.contextValue=t,this.vulnerabilityProbability=n,this.source=r,this.message=o,this.ruleKey=a,this.fileUri=u,this.id=e,this.iconPath=m.get(n),r===c.OPEN_HOTSPOT_IN_IDE_SOURCE?this.command={command:s.Commands.HIGHLIGHT_REMOTE_HOTSPOT_LOCATION,title:"Show Hotspot Location",arguments:[this]}:this.command={command:s.Commands.SHOW_HOTSPOT_LOCATION,title:"Show All Locations",arguments:[this]},this.description=`sonarlint(${a})`}}t.HotspotNode=g,t.AllHotspotsTreeDataProvider=class{constructor(e){this.connectionSettingsService=e,this._onDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.fileHotspotsCache=new Map,this.filesWithHotspots=new Map,this.updateContextShowMode("OpenFiles")}showHotspotsInFolder(){return r(this,void 0,void 0,(function*(){yield this.updateContextShowMode("Folder")}))}showHotspotsInOpenFiles(){return r(this,void 0,void 0,(function*(){yield this.updateContextShowMode("OpenFiles")}))}updateContextShowMode(e){return r(this,void 0,void 0,(function*(){this.showMode=e,yield i.commands.executeCommand("setContext","SonarLint.Hotspots.ShowMode",e)}))}refresh(e){return r(this,void 0,void 0,(function*(){e&&e.uri&&(e.diagnostics.length>0?this.fileHotspotsCache.set(e.uri,e.diagnostics):this.fileHotspotsCache.delete(e.uri)),yield this.cleanupHotspotsCache(),this._onDidChangeTreeData.fire(null)}))}countAllHotspots(){return[...this.fileHotspotsCache.values()].map((e=>e.length)).reduce(((e,t)=>e+t),0)}getTreeItem(e){return e}getChildren(e){return e||this.isAnyConnectionConfigured()?!e&&this.fileHotspotsCache.size>0?this.getFiles():e&&"hotspotsFileGroup"===e.contextValue?this.getHotspotsGroupsForFile(e.fileUri):!e||"newHotspotsGroup"!==e.contextValue&&"knownHotspotsGroup"!==e.contextValue?null:this.getHotspotsForFile(e.fileUri,e.contextValue):[]}getParent(e){if(e&&"knownHotspotItem"===e.contextValue){const t=(0,a.getRelativePathFromFullPath)(e.fileUri,i.workspace.getWorkspaceFolder(i.Uri.parse(e.fileUri)),!1)+(0,a.getFileNameFromFullPath)(e.fileUri);return this.filesWithHotspots.get(t)}return null}isAnyConnectionConfigured(){const e=this.connectionSettingsService.getSonarQubeConnections();return this.connectionSettingsService.getSonarCloudConnections().length>0||e.length>0}getHotspotsForFile(e,t){return this.fileHotspotsCache.get(e).filter((e=>"newHotspotsGroup"===t?e.source===u:"knownHotspotsGroup"===t&&(e.source===l||e.source===d||e.source===c.OPEN_HOTSPOT_IN_IDE_SOURCE))).map((n=>{const r=n.data;return new g(r,this.getHotspotItemContextValue(n,t),n.severity,n.source,n.message,n.code,e)})).sort(((e,t)=>e.vulnerabilityProbability-t.vulnerabilityProbability))}getFiles(e=i.window.visibleTextEditors.map((e=>e.document))){const t=[];return this.fileHotspotsCache.forEach(((n,r)=>{"OpenFiles"===this.showMode?this.isFileOpen(e,r)&&this.updateCacheForFile(r,t):this.updateCacheForFile(r,t)})),t}isFileOpen(e,t){const n=(0,a.protocol2CodeConverter)(t);return e.findIndex((e=>e.uri.path===n.path))>-1}updateCacheForFile(e,t){const n=new p(e.toString());t.push(n),this.filesWithHotspots.set(`${n.description}${n.label}`,n)}getHotspotItemContextValue(e,t){return"openInIde"===e.source?"remoteHotspotItem":"knownHotspotsGroup"===t?"knownHotspotItem":"newHotspotItem"}getAllFilesWithHotspots(){return this.filesWithHotspots}hasLocalHotspots(){return this.fileHotspotsCache.size>0&&[...this.fileHotspotsCache.values()].map((e=>e.some((e=>e.source===u||e.source===l||e.source===d)))).some((e=>e))}getHotspotsGroupsForFile(e){const t=[];return this.fileHasNewHotspots(e)&&t.push(new f("new",e)),(this.fileHasTrackedHotspots(e)||this.openHotspotInIdeForFileWasTriggered(e))&&t.push(new f("known",e)),t}fileHasNewHotspots(e){return this.fileHotspotsCache.has(e)&&this.fileHotspotsCache.get(e).length>0&&this.fileHotspotsCache.get(e).some((e=>e.source===u))}fileHasTrackedHotspots(e){return this.fileHotspotsCache.get(e).length>0&&this.fileHotspotsCache.get(e).some((e=>e.source===l||e.source===d))}openHotspotInIdeForFileWasTriggered(e){return this.fileHotspotsCache.get(e).length>0&&this.fileHotspotsCache.get(e).some((e=>e.source===c.OPEN_HOTSPOT_IN_IDE_SOURCE))}cleanupHotspotsCache(){return r(this,void 0,void 0,(function*(){for(const e of this.fileHotspotsCache.keys()){const t=(0,a.getFileNameFromFullPath)(e),n=(0,a.getRelativePathFromFullPath)(e,i.workspace.getWorkspaceFolder(i.Uri.parse(e)),!1),r=yield i.workspace.findFiles(`**/${t}`),o=i.Uri.parse(e);r.some((e=>e.path===o.path))||(this.fileHotspotsCache.delete(e),this.filesWithHotspots.delete(`${n}${t}`))}}))}}},6151:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getJavaConfig=t.installServerModeChangeListener=t.installClasspathListener=t.ServerMode=void 0;const i=n(3731),o=n(9496),s=n(5758);let a,c,u=!1,l=!1;var d;function h(e){const t=m();if(null==t?void 0:t.isActive){if(!a){const n=t.exports;if(n&&p(n.apiVersion)){const t=n.onDidClasspathUpdate;a=t((function(t){e.didClasspathUpdate(t)}))}}}else a&&(a.dispose(),a=null)}function f(e){const t=m();if(null==t?void 0:t.isActive){if(!c){const n=t.exports;if(n&&p(n.apiVersion)&&n.onDidServerModeChange){const t=n.onDidServerModeChange;c=t(function(e){return t=>{t!==d.LIGHTWEIGHT&&(l=!1),e.didJavaServerModeChange(t)}}(e))}}}else c&&(c.dispose(),c=null)}function p(e){return!!i.compare(e,"0.4",">=")||(u||((0,s.logToSonarLintOutput)("SonarLint requires VSCode Java extension 0.56 or greater to enable analysis of Java files"),u=!0),!1)}function m(){return o.extensions.getExtension("redhat.java")}!function(e){e.STANDARD="Standard",e.LIGHTWEIGHT="LightWeight",e.HYBRID="Hybrid"}(d=t.ServerMode||(t.ServerMode={})),t.installClasspathListener=h,t.installServerModeChangeListener=f,t.getJavaConfig=function(e,t){return r(this,void 0,void 0,(function*(){const n=m();try{const r=yield null==n?void 0:n.activate();if(r&&p(r.apiVersion)){if(h(e),f(e),r.serverMode===d.LIGHTWEIGHT)return l||((0,s.logToSonarLintOutput)("Java analysis is disabled in LightWeight mode. Please check java.server.launchMode in user settings"),l=!0),null;const n=yield r.isTestFile(t),i="org.eclipse.jdt.core.compiler.compliance",o="org.eclipse.jdt.ls.core.vm.location",a=yield r.getProjectSettings(t,[i,o]),c=a[i],u=a[o],p=yield r.getClasspaths(t,{scope:n?"test":"runtime"});return{projectRoot:p.projectRoot,sourceLevel:c,classpath:p.classpaths,isTest:n,vmLocation:u}}}catch(e){console.error(e)}return null}))}},8436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unzip=t.download=t.buildUrl=void 0;const r=n(938),i=n(7147),o=n(1017),s=n(4337),a=r.https,c="https://api.adoptopenjdk.net/v2",u={request:"binary",release:"releases",version:11,implementation:"hotspot",binary:"jre",heapSize:"normal"};function l(e){const t=Object.assign({},u,e);return`${[c,t.request,t.release,`openjdk${t.version}`].join("/")}?${[`openjdk_impl=${t.implementation}`,`os=${t.os}`,`arch=${t.architecture}`,`type=${t.binary}`,`heap_size=${t.heapSize}`,"release=latest"].join("&")}`}t.buildUrl=l,t.download=function(e,t){return new Promise(((n,r)=>{try{i.existsSync(t)||i.mkdirSync(t)}catch(e){r(e)}const s=l(e),c="windows"===e.os?"zip":"tgz",u=o.join(t,`jre.${c}`);a.get(s,(r=>{const o=i.createWriteStream(u);r.pipe(o),o.on("finish",(()=>{o.close(),n({destinationDir:t,jreZipPath:u,options:e})}))})).on("error",(e=>{i.unlinkSync(u),r(e)}))}))},t.unzip=function(e){const t=o.join(e.destinationDir,"jre");return i.existsSync(t)||i.mkdirSync(t),new Promise(((n,r)=>{const a=s(e.jreZipPath,t);a.on("error",(e=>{r(e)})),a.on("end",(()=>{i.unlinkSync(e.jreZipPath);const r=i.readdirSync(t,{withFileTypes:!0}).filter((e=>e.isDirectory()))[0].name,s="mac"===e.options.os?o.join(r,"Contents","Home"):r;n(o.join(t,s))}))}))}},3237:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRange=t.navigateToLocation=t.SecondaryLocationsTree=t.LocationItem=t.FileItem=t.FlowItem=t.IssueItem=t.SINGLE_LOCATION_DECORATION=void 0;const i=n(9496),o=n(3872),s=n(5285),a="sonarlint.locations.background",c=i.window.createTextEditorDecorationType({backgroundColor:new i.ThemeColor(a),before:{backgroundColor:new i.ThemeColor("sonarlint.locations.indexBackground"),color:new i.ThemeColor("sonarlint.locations.indexText"),margin:"0.2em"},rangeBehavior:i.DecorationRangeBehavior.ClosedClosed}),u=i.window.createTextEditorDecorationType({backgroundColor:new i.ThemeColor(a),before:{backgroundColor:new i.ThemeColor("sonarlint.locations.indexSelectedBackground"),color:new i.ThemeColor("sonarlint.locations.indexSelectedText"),fontWeight:"bold",margin:"0.2em"},rangeBehavior:i.DecorationRangeBehavior.ClosedClosed});t.SINGLE_LOCATION_DECORATION=i.window.createTextEditorDecorationType({backgroundColor:new i.ThemeColor(a),textDecoration:"wavy var(--vscode-inputValidation-warningBorder) 0.25px underline",rangeBehavior:i.DecorationRangeBehavior.ClosedClosed});class l extends i.TreeItem{constructor(e){const t=e.flows.every((e=>e.locations.every((e=>!e.message||""===e.message)))),n=t?i.TreeItemCollapsibleState.None:i.TreeItemCollapsibleState.Expanded;super(e.message,n),this.description=`(${e.ruleKey})`;const r=(0,s.resolveExtensionFile)("images","severity",`${e.severity.toLowerCase()}.png`);this.iconPath={light:r,dark:r},t?this.children=[]:e.flows.every((e=>1===e.locations.length))?this.children=e.flows.map(((e,t)=>new f(e.locations[0],t+1,this))):this.children=e.flows.map(((e,t)=>new d(e,t,this)))}}t.IssueItem=l;class d extends i.TreeItem{constructor(e,t,n){super(`Flow ${t+1}`,0===t?i.TreeItemCollapsibleState.Expanded:i.TreeItemCollapsibleState.Collapsed);const r=Array.from(e.locations);if(r.reverse(),new Set(r.map((e=>e.uri))).size>1){let e=0,t=null,n=null,i=[];for(this.children=[];e<r.length;)t=r[e].uri,n=r[e].filePath,i.push(r[e]),e!==r.length-1&&r[e+1].uri===t||(this.children.push(new h(t,n,e+1,i,this)),i=[]),e+=1}else this.children=r.map(((e,t)=>new f(e,t+1,this)));this.parent=n}}t.FlowItem=d;class h extends i.TreeItem{constructor(e,t,n,r,o){super(e?e.substring(e.lastIndexOf("/")+1):t.substring(t.lastIndexOf("/")+1),i.TreeItemCollapsibleState.Expanded),this.children=r.map(((e,t)=>new f(e,n+1-r.length+t,this))),this.parent=o,this.resourceUri=e?i.Uri.parse(e):null,e||(this.tooltip=t),this.iconPath=i.ThemeIcon.File}}t.FileItem=h;class f extends i.TreeItem{constructor(e,t,n){super(`${t}: ${e.message}`,i.TreeItemCollapsibleState.None),this.index=t,e.uri&&e.exists?(e.codeMatches?this.description=`[${e.textRange.startLine}, ${e.textRange.startLineOffset}]`:this.description="(local code does not match)",this.command={title:"Navigate",command:o.Commands.NAVIGATE_TO_LOCATION,arguments:[this]}):this.description="(unreachable in local code)",this.parent=n,this.location=e}}function p(e){return r(this,void 0,void 0,(function*(){const t=e.location.textRange,n=e.location.uri?e.location.uri:e.location.filePath,r=yield i.window.showTextDocument(i.Uri.parse(n)),o=g(t);y(o,r.document)&&(r.selection=new i.Selection(o.start,o.end),r.revealRange(o,i.TextEditorRevealType.InCenter)),r.setDecorations(u,function(e,t){return[m(e,t)].filter((e=>e))}(e,r.document)),r.setDecorations(c,function(e,t){return(e.parent instanceof h?e.parent.parent.children.filter((t=>{return n=t,r=e.parent,null===n.resourceUri&&null===r.resourceUri||null!==n.resourceUri&&null!==r.resourceUri&&n.resourceUri.toString()===r.resourceUri.toString();var n,r})).map((e=>e.children)).reduce(((e,t)=>e.concat(t)),[]):e.parent.children).filter((t=>t!==e)).filter((e=>e.location.textRange)).map((e=>m(e,t))).filter((e=>e))}(e,r.document))}))}function m(e,t){const n=e.location,r=new i.Range(new i.Position(n.textRange.startLine-1,n.textRange.startLineOffset),new i.Position(n.textRange.endLine-1,n.textRange.endLineOffset));return y(r,t)?{range:r,hoverMessage:n.message,renderOptions:{before:{contentText:` ${e.index} `}}}:null}function g(e){const t=new i.Position(e.startLine-1,e.startLineOffset),n=new i.Position(e.endLine-1,e.endLineOffset);return new i.Range(t,n)}function y(e,t){const n=t.validateRange(e);return e.isEqual(n)}t.LocationItem=f,t.SecondaryLocationsTree=class{constructor(){this._onDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.rootItem=null}showAllLocations(e){return r(this,void 0,void 0,(function*(){if(this.rootItem=new l(e),this.notifyRootChanged(),0===this.rootItem.children.length){const n=e.fileUri,r=yield i.window.showTextDocument(i.Uri.parse(n)),o=e.flows.map((e=>e.locations)).reduce(((e,t)=>e.concat(t)),[]);if(o.length>0)r.setDecorations(c,o.map(((e,t)=>m(new f(e,t+1,this.rootItem),r.document))));else{const n=g(e.textRange);y(n,r.document)&&(r.selection=new i.Selection(n.start,n.end),r.revealRange(n,i.TextEditorRevealType.InCenter),r.setDecorations(t.SINGLE_LOCATION_DECORATION,[{range:n,hoverMessage:(0,s.formatIssueMessage)(e.message,e.ruleKey)}]))}}else this.rootItem.children[0]instanceof f?p(this.rootItem.children[0]):this.rootItem.children[0].children[0]instanceof f?p(this.rootItem.children[0].children[0]):p(this.rootItem.children[0].children[0].children[0])}))}hideLocations(){this.rootItem=null,this.notifyRootChanged(),i.window.visibleTextEditors.forEach((e=>{e.setDecorations(c,[]),e.setDecorations(u,[]),e.setDecorations(t.SINGLE_LOCATION_DECORATION,[])}))}notifyRootChanged(){this._onDidChangeTreeData.fire(void 0)}getTreeItem(e){return e}getChildren(e){return e?e instanceof l||e instanceof d||e instanceof h?e.children:[]:[this.rootItem]}getParent(e){return e===this.rootItem?null:e.parent}},t.navigateToLocation=p,t.isValidRange=y},1317:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SonarLintExtendedLanguageClient=void 0;const r=n(2847),i=n(7458),o=n(4840);class s extends r.LanguageClient{listAllRules(){return this.sendRequest(o.ListAllRulesRequest.type)}didClasspathUpdate(e){const t=(0,i.code2ProtocolConverter)(e);this.sendNotification(o.DidClasspathUpdateNotification.type,{projectUri:t})}didJavaServerModeChange(e){this.sendNotification(o.DidJavaServerModeChangeNotification.type,{serverMode:e})}didLocalBranchNameChange(e,t){const n=(0,i.code2ProtocolConverter)(e);this.sendNotification(o.DidLocalBranchNameChangeNotification.type,{folderUri:n,branchName:t})}checkConnection(e){return this.sendRequest(o.CheckConnection.type,{connectionId:e})}getRemoteProjectNames(e,t){return this.sendRequest(o.GetRemoteProjectNames.type,{connectionId:e,projectKeys:t})}onTokenUpdate(){return this.sendNotification(o.OnTokenUpdate.type)}getRemoteProjectsForConnection(e){return this.sendRequest(o.GetRemoteProjectsForConnection.type,{connectionId:e})}getServerPathForTokenGeneration(e){return this.sendRequest(o.GetServerPathForTokenGeneration.type,{baseServerUrl:e})}showHotspotLocations(e,t){this.sendRequest(o.ShowHotspotLocations.type,{hotspotKey:e,fileUri:t})}showHotspotRuleDescription(e,t,n){this.sendNotification(o.ShowHotspotRuleDescriptionNotification.type,{ruleKey:e,hotspotId:t,fileUri:n})}openHotspotOnServer(e,t){this.sendNotification(o.OpenHotspotOnServer.type,{hotspotId:e,fileUri:t})}helpAndFeedbackLinkClicked(e){this.sendNotification(o.HelpAndFeedbackLinkClicked.type,{id:e})}scanFolderForHotspots(e){this.sendNotification(o.ScanFolderForHotspots.type,e)}forgetFolderHotspots(){this.sendNotification(o.ForgetFolderHotspots.type)}}t.SonarLintExtendedLanguageClient=s},4840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForgetFolderHotspots=t.ScanFolderForHotspots=t.HelpAndFeedbackLinkClicked=t.OpenHotspotOnServer=t.ShowHotspotLocations=t.PublishHotspotsForFile=t.GetServerPathForTokenGeneration=t.GetRemoteProjectNames=t.GetRemoteProjectsForConnection=t.OnTokenUpdate=t.GetTokenForServer=t.ListAllRulesRequest=t.DidLocalBranchNameChangeNotification=t.DidJavaServerModeChangeNotification=t.DidClasspathUpdateNotification=t.CheckConnection=t.ReportConnectionCheckResult=t.EditorOpenCheck=t.NeedCompilationDatabaseRequest=t.SetReferenceBranchNameForFolderNotification=t.GetBranchNameForFolderRequest=t.ShowIssueOrHotspotNotification=t.SubmitTokenNotification=t.ShowHotspotNotification=t.HotspotStatus=t.HotspotProbability=t.HotspotResolution=t.OpenConnectionSettingsNotification=t.BrowseToNotification=t.OpenPathToNodeSettingsNotification=t.OpenJavaHomeSettingsNotification=t.ShowSonarLintOutputNotification=t.ShowNotificationForFirstSecretsIssueNotification=t.ScmCheckRequest=t.GetJavaConfigRequest=t.ShowHotspotRuleDescriptionNotification=t.FindFileByNamesInFolderRequest=t.SuggestBindingNotification=t.ShowRuleDescriptionNotification=void 0;const r=n(273);var i,o,s;(t.ShowRuleDescriptionNotification||(t.ShowRuleDescriptionNotification={})).type=new r.NotificationType("sonarlint/showRuleDescription"),(t.SuggestBindingNotification||(t.SuggestBindingNotification={})).type=new r.NotificationType("sonarlint/suggestBinding"),(t.FindFileByNamesInFolderRequest||(t.FindFileByNamesInFolderRequest={})).type=new r.RequestType("sonarlint/findFileByNamesInFolder"),(t.ShowHotspotRuleDescriptionNotification||(t.ShowHotspotRuleDescriptionNotification={})).type=new r.NotificationType("sonarlint/showHotspotRuleDescription"),(t.GetJavaConfigRequest||(t.GetJavaConfigRequest={})).type=new r.RequestType("sonarlint/getJavaConfig"),(t.ScmCheckRequest||(t.ScmCheckRequest={})).type=new r.RequestType("sonarlint/isIgnoredByScm"),(t.ShowNotificationForFirstSecretsIssueNotification||(t.ShowNotificationForFirstSecretsIssueNotification={})).type=new r.NotificationType("sonarlint/showNotificationForFirstSecretsIssue"),(t.ShowSonarLintOutputNotification||(t.ShowSonarLintOutputNotification={})).type=new r.NotificationType("sonarlint/showSonarLintOutput"),(t.OpenJavaHomeSettingsNotification||(t.OpenJavaHomeSettingsNotification={})).type=new r.NotificationType("sonarlint/openJavaHomeSettings"),(t.OpenPathToNodeSettingsNotification||(t.OpenPathToNodeSettingsNotification={})).type=new r.NotificationType("sonarlint/openPathToNodeSettings"),(t.BrowseToNotification||(t.BrowseToNotification={})).type=new r.NotificationType("sonarlint/browseTo"),(t.OpenConnectionSettingsNotification||(t.OpenConnectionSettingsNotification={})).type=new r.NotificationType("sonarlint/openConnectionSettings"),(s=t.HotspotResolution||(t.HotspotResolution={}))[s.Fixed=0]="Fixed",s[s.Safe=1]="Safe",(o=t.HotspotProbability||(t.HotspotProbability={}))[o.High=0]="High",o[o.Medium=1]="Medium",o[o.Low=2]="Low",(i=t.HotspotStatus||(t.HotspotStatus={}))[i.ToReview=0]="ToReview",i[i.Reviewed=1]="Reviewed",(t.ShowHotspotNotification||(t.ShowHotspotNotification={})).type=new r.NotificationType("sonarlint/showHotspot"),(t.SubmitTokenNotification||(t.SubmitTokenNotification={})).type=new r.NotificationType("sonarlint/submitToken"),(t.ShowIssueOrHotspotNotification||(t.ShowIssueOrHotspotNotification={})).type=new r.NotificationType("sonarlint/showIssueOrHotspot"),(t.GetBranchNameForFolderRequest||(t.GetBranchNameForFolderRequest={})).type=new r.RequestType("sonarlint/getBranchNameForFolder"),(t.SetReferenceBranchNameForFolderNotification||(t.SetReferenceBranchNameForFolderNotification={})).type=new r.NotificationType("sonarlint/setReferenceBranchNameForFolder"),(t.NeedCompilationDatabaseRequest||(t.NeedCompilationDatabaseRequest={})).type=new r.NotificationType("sonarlint/needCompilationDatabase"),(t.EditorOpenCheck||(t.EditorOpenCheck={})).type=new r.RequestType("sonarlint/isOpenInEditor"),(t.ReportConnectionCheckResult||(t.ReportConnectionCheckResult={})).type=new r.NotificationType("sonarlint/reportConnectionCheckResult"),(t.CheckConnection||(t.CheckConnection={})).type=new r.RequestType("sonarlint/checkConnection"),(t.DidClasspathUpdateNotification||(t.DidClasspathUpdateNotification={})).type=new r.NotificationType("sonarlint/didClasspathUpdate"),(t.DidJavaServerModeChangeNotification||(t.DidJavaServerModeChangeNotification={})).type=new r.NotificationType("sonarlint/didJavaServerModeChange"),(t.DidLocalBranchNameChangeNotification||(t.DidLocalBranchNameChangeNotification={})).type=new r.NotificationType("sonarlint/didLocalBranchNameChange"),(t.ListAllRulesRequest||(t.ListAllRulesRequest={})).type=new r.RequestType0("sonarlint/listAllRules"),(t.GetTokenForServer||(t.GetTokenForServer={})).type=new r.RequestType("sonarlint/getTokenForServer"),(t.OnTokenUpdate||(t.OnTokenUpdate={})).type=new r.NotificationType("sonarlint/onTokenUpdate"),(t.GetRemoteProjectsForConnection||(t.GetRemoteProjectsForConnection={})).type=new r.RequestType("sonarlint/getRemoteProjectsForConnection"),(t.GetRemoteProjectNames||(t.GetRemoteProjectNames={})).type=new r.RequestType("sonarlint/getRemoteProjectNames"),(t.GetServerPathForTokenGeneration||(t.GetServerPathForTokenGeneration={})).type=new r.RequestType("sonarlint/getServerPathForTokenGeneration"),(t.PublishHotspotsForFile||(t.PublishHotspotsForFile={})).type=new r.NotificationType("sonarlint/publishSecurityHotspots"),(t.ShowHotspotLocations||(t.ShowHotspotLocations={})).type=new r.RequestType("sonarlint/showHotspotLocations"),(t.OpenHotspotOnServer||(t.OpenHotspotOnServer={})).type=new r.NotificationType("sonarlint/openHotspotInBrowser"),(t.HelpAndFeedbackLinkClicked||(t.HelpAndFeedbackLinkClicked={})).type=new r.NotificationType("sonarlint/helpAndFeedbackLinkClicked"),(t.ScanFolderForHotspots||(t.ScanFolderForHotspots={})).type=new r.NotificationType("sonarlint/scanFolderForHotspots"),(t.ForgetFolderHotspots||(t.ForgetFolderHotspots={})).type=new r.NotificationType("sonarlint/forgetFolderHotspots")},9759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseVMargs=t.languageServerCommand=void 0;const r=n(1017),i=n(2847),o=n(2846),s=n(5285),a="object"==typeof v8debug||s.startedInDebugMode(process);function c(e,t){if(!t)return;const n=t.match(/(?:[^\s"]+|"[^"]*")+/g);null!==n&&n.forEach((t=>{t=(t=t.replace(/(\\)?"/g,(function(e,t){return t?e:""}))).replace(/(\\)"/g,'"'),e.indexOf(t)<0&&e.push(t)}))}t.languageServerCommand=function(e,t){const n=r.resolve(e.extensionPath,"server","sonarlint-ls.jar"),s=r.resolve(t.javaHome,"bin","java"),u=[];return a&&(u.push("-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000,quiet=y"),u.push("-Dsonarlint.telemetry.disabled=true")),c(u,(0,o.getSonarLintConfiguration)().get("ls.vmargs","")),u.push("-jar",n),u.push("-stdio"),u.push("-analyzers"),u.push(r.resolve(e.extensionPath,"analyzers","sonargo.jar")),u.push(r.resolve(e.extensionPath,"analyzers","sonarjava.jar")),u.push(r.resolve(e.extensionPath,"analyzers","sonarjs.jar")),u.push(r.resolve(e.extensionPath,"analyzers","sonarphp.jar")),u.push(r.resolve(e.extensionPath,"analyzers","sonarpython.jar")),u.push(r.resolve(e.extensionPath,"analyzers","sonarhtml.jar")),u.push(r.resolve(e.extensionPath,"analyzers","sonarxml.jar")),u.push(r.resolve(e.extensionPath,"analyzers","sonarcfamily.jar")),u.push(r.resolve(e.extensionPath,"analyzers","sonartext.jar")),u.push(r.resolve(e.extensionPath,"analyzers","sonariac.jar")),{command:s,args:u,transport:i.TransportKind.stdio}},t.parseVMargs=c},17:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderRuleParam=t.renderRuleParams=t.computeHeading=t.renderRuleDescription=t.renderHotspotBanner=t.renderTaintBanner=t.showRuleDescription=void 0;const r=n(9496),i=n(5285),o=n(2144);let s;function a(e,t){return e.isTaint?`<div class="info-banner-wrapper">\n            <p class="info-banner"><span><img src=${t} alt="info"></span> \n            This injection vulnerability was detected by the latest SonarQube or SonarCloud analysis.\n             SonarLint fetches and reports it in your local code to help you investigate it and fix it,\n              but cannot tell you whether you successfully fixed it. To verify your fix, please ensure\n              the code containing your fix is analyzed by SonarQube or SonarCloud.\n            </p>\n           </div>`:""}function c(e,t){return"SECURITY_HOTSPOT"!==e.type?"":`<div class="info-banner-wrapper">\n            <p class="info-banner"><span><img src=${t} alt="info"></span> \n            A security hotspot highlights a security-sensitive piece of code that the developer <b>needs to review</b>.\n            Upon review, you'll either find there is no threat or you need to apply a fix to secure the code.\n            In order to set the review output for a hotspot, please right-click on the hotspot and select the\n            'Review on Server' option.\n            </p>\n           </div>`}function u(e){return 0===e.htmlDescriptionTabs.length?`<div class="rule-desc">${e.htmlDescription}</div>`:`<main class="tabs">${e.htmlDescriptionTabs.map(((e,t)=>{let n;return n=e.hasContextualInformation?function(e){const t=e.defaultContextKey?e.defaultContextKey:"others";return e.ruleDescriptionTabContextual.map(((n,r)=>{const i=function(e,t){return`${e.contextKey}`===t?'checked="checked"':""}(n,t);return`<input type="radio" name="contextualTabs" id="context-${r}"\n                        class="contextualTab" ${i}>\n              <label for="context-${r}" class="contextLabel">${n.displayName}</label>\n              <section class="tab">\n              <h4>${l(e,n)}</h4>\n              ${n.htmlContent}\n              </section>`})).join("")}(e):e.ruleDescriptionTabNonContextual.htmlContent,`<input type="radio" name="tabs" id="tab-${t}" ${0===t?'checked="checked"':""}>\n        <label for="tab-${t}" class="tabLabel">${e.title}</label>\n        <section class="tab${e.hasContextualInformation?" contextualTabContainer":""}">\n        ${n}\n        </section>`})).join("")}</main>`}function l(e,t){const n=e.title.endsWith("?")?e.title.substring(0,e.title.length-1):e.title;return"others"===t.contextKey?"":`${n} in ${t.displayName}`}function d(e){if(e.parameters&&e.parameters.length>0){const t=r.workspace.getConfiguration(`sonarlint.rules.${e.key}.parameters`);return`<table class="rule-params">\n  <caption>Parameters</caption>\n  <thead>\n    <tr>\n      <td colspan="2">\n        Following parameter values can be set in the <em>SonarLint:Rules</em> user settings.\n        In connected mode, server side configuration overrides local settings.\n      </td>\n    </tr>\n  </thead>\n  <tbody>\n    ${e.parameters.map((e=>h(e,t))).join("\n")}\n  </tbody>\n</table>`}return""}function h(e,t){const{name:n,description:r,defaultValue:i}=e;return`<tr>\n  <th>${n}</th>\n  <td>\n    ${r?`<p>${r}</p>`:""}\n    ${t.has(n)?`<small>Current value: <code>${t.get(n)}</code></small>`:""}\n    ${i?`<small>(Default value: <code>${i}</code>)</small>`:""}\n  </td>\n</tr>`}t.showRuleDescription=function(e){return t=>{!function(e){s||(s=r.window.createWebviewPanel("sonarlint.RuleDesc","SonarLint Rule Description",r.ViewColumn.Two,{enableScripts:!0}),s.onDidDispose((()=>{s=void 0}),null,e.subscriptions))}(e),s.webview.html=function(e,t,n){const r=new o.ResourceResolver(e,t),i=r.resolve("styles","rule.css"),s=r.resolve("styles","hotspot.css"),l=r.resolve("images","severity",`${n.severity.toLowerCase()}.png`),h=r.resolve("images","type",`${n.type.toLowerCase()}.png`),f=r.resolve("images","info.png"),p=d(n),m=a(n,f),g=c(n,f),y=u(n);return`<!doctype html><html lang="en">\n    <head>\n    <title>${(0,o.escapeHtml)(n.name)}</title>\n    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />\n    <meta http-equiv="Content-Security-Policy"\n      content="default-src 'none'; img-src ${t.cspSource}; style-src ${t.cspSource}"/>\n    <link rel="stylesheet" type="text/css" href="${i}" />\n    <link rel="stylesheet" type="text/css" href="${s}" />\n    </head>\n    <body><h1><big>${(0,o.escapeHtml)(n.name)}</big> (${n.key})</h1>\n    <div>\n    <img class="type" alt="${n.type}" src="${h}" />&nbsp;\n    ${(0,o.clean)(n.type)}&nbsp;\n    <img class="severity" alt="${n.severity}" src="${l}" />&nbsp;\n    ${(0,o.clean)(n.severity)}\n    </div>\n    ${m}\n    ${g}\n    ${y}\n    ${p}\n    </body></html>`}(e,s.webview,t),s.iconPath=i.resolveExtensionFile("images","sonarlint.svg"),s.reveal()}},t.renderTaintBanner=a,t.renderHotspotBanner=c,t.renderRuleDescription=u,t.computeHeading=l,t.renderRuleParams=d,t.renderRuleParam=h},8977:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AllRulesTreeDataProvider=t.RuleNode=t.LanguageNode=void 0;const i=n(9496);function o(e){return e.activeByDefault&&"off"!==e.levelFromConfig||"on"===e.levelFromConfig}function s(e){return o(e)?"on":"off"}class a extends i.TreeItem{constructor(e){super(e,i.TreeItemCollapsibleState.Collapsed),this.contextValue="language"}}t.LanguageNode=a;class c extends i.TreeItem{constructor(e){super(`${e.name}`),this.rule=e,this.contextValue=`rule-${s(e)}`,this.id=e.key.toUpperCase(),this.description=`${s(e)}`,this.command={command:"SonarLint.OpenStandaloneRuleDesc",title:"Show Description",arguments:[e.key]}}}function u(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}t.RuleNode=c,t.AllRulesTreeDataProvider=class{constructor(e){this.allRulesProvider=e,this._onDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event}getChildren(e){return r(this,void 0,void 0,(function*(){const t=i.workspace.getConfiguration("sonarlint.rules");return this.getAllRules().then((e=>(Object.keys(e).forEach((t=>e[t].sort(u))),e))).then((n=>e?n[e.label].map((e=>(e.levelFromConfig=t.get(e.key,{}).level,e))).filter((e=>"on"===this.levelFilter?o(e):"off"!==this.levelFilter||!o(e))).map((e=>new c(e))):Object.keys(n).sort().map((e=>new a(e)))))}))}getAllRules(){return this.allRules||(this.allRules=this.allRulesProvider()),this.allRules}getParent(e){return e instanceof a?Promise.resolve(null):this.getAllRules().then((t=>Object.keys(t).filter((n=>t[n].findIndex((t=>t.key.toUpperCase()===e.rule.key.toUpperCase()))>=0)).map((e=>new a(e))).pop()))}getTreeItem(e){return e}refresh(){this._onDidChangeTreeData.fire(null)}filter(e){this.levelFilter=e,this.refresh()}checkRuleExists(e){return r(this,void 0,void 0,(function*(){return this.getAllRules().then((t=>0===Object.keys(t).filter((n=>t[n].findIndex((t=>t.key.toUpperCase()===e.toUpperCase()))>=0)).length?`Key not found ${e}`:""))}))}}},4445:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.parseIgnoreCheck=t.filterIgnored=t.filterOutScmIgnoredFiles=t.isFileIgnoredByScm=t.isIgnoredByScm=t.initScm=void 0;const i=n(2081),o=n(9496),s=n(2846),a=n(5758);class c{getBranchForFolder(e){return null}setReferenceBranchName(e,t){}getReferenceBranchNameForFile(e){return null}updateReferenceBranchStatusItem(e){}dispose(){}}class u{constructor(e,t,n){this.gitApi=e,this.client=t,this.referenceBranchStatusItem=n,this.listeners=[e.onDidOpenRepository((e=>{this.subscribeToRepositoryChanges(e)}))],this.localBranchByFolderUri=new Map,this.referenceBranchByFolderUri=new Map,"initialized"===e.state?this.subscribeToAllRepositoryChanges():e.onDidChangeState((e=>{"initialized"===e&&this.subscribeToAllRepositoryChanges()}))}getBranchForFolder(e){var t;return null===(t=this.gitApi.getRepository(e).state.HEAD)||void 0===t?void 0:t.name}subscribeToAllRepositoryChanges(){var e;this.gitApi.repositories.forEach(this.subscribeToRepositoryChanges,this),null===(e=o.workspace.workspaceFolders)||void 0===e||e.forEach((e=>{var t,n;const r=null===(n=null===(t=this.gitApi.getRepository(e.uri))||void 0===t?void 0:t.state.HEAD)||void 0===n?void 0:n.name;(0,a.logToSonarLintOutput)(`Initializing ${e.uri} on branch ${r}`),this.localBranchByFolderUri.set(e.uri.toString(),r),this.client.didLocalBranchNameChange(e.uri,r)}))}subscribeToRepositoryChanges(e){this.listeners.push(e.state.onDidChange((()=>{var t;null===(t=o.workspace.workspaceFolders)||void 0===t||t.forEach((t=>{var n;const r=t.uri.toString();if(r.startsWith(e.rootUri.toString())){const i=null===(n=e.state.HEAD)||void 0===n?void 0:n.name;this.localBranchByFolderUri.get(r)!==i&&((0,a.logToSonarLintOutput)(`Folder ${t.uri} is now on branch ${i}`),this.client.didLocalBranchNameChange(t.uri,i))}}))})))}setReferenceBranchName(e,t){this.referenceBranchByFolderUri.set(e.toString(!0),t),this.updateReferenceBranchStatusItem(o.window.activeTextEditor)}getReferenceBranchNameForFile(e){var t;if(e){const n=o.workspace.getWorkspaceFolder(e);return this.referenceBranchByFolderUri.get(null===(t=null==n?void 0:n.uri)||void 0===t?void 0:t.toString(!0))}return null}updateReferenceBranchStatusItem(e){var t;const n=this.getReferenceBranchNameForFile(null===(t=null==e?void 0:e.document)||void 0===t?void 0:t.uri);n?(this.referenceBranchStatusItem.text=`SonarLint branch: ${n}`,this.referenceBranchStatusItem.show()):this.referenceBranchStatusItem.hide()}dispose(){this.listeners.forEach((e=>{try{e.dispose()}catch(e){}}))}}function l(e,t){return r(this,void 0,void 0,(function*(){const n=o.Uri.parse(e);return 0===(yield d([n],t)).length}))}function d(e,t){return r(this,void 0,void 0,(function*(){const n=o.extensions.getExtension("vscode.git").exports;if(null==n)return(0,a.logToSonarLintOutput)("The git extension is not installed, consider all files not ignored"),Promise.resolve(e);try{const r=n.getAPI(1),i=r.git.path,o=e[0],s=r.getRepository(o);if(!s)return(0,a.logToSonarLintOutput)("There is no git repository, consider all files as not ignored"),Promise.resolve(e);const c=["check-ignore","-v","-z","--stdin"];return yield t(i,c,s.rootUri.fsPath,e)}catch(t){return(0,a.logToSonarLintOutput)(`Error requesting ignored status, consider all files not ignored: \n ${t}`),Promise.resolve(e)}}))}function h(e,t,n,o){return r(this,void 0,void 0,(function*(){const{sout:r,serr:c}=yield new Promise(((r,c)=>{const u=i.spawn(e,t,{cwd:n});let l="";u.stdout.setEncoding("utf8"),u.stdout.on("data",(e=>{l+=e})),u.stdin.end(o.map((e=>e.fsPath)).join("\0"),"utf8");let d="";u.stderr.setEncoding("utf8"),u.stderr.on("data",(e=>d+=e)),u.on("error",c),u.on("exit",(e=>{1===e?((0,s.isVerboseEnabled)()&&(0,a.logToSonarLintOutput)(`Error on git command "${t}": ${d}`),c(d)):0===e?r({sout:l,serr:d}):/ is in submodule /.test(d)?c({stdout:l,stderr:d,exitCode:e,gitErrorCode:"IsInSubmodule"}):c({stdout:l,stderr:d,exitCode:e})}))}));if(c)return Promise.resolve(o);const u=f(r),l=o.filter((e=>!u.has(e.fsPath)));return Promise.resolve(l)}))}function f(e){const t=new Set,n=e.split("\0");for(let e=0;e<n.length;e+=4){const r=n[e+2],i=n[e+3];r&&!r.startsWith("!")&&t.add(i)}return t}t.initScm=function(e,t){var n;try{const r=null===(n=o.extensions.getExtension("vscode.git").exports)||void 0===n?void 0:n.getAPI(1);return new u(r,e,t)}catch(e){return(0,a.logToSonarLintOutput)(`Exception occurred while initializing the Git API: ${e}`),new c}},t.isIgnoredByScm=function(e){return r(this,void 0,void 0,(function*(){return yield l(e,h)}))},t.isFileIgnoredByScm=l,t.filterOutScmIgnoredFiles=d,t.filterIgnored=h,t.parseIgnoreCheck=f},8979:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isFirstSecretDetected=t.showNotificationForFirstSecretsIssue=void 0;const i=n(9496),o="FIRST_SECRET_ISSUE_DETECTED_KEY";t.showNotificationForFirstSecretsIssue=function(e){return r(this,void 0,void 0,(function*(){const t="Show Problems View";i.window.showWarningMessage("SonarLint detected some secrets in one of the open files.\nWe strongly advise you to review those secrets and ensure they are not committed into repositories. Please refer to the Problems view for more information.",t).then((e=>{e===t&&i.commands.executeCommand("workbench.panel.markers.view.focus")})),e.globalState.update(o,!0)}))},t.isFirstSecretDetected=function(e){const t=e.globalState.get(o);return"string"==typeof t&&e.globalState.update(o,"true"===t),e.globalState.get(o,!1)}},2320:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isSonarQubeConnection=t.ConnectionSettingsService=t.migrateConnectedModeSettings=void 0;const i=n(9496),o=n(5758),s="sonarlint",a="connectedMode.connections",c=`sonarlint.${a}.sonarqube`,u=`sonarlint.${a}.sonarcloud`;t.migrateConnectedModeSettings=function(e,t){return r(this,void 0,void 0,(function*(){const n=e.get(`${a}.sonarqube`,[]),o=e.get(`${a}.sonarcloud`,[]);(yield function(e,t,n){return r(this,void 0,void 0,(function*(){for(const r of[...e,...t])if(!(yield n.hasTokenForConnection(r))&&r.token)return!0;return!1}))}(n,o,t))&&function(e,t,n){r(this,void 0,void 0,(function*(){const r="Migrate";(yield i.window.showWarningMessage("SonarLint found SonarQube/SonarCloud token in settings file.\n   Do you want to migrate them to secure storage?",r,"Ask me later"))===r&&(yield n.addTokensFromSettingsToSecureStorage(e,t))}))}(n,o,t)}))};class l{constructor(e,t){this.secretStorage=e,this.client=t}static init(e,t){l._instance=new l(e.secrets,t)}static get instance(){return l._instance}storeConnectionToken(e,t){return r(this,void 0,void 0,(function*(){yield this.storeServerToken(f(e),t)}))}storeServerToken(e,t){return r(this,void 0,void 0,(function*(){t&&this.secretStorage.store(e,t)}))}getServerToken(e){return r(this,void 0,void 0,(function*(){return this.secretStorage.get(e)}))}hasTokenForConnection(e){return r(this,void 0,void 0,(function*(){return this.hasTokenForServer(f(e))}))}hasTokenForServer(e){return r(this,void 0,void 0,(function*(){try{return void 0!==(yield this.getServerToken(e))}catch(e){return!1}}))}deleteTokenForConnection(e){return r(this,void 0,void 0,(function*(){return this.deleteTokenForServer(f(e))}))}deleteTokenForServer(e){return r(this,void 0,void 0,(function*(){return this.secretStorage.delete(e)}))}getSonarQubeConnections(){return i.workspace.getConfiguration(s).get(`${a}.sonarqube`)}setSonarQubeConnections(e){i.workspace.getConfiguration().update(c,e,i.ConfigurationTarget.Global)}getSonarQubeConnectionForUrl(e){return this.getSonarQubeConnections().find((t=>t.serverUrl===e))}addSonarQubeConnection(e){return r(this,void 0,void 0,(function*(){const t=this.getSonarQubeConnections(),n={serverUrl:e.serverUrl};void 0!==e.connectionId&&(n.connectionId=e.connectionId),e.disableNotifications&&(n.disableNotifications=!0),yield this.storeConnectionToken(e,e.token),t.push(n),i.workspace.getConfiguration().update(c,t,i.ConfigurationTarget.Global)}))}updateSonarQubeConnection(e){return r(this,void 0,void 0,(function*(){const t=this.getSonarQubeConnections(),n=t.find((t=>t.connectionId===e.connectionId));if(!n)throw new Error(`Could not find connection '${e.connectionId}' to update`);n.serverUrl=e.serverUrl,e.disableNotifications?n.disableNotifications=!0:delete n.disableNotifications,yield this.storeConnectionToken(e,e.token),this.client.onTokenUpdate(),delete n.token,i.workspace.getConfiguration().update(c,t,i.ConfigurationTarget.Global)}))}getSonarCloudConnections(){return i.workspace.getConfiguration(s).get(`${a}.sonarcloud`)}getSonarCloudConnectionForOrganization(e){return this.getSonarCloudConnections().find((t=>t.organizationKey===e))}setSonarCloudConnections(e){i.workspace.getConfiguration().update(u,e,i.ConfigurationTarget.Global)}addSonarCloudConnection(e){return r(this,void 0,void 0,(function*(){const t=this.getSonarCloudConnections(),n={organizationKey:e.organizationKey};void 0!==e.connectionId&&(n.connectionId=e.connectionId),e.disableNotifications&&(n.disableNotifications=!0),yield this.storeConnectionToken(e,e.token),t.push(n),i.workspace.getConfiguration().update(u,t,i.ConfigurationTarget.Global)}))}updateSonarCloudConnection(e){return r(this,void 0,void 0,(function*(){const t=this.getSonarCloudConnections(),n=t.find((t=>t.connectionId===e.connectionId));if(!n)throw new Error(`Could not find connection '${e.connectionId}' to update`);n.organizationKey=e.organizationKey,e.disableNotifications?n.disableNotifications=!0:delete n.disableNotifications,yield this.storeConnectionToken(e,e.token),this.client.onTokenUpdate(),delete n.token,i.workspace.getConfiguration().update(u,t,i.ConfigurationTarget.Global)}))}addTokensFromSettingsToSecureStorage(e,t){return r(this,void 0,void 0,(function*(){yield Promise.all([...e,...t].map((e=>r(this,void 0,void 0,(function*(){void 0===e.token||(yield this.hasTokenForConnection(e))||(yield this.storeConnectionToken(e,e.token),e.token=void 0)}))))),yield p(e,c),yield p(t,u)}))}loadSonarQubeConnection(e){return r(this,void 0,void 0,(function*(){const t=this.getSonarQubeConnections().find((t=>t.connectionId===e));return t&&(t.token=yield this.getServerToken(t.serverUrl)),t}))}loadSonarCloudConnection(e){return r(this,void 0,void 0,(function*(){const t=this.getSonarCloudConnections().find((t=>t.connectionId===e));return t&&(t.token=yield this.getServerToken(t.organizationKey)),t}))}removeConnection(e){return r(this,void 0,void 0,(function*(){const t=yield e,n="sonarqubeConnection"===t.contextValue,r="Delete";if((yield i.window.showWarningMessage(`Are you sure you want to delete ${n?"SonarQube":"SonarCloud"} connection '${t.id}' and project bindings related to it?`,{modal:!0},r))!==r)return!1;if(n){const e=this.getSonarQubeConnections(),n=e.findIndex((e=>e.connectionId===t.id));if(-1===n)return d(),!1;const r=e[n];yield this.deleteTokenForConnection(r),e.splice(n,1),this.setSonarQubeConnections(e)}else{const e=this.getSonarCloudConnections(),n=e.findIndex((e=>e.connectionId===t.id));if(-1===n)return d(),!1;const r=e[n];yield this.deleteTokenForConnection(r),e.splice(n,1),this.setSonarCloudConnections(e)}return!0}))}getTokenGenerationUrl(e){return r(this,void 0,void 0,(function*(){const{serverUrl:t,errorMessage:n}=yield this.client.getServerPathForTokenGeneration(e);if(n)throw(0,o.logToSonarLintOutput)(`Could not get token generation params: ${n}`),new Error(n);return t}))}}function d(){i.window.showWarningMessage("You are trying to delete connection with modified settings file. Please save your settings file and try again.")}function h(e){return void 0!==e.serverUrl}function f(e){return h(e)?e.serverUrl:e.organizationKey}function p(e,t){return r(this,void 0,void 0,(function*(){e.length>0&&(yield i.workspace.getConfiguration().update(t,e,i.ConfigurationTarget.Global))}))}t.ConnectionSettingsService=l,t.isSonarQubeConnection=h},2846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onConfigurationChange=t.getCurrentConfiguration=t.loadInitialSettings=t.isVerboseEnabled=t.getSonarLintConfiguration=t.SONARLINT_CATEGORY=void 0;const r=n(9496),i=n(2320);let o;function s(){return r.workspace.getConfiguration(t.SONARLINT_CATEGORY)}function a(){return o}function c(e,t,n){return t.get(e)===n.get(e)}t.SONARLINT_CATEGORY="sonarlint",t.getSonarLintConfiguration=s,t.isVerboseEnabled=function(){var e;return null===(e=a())||void 0===e?void 0:e.get("output.showVerboseLogs",!1)},t.loadInitialSettings=function(){o=s()},t.getCurrentConfiguration=a,t.onConfigurationChange=function(){return r.workspace.onDidChangeConfiguration((e=>{if(!e.affectsConfiguration("sonarlint"))return;const t=s(),n=function(e,t){return!c("ls.javaHome",e,t)||!c("ls.vmargs",e,t)}(o,t)||function(e,t){return!c("pathToNodeExecutable",e,t)}(o,t);if(n){const e="SonarLint Language Server configuration changed, please restart VS Code.",n="Restart Now",i="workbench.action.reloadWindow";o=t,r.window.showWarningMessage(e,n).then((e=>{n===e&&r.commands.executeCommand(i)}))}(0,i.migrateConnectedModeSettings)(t,i.ConnectionSettingsService.instance)}))}},6708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildBaseServerUrl=t.getServerUrlOrOrganizationKey=t.getDisplayName=t.getServerType=t.tokenizeString=t.serverProjectsToQuickPickItems=t.getQuickPickItemsToAutoBind=t.getBestHitsForConnections=void 0;const r=n(9496);function i(e,t){let n=0;for(const r of e)t.includes(r)&&n++;return n}function o(e,t,n,r,i,o){return function(e,t,n,r,i,o){const s={hits:e,projectKey:r,projectName:i,connection:o};return e===t?n.push(s):(n=[]).push(s),n}(t>n?t:n,e[0].hits,e,r,i,o)}function s(e){return e.split(/[-.: ]/).map((e=>e.toLowerCase()))}function a(e){return"serverUrl"in e?"SonarQube":"SonarCloud"}function c(e){return e.connectionId?e.connectionId:u(e)}function u(e){return"SonarQube"===a(e)?e.serverUrl:e.organizationKey}t.getBestHitsForConnections=function(e,t){const n=t.name,a=r.workspace.name,c=[...s(n)],u=[...s(a)],l=new Map;for(const[t,n]of e){let e=[];e.push({hits:0,projectKey:"",projectName:"",connection:{connectionId:""}});for(const r of n){const n=r.key,s=r.name,a=(n+s).toLowerCase(),l=i(c,a),d=i(u,a),h=e[0].hits;(l>=h||d>=h)&&(e=o(e,l,d,n,s,t))}e[0].hits>0&&l.set(t,e)}return l},t.getQuickPickItemsToAutoBind=function(e){const t=[];for(const[n,i]of e){const e=a(n),o=c(n);t.push({label:o,kind:r.QuickPickItemKind.Separator});for(const s of i)t.push({label:`${o} - ${s.projectKey}`,description:s.projectKey,connectionId:n.connectionId,buttons:[{iconPath:new r.ThemeIcon("link-external"),tooltip:`View in ${e}`}]})}return t},t.serverProjectsToQuickPickItems=function(e,t){const n=[];if(e)for(const i of e)n.push({label:i.projectName,description:i.projectKey,buttons:[{iconPath:new r.ThemeIcon("link-external"),tooltip:`View in ${t}`}]});return n},t.tokenizeString=s,t.getServerType=a,t.getDisplayName=c,t.getServerUrlOrOrganizationKey=u,t.buildBaseServerUrl=function(e,t){return"SonarQube"===e?`${t}/dashboard`:"https://sonarcloud.io/project/overview"}},3872:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Commands=void 0,(n=t.Commands||(t.Commands={})).OPEN_BROWSER="vscode.open",n.OPEN_JSON_SETTINGS="workbench.action.openSettingsJson",n.OPEN_SETTINGS="workbench.action.openSettings",n.DEACTIVATE_RULE="SonarLint.DeactivateRule",n.ACTIVATE_RULE="SonarLint.ActivateRule",n.SHOW_ALL_RULES="SonarLint.ShowAllRules",n.SHOW_ACTIVE_RULES="SonarLint.ShowActiveRules",n.SHOW_INACTIVE_RULES="SonarLint.ShowInactiveRules",n.SHOW_SONARLINT_OUTPUT="SonarLint.ShowSonarLintOutput",n.OPEN_RULE_BY_KEY="SonarLint.OpenRuleByKey",n.FIND_RULE_BY_KEY="SonarLint.FindRuleByKey",n.SHOW_ALL_LOCATIONS="SonarLint.ShowAllLocations",n.CLEAR_LOCATIONS="SonarLint.ClearLocations",n.NAVIGATE_TO_LOCATION="SonarLint.NavigateToLocation",n.INSTALL_MANAGED_JRE="SonarLint.InstallManagedJre",n.HIDE_HOTSPOT="SonarLint.HideHotspot",n.SHOW_HOTSPOT_DESCRIPTION="SonarLint.ShowHotspotDescription",n.CONFIGURE_COMPILATION_DATABASE="SonarLint.ConfigureCompilationDatabase",n.CONNECT_TO_SONARQUBE="SonarLint.ConnectToSonarQube",n.CONNECT_TO_SONARCLOUD="SonarLint.ConnectToSonarCloud",n.EDIT_SONARQUBE_CONNECTION="SonarLint.EditSonarQubeConnection",n.EDIT_SONARCLOUD_CONNECTION="SonarLint.EditSonarCloudConnection",n.REMOVE_CONNECTION="SonarLint.RemoveConnection",n.ADD_PROJECT_BINDING="SonarLint.AddProjectBinding",n.EDIT_PROJECT_BINDING="SonarLint.EditProjectBinding",n.REMOVE_PROJECT_BINDING="SonarLint.RemoveProjectBinding",n.AUTO_BIND_WORKSPACE_FOLDERS="SonarLint.AutoBindWorkspaceFolders",n.SHOW_HOTSPOT_LOCATION="SonarLint.ShowHotspotLocation",n.SHOW_HOTSPOT_RULE_DESCRIPTION="SonarLint.ShowHotspotRuleDescription",n.OPEN_HOTSPOT_ON_SERVER="SonarLint.OpenHotspotOnServer",n.HIGHLIGHT_REMOTE_HOTSPOT_LOCATION="SonarLint.HighlightRemoteHotspotLocation",n.CLEAR_HOTSPOT_HIGHLIGHTING="SonarLint.ClearHotspotLocations",n.SHOW_HOTSPOTS_IN_OPEN_FILES="SonarLint.ShowHotspotsInOpenFiles",n.SCAN_FOR_HOTSPOTS_IN_FOLDER="SonarLint.ScanForHotspotsInFolder",n.FORGET_FOLDER_HOTSPOTS="SonarLint.ForgetFolderHotspots",n.TRIGGER_HELP_AND_FEEDBACK_LINK="SonarLint.HelpAndFeedbackLinkClicked"},5758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showLogOutput=t.logToSonarLintOutput=t.getLogOutput=t.initLogOutput=void 0;const r=n(9496);let i;function o(){return i}t.initLogOutput=function(e){i=r.window.createOutputChannel("SonarLint"),e.subscriptions.push(i)},t.getLogOutput=o,t.logToSonarLintOutput=function(e){i&&i.appendLine(e)},t.showLogOutput=function(){var e;null===(e=o())||void 0===e||e.show()}},2650:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatform=t.PlatformInformation=void 0;const i=n(7147),o=n(2037),s=n(5285);class a{constructor(e,t){this.os=e,this.arch=t}static GetPlatformInformation(){const e=o.platform();let t;switch(e){case"win32":t=a.GetWindowsArchitecture();break;case"linux":case"darwin":t=a.GetUnixArchitecture()}return t.then((t=>new a(function(e){return{win32:"windows",linux:"linux",darwin:"mac"}[e]}(e),function(e){return{x86_64:"x64",x86:"x32"}[e]}(t))))}static GetUnknownArchitecture(){return"Unknown"}static GetWindowsArchitecture(){return r(this,void 0,void 0,(function*(){return s.execChildProcess("wmic os get osarchitecture",s.extensionPath).then((e=>{if(e){const t=e.split(o.EOL);if(t.length>=2){const e=t[1].trim();if(e.indexOf("64")>=0)return"x86_64";if(e.indexOf("32")>=0)return"x86"}}return a.GetUnknownArchitecture()})).catch((e=>a.GetUnknownArchitecture()))}))}static GetUnixArchitecture(){return r(this,void 0,void 0,(function*(){return s.execChildProcess("uname -m",s.packageJson.extensionFolderPath).then((e=>e?e.trim():null))}))}}t.PlatformInformation=a,t.getPlatform=function(){const e=process.platform;return"linux"===e&&function(){let e;try{e=i.readFileSync("/etc/os-release","utf-8")}catch(t){try{e=i.readFileSync("/usr/lib/os-release","utf-8")}catch(e){return!1}}return!!e&&"alpine"===(e.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]}()?"alpine":e}},8635:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.installManagedJre=t.parseMajorVersion=t.resolveRequirements=t.JAVA_HOME_CONFIG=void 0;const i=n(2081),o=n(1511),s=n(2804),a=n(5674),c=n(1017),u=n(7835),l=n(9496),d=n(3872),h=n(8436),f=n(5758),p=n(2650),m=n(5285),g="java"+(0===process.platform.indexOf("win")?".exe":"");function y(){return l.workspace.getConfiguration().get(t.JAVA_HOME_CONFIG,null)}function v(e){let t=/version "(.*)"/g,n=t.exec(e);if(!n)return 0;let r=n[1];r.startsWith("1.")&&(r=r.substring("1.".length)),t=/\d+/g,n=t.exec(r);let i=0;return n&&(i=parseInt(n[0])),i}function b(e,n){n.indexOf(t.JAVA_HOME_CONFIG)>-1?e({message:n,label:"Open settings",command:d.Commands.OPEN_SETTINGS,commandParam:t.JAVA_HOME_CONFIG}):e({message:n})}t.JAVA_HOME_CONFIG="sonarlint.ls.javaHome",t.resolveRequirements=function(e){return r(this,void 0,void 0,(function*(){let n=y(),r=!1;if(n){const e=`'${t.JAVA_HOME_CONFIG}' variable defined in VS Code settings`;if(n=o(n),u.sync(n)){if(!u.sync(c.resolve(n,"bin",g))){let t;t=u.sync(c.resolve(n,g))?`'bin' should be removed from the ${e} (${n})`:`The ${e} (${n}) does not point to a JRE. Will try to use embedded JRE.`,(0,f.logToSonarLintOutput)(t),r=!0}}else(0,f.logToSonarLintOutput)(`The ${e} points to a missing or inaccessible folder (${n})`)}if(!n||r){const r=c.join(e.extensionPath,"jre");if(a.existsSync(r)&&a.statSync(r).isDirectory()){const e=a.readdirSync(r)[0];n=c.join(r,e)}else n=yield new Promise(((e,n)=>{let{source:r,javaHome:i}=function(){let e,n=y();return n?e=`'${t.JAVA_HOME_CONFIG}' variable defined in VS Code settings`:(n=process.env.JDK_HOME,n?e="JDK_HOME environment variable":(n=process.env.JAVA_HOME,e="JAVA_HOME environment variable")),{source:e,javaHome:n?n.trim():null}}();if(i){if(i=o(i),u.sync(i)){if(!u.sync(c.resolve(i,"bin",g))){let e;e=u.sync(c.resolve(i,g))?`'bin' should be removed from the ${r} (${i})`:`The ${r} (${i}) does not point to a JRE.`,b(n,e)}}else b(n,`The ${r} points to a missing or inaccessible folder (${i})`);e(i)}s(((r,i)=>{r||!i?function(e){e({message:`The Java Runtime Environment can not be located. Please install a JRE, or configure its path with the\n      ${t.JAVA_HOME_CONFIG} property. You can also let SonarLint download the JRE from AdoptOpenJDK. This JRE will be\n      used only by SonarLint.`,label:"Let SonarLint download the JRE",command:d.Commands.INSTALL_MANAGED_JRE})}(n):e(i)}))}))}const h=yield function(e){return new Promise(((t,n)=>{const r=c.join(e,"bin","java");i.execFile(r,["-version"],{},((e,r,i)=>{const o=v(i);o<11?function(e,t){e({message:"Java 11 or more recent is required to run.\nPlease download and install a recent JRE.",label:"Get the Java Runtime Environment",command:d.Commands.OPEN_BROWSER,commandParam:l.Uri.parse("https://www.oracle.com/technetwork/java/javase/downloads/index.html")})}(n):t(o)}))}))}(n);return{javaHome:n,javaVersion:h}}))},t.parseMajorVersion=v,t.installManagedJre=function(){return l.window.withProgress({location:l.ProgressLocation.Notification,title:"SonarLint JRE Install"},((e,t)=>p.PlatformInformation.GetPlatformInformation().then((t=>{const n={os:t.os,architecture:t.arch,version:11};return e.report({message:"Downloading"}),h.download(n,c.join(m.extensionPath,"..","sonarsource.sonarlint_managed-jre"))})).then((t=>(e.report({message:"Uncompressing"}),h.unzip(t)))).then((t=>{e.report({message:"Done"}),l.workspace.getConfiguration("sonarlint.ls").update("javaHome",t,l.ConfigurationTarget.Global)})).catch((e=>{throw e}))))}},6513:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.noWorkspaceFolderToScanMessage=void 0;const i=n(9496),o="Open Folder";t.noWorkspaceFolderToScanMessage=function(){return r(this,void 0,void 0,(function*(){(yield i.window.showWarningMessage("No workspace folder to scan, please open a workspace or folder first",o))===o&&i.commands.executeCommand("vscode.openFolder")}))}},7458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUriFromRelativePath=t.getRelativePathFromFullPath=t.getFileNameFromFullPath=t.protocol2CodeConverter=t.code2ProtocolConverter=void 0;const r=n(9496),i=n(1017);function o(e){return e.substring(e.lastIndexOf("/")+1)}t.code2ProtocolConverter=function(e){return/^win32/.test(process.platform)?e.toString().replace(/%3A/i,":"):e.toString()},t.protocol2CodeConverter=function(e){return r.Uri.parse(e)},t.getFileNameFromFullPath=o,t.getRelativePathFromFullPath=function(e,t,n){const s=r.Uri.parse(e).fsPath,a=o(e),c=t.uri.fsPath,u=s.replace(`${c}${i.sep}`,""),l=u.replace(`${a}`,"");return n?l?`${t.name} • ${l}`:t.name:u.endsWith(i.sep)?l.substring(0,u.length-2):l},t.getUriFromRelativePath=function(e,t){return`${t.uri}/${e}`}},5285:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getQuickPickListItemsForWorkspaceFolders=t.createAnalysisFilesFromFileUris=t.findFilesInFolder=t.formatIssueMessage=t.sleep=t.resolveExtensionFile=t.execChildProcess=t.isRunningAutoBuild=t.isRunningOnWindows=t.setExtensionContext=t.extensionContext=t.extensionPath=t.packageJson=t.extension=t.startedInDebugMode=void 0;const i=n(2081),o=n(1017),s=n(9496),a=n(7282),c=n(3837),u=n(7458);t.startedInDebugMode=function(e){const t=e.execArgv;return!!t&&t.some((e=>/^--debug=?/.test(e)||/^--debug-brk=?/.test(e)||/^--inspect-brk=?/.test(e)))},t.extension=s.extensions.getExtension("SonarSource.sonarlint-vscode"),t.packageJson=t.extension.packageJSON,t.setExtensionContext=function(e){t.extensionContext=e,t.extensionPath=t.extensionContext.extensionPath},t.isRunningOnWindows=function(){return/^win32/.test(a.platform)},t.isRunningAutoBuild=function(){return"continuous-integration"===a.env.NODE_ENV},t.execChildProcess=function(e,t,n){return new Promise(((r,o)=>{i.exec(e,{cwd:t,maxBuffer:512e3},((e,t,i)=>{if(n){let r="",o=!1;t&&t.length>0&&(r+=t),i&&i.length>0&&(r+=i,o=!0),e&&(r+=e.message,o=!0),o&&(n.append(r),n.show())}e?o(e):i&&i.length>0?o(new Error(i)):r(t)}))}))},t.resolveExtensionFile=function(...e){return s.Uri.file(o.join(t.extensionPath,...e))},t.sleep=function(e){return new Promise((t=>setTimeout(t,e)))},t.formatIssueMessage=function(e,t){return new s.MarkdownString(`$(warning) ${e} \`sonarlint(${t})\``,!0)},t.findFilesInFolder=function e(t){return r(this,void 0,void 0,(function*(){const n=yield s.workspace.fs.readDirectory(t);let r=[];for(const[i,o]of n){const n=s.Uri.joinPath(t,i);if(o===s.FileType.Directory){const t=yield e(n);r=r.concat(t)}else o===s.FileType.File&&r.push(n)}return r}))},t.createAnalysisFilesFromFileUris=function(e,t){return r(this,void 0,void 0,(function*(){const n=new Map;t.forEach((e=>n.set(e.uri.path,e)));const r=[];for(const t of e){let e,i;const o=t.path;if(n.has(o)){const t=n.get(o);e=t.getText(),i=t.version}else{const n=yield s.workspace.fs.readFile(t);e=(new c.TextDecoder).decode(n),i=1}r.push({uri:(0,u.code2ProtocolConverter)(t),languageId:"[unknown]",version:i,text:e})}return r}))},t.getQuickPickListItemsForWorkspaceFolders=function(e){const t=[];for(const n of e)t.push({label:n.name,description:n.uri.path});return t}},2144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capitalizeName=t.clean=t.escapeHtml=t.ResourceResolver=void 0;const r=n(5285);t.ResourceResolver=class{constructor(e,t){this.context=e,this.webview=t}resolve(...e){return this.webview.asWebviewUri((0,r.resolveExtensionFile)(...e)).toString()}};const i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function o(e){return e.replace(/\b(\w)/g,(e=>e.toUpperCase()))}t.escapeHtml=function(e){return String(e).replace(/[&<>"'\/`=]/g,(function(e){return i[e]}))},t.clean=function(e){return o(e.toLowerCase().split("_").join(" "))},t.capitalizeName=o},8218:(e,t,n)=>{var r=n(6547),i=n(5782),o=n(8647);e.exports=function(){var e=[],t=0,n=0,s=!1,a=null,c=null;function u(e){if(!s)try{return function(t){if(n){var r=1e5*n,o=new Int32Array(r),s=[];return null===(c=i.decompress(a,(function(e){s.push(e)}),o,r,c))?(n=0,!1):(u=Buffer.from(s),e.queue(u),null!==u&&u.length,!0)}var u;return n=i.header(a),c=0,!0}()}catch(t){return e.emit("error",t),s=!0,!1}}return r((function(r){for(e.push(r),t+=r.length,null===a&&(a=o((function(){return e.shift()})));!s&&t-a.bytesRead+1>=(25e3+1e5*n||4);)u(this)}),(function(e){for(;!s&&a&&t>a.bytesRead;)u(this);s||(null!==c&&this.emit("error",new Error("input stream ended prematurely")),this.queue(null))}))}},8647:e=>{var t=[0,1,3,7,15,31,63,127,255];e.exports=function(e){var n=0,r=0,i=e(),o=function(s){if(null===s&&0!=n)return n=0,void r++;for(var a=0;s>0;){r>=i.length&&(r=0,i=e());var c=8-n;0===n&&s>0&&o.bytesRead++,s>=c?(a<<=c,a|=t[c]&i[r++],n=0,s-=c):(a<<=s,a|=(i[r]&t[s]<<8-s-n)>>8-s-n,n+=s,s=0)}return a};return o.bytesRead=0,o}},5782:e=>{function t(e){this.name="Bzip2Error",this.message=e,this.stack=(new Error).stack}t.prototype=new Error;var n=function(e){throw new t(e)},r={};r.Bzip2Error=t,r.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188],r.array=function(e){var t=0,n=0,r=[0,1,3,7,15,31,63,127,255];return function(i){for(var o=0;i>0;){var s=8-t;i>=s?(o<<=s,o|=r[s]&e[n++],t=0,i-=s):(o<<=i,o|=(e[n]&r[i]<<8-i-t)>>8-i-t,t+=i,i=0)}return o}},r.simple=function(e,t){var n=r.array(e),i=!1,o=1e5*r.header(n),s=new Int32Array(o);do{i=r.decompress(n,t,s,o)}while(!i)},r.header=function(e){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),4348520!=e(24)&&n("No magic number found");var t=e(8)-48;return(t<1||t>9)&&n("Not a BZIP archive"),t},r.decompress=function(e,t,r,i,o){for(var s=-1,a="",c=0;c<6;c++)a+=e(8).toString(16);if("177245385090"==a)return(0|e(32))!==o&&n("Error in bzip2: crc32 do not match"),e(null),null;"314159265359"!=a&&n("eek not valid bzip data");var u=0|e(32);e(1)&&n("unsupported obsolete version");var l=e(24);l>i&&n("Initial position larger than buffer size");var d=e(16),h=0;for(c=0;c<16;c++)if(d&1<<15-c){var f=e(16);for(g=0;g<16;g++)f&1<<15-g&&(this.symToByte[h++]=16*c+g)}var p=e(3);(p<2||p>6)&&n("another error");var m=e(15);for(0==m&&n("meh"),c=0;c<p;c++)this.mtfSymbol[c]=c;for(c=0;c<m;c++){for(var g=0;e(1);g++)g>=p&&n("whoops another error");var y=this.mtfSymbol[g];for(f=g-1;f>=0;f--)this.mtfSymbol[f+1]=this.mtfSymbol[f];this.mtfSymbol[0]=y,this.selectors[c]=y}var v,b,w,_,S=h+2,C=[],R=new Uint8Array(258),T=new Uint16Array(21);for(g=0;g<p;g++){for(d=e(5),c=0;c<S;c++){for(;(d<1||d>20)&&n("I gave up a while ago on writing error messages"),e(1);)e(1)?d--:d++;R[c]=d}var E,k;for(E=k=R[0],c=1;c<S;c++)R[c]>k?k=R[c]:R[c]<E&&(E=R[c]);(v=C[g]={}).permute=new Int32Array(258),v.limit=new Int32Array(21),v.base=new Int32Array(21),v.minLen=E,v.maxLen=k;var D=v.base,x=v.limit,O=0;for(c=E;c<=k;c++)for(d=0;d<S;d++)R[d]==c&&(v.permute[O++]=d);for(c=E;c<=k;c++)T[c]=x[c]=0;for(c=0;c<S;c++)T[R[c]]++;for(O=d=0,c=E;c<k;c++)O+=T[c],x[c]=O-1,O<<=1,D[c+1]=O-(d+=T[c]);x[k]=O+T[k]-1,D[E]=0}for(c=0;c<256;c++)this.mtfSymbol[c]=c,this.byteCount[c]=0;for(b=w=S=_=0;;){for(S--||(S=49,_>=m&&n("meow i'm a kitty, that's an error"),D=(v=C[this.selectors[_++]]).base,x=v.limit),g=e(c=v.minLen);c>v.maxLen&&n("rawr i'm a dinosaur"),!(g<=x[c]);)c++,g=g<<1|e(1);((g-=D[c])<0||g>=258)&&n("moo i'm a cow");var P=v.permute[g];if(0!=P&&1!=P){if(b)for(b=0,w+d>i&&n("Boom."),y=this.symToByte[this.mtfSymbol[0]],this.byteCount[y]+=d;d--;)r[w++]=y;if(P>h)break;for(w>=i&&n("I can't think of anything. Error"),c=P-1,y=this.mtfSymbol[c],f=c-1;f>=0;f--)this.mtfSymbol[f+1]=this.mtfSymbol[f];this.mtfSymbol[0]=y,y=this.symToByte[y],this.byteCount[y]++,r[w++]=y}else b||(b=1,d=0),d+=0==P?b:2*b,b<<=1}for((l<0||l>=w)&&n("I'm a monkey and I'm throwing something at someone, namely you"),g=0,c=0;c<256;c++)f=g+this.byteCount[c],this.byteCount[c]=g,g=f;for(c=0;c<w;c++)y=255&r[c],r[this.byteCount[y]]|=c<<8,this.byteCount[y]++;var I,N,F,L=0,M=0,A=0;for(w&&(M=255&(L=r[l]),L>>=8,A=-1);w;){for(w--,N=M,M=255&(L=r[L]),L>>=8,3==A++?(I=M,F=N,M=-1):(I=1,F=M);I--;)s=4294967295&(s<<8^this.crcTable[255&(s>>24^F)]),t(F);M!=N&&(A=0)}return(0|(s=(-1^s)>>>0))!=(0|u)&&n("Error in bzip2: crc32 do not match"),4294967295&(s^(o<<1|o>>>31))},e.exports=r},8981:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((n,r)=>{e.call(this,...t,((e,t)=>null!=e?r(e):n(t)))}));e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then((e=>n(null,e)),n)}),"name",{value:e.name})}},1159:(e,t,n)=>{e.exports=n(3837).deprecate},3870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFormat=t.TraceValues=t.Trace=t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=void 0;const r=n(839);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return r.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const i=n(6184);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return i.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return i.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return i.Touch}});const o=n(3911);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});const s=n(7135);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return s.Emitter}});const a=n(3881);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const c=n(6525);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const u=n(6654);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return u.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return u.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return u.WriteableStreamMessageWriter}});const l=n(1343);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return l.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return l.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}});const d=n(147);t.RAL=d.default},3881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(147),i=n(7574),o=n(7135);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const n=(0,r.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=s.None}}},1343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const r=n(147),i=n(7574),o=n(839),s=n(6184),a=n(7135),c=n(3881);var u,l,d,h,f,p,m,g,y,v,b,w,_,S,C;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(l=t.ProgressToken||(t.ProgressToken={})),function(e){e.type=new o.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return i.func(e)}}(h||(h={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(f=t.Trace||(t.Trace={})),(C=t.TraceValues||(t.TraceValues={})).Off="off",C.Messages="messages",C.Compact="compact",C.Verbose="verbose",function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(f=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return i.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTrace")}(m=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTrace")}(g=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(y=t.ConnectionErrors||(t.ConnectionErrors={}));class R extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,R.prototype)}}t.ConnectionError=R,function(e){e.is=function(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(v=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&i.func(t.createCancellationTokenSource)}}(b=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation:(e,t)=>e.sendNotification(u.type,{id:t}),cleanup(e){}}),e.is=function(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(w=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:b.Message,sender:w.Message}),e.is=function(e){const t=e;return t&&b.is(t.receiver)&&w.is(t.sender)}}(_=t.CancellationStrategy||(t.CancellationStrategy={})),(t.ConnectionOptions||(t.ConnectionOptions={})).is=function(e){const t=e;return t&&(_.is(t.cancellationStrategy)||v.is(t.connectionStrategy))},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(S||(S={})),t.createMessageConnection=function(e,n,v,b){const w=void 0!==v?v:t.NullLogger;let C=0,T=0,E=0;const k="2.0";let D;const x=new Map;let O;const P=new Map,I=new Map;let N,F,L=new s.LinkedMap,M=new Map,A=new Set,j=new Map,q=f.Off,H=p.Text,U=S.New;const $=new a.Emitter,B=new a.Emitter,W=new a.Emitter,z=new a.Emitter,V=new a.Emitter,K=b&&b.cancellationStrategy?b.cancellationStrategy:_.Message;function G(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function J(e){}function Z(){return U===S.Listening}function Y(){return U===S.Closed}function Q(){return U===S.Disposed}function X(){U!==S.New&&U!==S.Listening||(U=S.Closed,B.fire(void 0))}function ee(){N||0===L.size||(N=(0,r.default)().timer.setImmediate((()=>{N=void 0,function(){if(0===L.size)return;const e=L.shift();try{o.Message.isRequest(e)?function(e){if(Q())return;function t(t,r,i){const s={jsonrpc:k,id:e.id};t instanceof o.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,re(s,r,i),n.write(s).catch((()=>w.error("Sending response failed.")))}function r(t,r,i){const o={jsonrpc:k,id:e.id,error:t.toJson()};re(o,r,i),n.write(o).catch((()=>w.error("Sending response failed.")))}!function(e){if(q!==f.Off&&F)if(H===p.Text){let t;q!==f.Verbose&&q!==f.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),F.log(`Received request '${e.method} - (${e.id})'.`,t)}else oe("receive-request",e)}(e);const s=x.get(e.method);let a,c;s&&(a=s.type,c=s.handler);const u=Date.now();if(c||D){const s=e.id??String(Date.now()),l=K.receiver.createCancellationTokenSource(s);null!==e.id&&A.has(e.id)&&l.cancel(),null!==e.id&&j.set(s,l);try{let d;if(c)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but received none.`),e.method,u);d=c(l.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byName)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,u);d=c(...e.params,l.token)}else{if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byPosition)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,u);d=c(e.params,l.token)}else D&&(d=D(e.method,e.params,l.token));const h=d;d?h.then?h.then((n=>{j.delete(s),t(n,e.method,u)}),(t=>{j.delete(s),t instanceof o.ResponseError?r(t,e.method,u):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(j.delete(s),t(d,e.method,u)):(j.delete(s),function(t,r,i){void 0===t&&(t=null);const o={jsonrpc:k,id:e.id,result:t};re(o,r,i),n.write(o).catch((()=>w.error("Sending response failed.")))}(d,e.method,u))}catch(n){j.delete(s),n instanceof o.ResponseError?t(n,e.method,u):n&&i.string(n.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):o.Message.isNotification(e)?function(e){if(Q())return;let t,n;if(e.method===u.type.method){const t=e.params.id;return A.delete(t),void ie(e)}{const r=P.get(e.method);r&&(n=r.handler,t=r.type)}if(n||O)try{if(ie(e),n)if(void 0===e.params)void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==o.ParameterStructures.byName&&w.error(`Notification ${e.method} defines ${t.numberOfParams} params but received none.`),n();else if(Array.isArray(e.params)){const r=e.params;e.method===d.type.method&&2===r.length&&l.is(r[0])?n({token:r[0],value:r[1]}):(void 0!==t&&(t.parameterStructures===o.ParameterStructures.byName&&w.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&w.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${r.length} arguments`)),n(...r))}else void 0!==t&&t.parameterStructures===o.ParameterStructures.byPosition&&w.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params);else O&&O(e.method,e.params)}catch(t){t.message?w.error(`Notification handler '${e.method}' failed with message: ${t.message}`):w.error(`Notification handler '${e.method}' failed unexpectedly.`)}else W.fire(e)}(e):o.Message.isResponse(e)?function(e){if(!Q())if(null===e.id)e.error?w.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):w.error("Received response message without id. No further error information provided.");else{const t=e.id,n=M.get(t);if(function(e,t){if(q!==f.Off&&F)if(H===p.Text){let n;if(q!==f.Verbose&&q!==f.Compact||(e.error&&e.error.data?n=`Error data: ${ne(e.error.data)}\n\n`:e.result?n=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";F.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else F.log(`Received response ${e.id} without active response promise.`,n)}else oe("receive-response",e)}(e,n),void 0!==n){M.delete(t);try{if(e.error){const t=e.error;n.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?w.error(`Response handler '${n.method}' failed with message: ${e.message}`):w.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void w.error("Received empty message.");w.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(i.string(t.id)||i.number(t.id)){const e=t.id,n=M.get(e);n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{ee()}}()})))}e.onClose(X),e.onError((function(e){$.fire([e,void 0,void 0])})),n.onClose(X),n.onError((function(e){$.fire(e)}));const te=e=>{try{if(o.Message.isNotification(e)&&e.method===u.type.method){const t=e.params.id,r=G(t),i=L.get(r);if(o.Message.isRequest(i)){const o=b?.connectionStrategy,s=o&&o.cancelUndispatched?o.cancelUndispatched(i,J):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return L.delete(r),j.delete(t),s.id=i.id,re(s,e.method,Date.now()),void n.write(s).catch((()=>w.error("Sending response for canceled message failed.")))}const s=j.get(t);if(void 0!==s)return s.cancel(),void ie(e);A.add(t)}!function(e,t){var n;o.Message.isRequest(t)?e.set(G(t.id),t):o.Message.isResponse(t)?e.set(null===(n=t.id)?"res-unknown-"+(++E).toString():"res-"+n.toString(),t):e.set("not-"+(++T).toString(),t)}(L,e)}finally{ee()}};function ne(e){if(null!=e)switch(q){case f.Verbose:return JSON.stringify(e,null,4);case f.Compact:return JSON.stringify(e);default:return}}function re(e,t,n){if(q!==f.Off&&F)if(H===p.Text){let r;q!==f.Verbose&&q!==f.Compact||(e.error&&e.error.data?r=`Error data: ${ne(e.error.data)}\n\n`:e.result?r=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),F.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else oe("send-response",e)}function ie(e){if(q!==f.Off&&F&&e.method!==g.type.method)if(H===p.Text){let t;q!==f.Verbose&&q!==f.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),F.log(`Received notification '${e.method}'.`,t)}else oe("receive-notification",e)}function oe(e,t){if(!F||q===f.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};F.log(n)}function se(){if(Y())throw new R(y.Closed,"Connection is closed.");if(Q())throw new R(y.Disposed,"Connection is disposed.")}function ae(e){return void 0===e?null:e}function ce(e){return null===e?void 0:e}function ue(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function le(e,t){switch(e){case o.ParameterStructures.auto:return ue(t)?ce(t):[ae(t)];case o.ParameterStructures.byName:if(!ue(t))throw new Error("Received parameters by name but param is not an object literal.");return ce(t);case o.ParameterStructures.byPosition:return[ae(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function de(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=le(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ae(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const he={sendNotification:(e,...t)=>{let r,s;if(se(),i.string(e)){r=e;const n=t[0];let i=0,a=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(i=1,a=n);let c=t.length;const u=c-i;switch(u){case 0:s=void 0;break;case 1:s=le(a,t[i]);break;default:if(a===o.ParameterStructures.byName)throw new Error(`Received ${u} parameters for 'by Name' notification parameter structure.`);s=t.slice(i,c).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n)}const a={jsonrpc:k,method:r,params:s};return function(e){if(q!==f.Off&&F)if(H===p.Text){let t;q!==f.Verbose&&q!==f.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),F.log(`Sending notification '${e.method}'.`,t)}else oe("send-notification",e)}(a),n.write(a).catch((()=>w.error("Sending notification failed.")))},onNotification:(e,t)=>{let n;return se(),i.func(e)?O=e:t&&(i.string(e)?(n=e,P.set(e,{type:void 0,handler:t})):(n=e.method,P.set(e.method,{type:e,handler:t}))),{dispose:()=>{void 0!==n?P.delete(n):O=void 0}}},onProgress:(e,t,n)=>{if(I.has(t))throw new Error(`Progress handler for token ${t} already registered`);return I.set(t,n),{dispose:()=>{I.delete(t)}}},sendProgress:(e,t,n)=>he.sendNotification(d.type,{token:t,value:n}),onUnhandledProgress:z.event,sendRequest:(e,...t)=>{let r,s,a;if(se(),function(){if(!Z())throw new Error("Call listen() first.")}(),i.string(e)){r=e;const n=t[0],i=t[t.length-1];let u=0,l=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(u=1,l=n);let d=t.length;c.CancellationToken.is(i)&&(d-=1,a=i);const h=d-u;switch(h){case 0:s=void 0;break;case 1:s=le(l,t[u]);break;default:if(l===o.ParameterStructures.byName)throw new Error(`Received ${h} parameters for 'by Name' request parameter structure.`);s=t.slice(u,d).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n);const i=e.numberOfParams;a=c.CancellationToken.is(n[i])?n[i]:void 0}const u=C++;let l;return a&&(l=a.onCancellationRequested((()=>{const e=K.sender.sendCancellation(he,u);return void 0===e?(w.log(`Received no promise from cancellation strategy when cancelling id ${u}`),Promise.resolve()):e.catch((()=>{w.log(`Sending cancellation messages for id ${u} failed`)}))}))),new Promise(((e,t)=>{const i={jsonrpc:k,id:u,method:r,params:s};let a={method:r,timerStart:Date.now(),resolve:t=>{e(t),K.sender.cleanup(u),l?.dispose()},reject:e=>{t(e),K.sender.cleanup(u),l?.dispose()}};!function(e){if(q!==f.Off&&F)if(H===p.Text){let t;q!==f.Verbose&&q!==f.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),F.log(`Sending request '${e.method} - (${e.id})'.`,t)}else oe("send-request",e)}(i);try{n.write(i).catch((()=>w.error("Sending request failed.")))}catch(e){a.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&M.set(u,a)}))},onRequest:(e,t)=>{se();let n=null;return h.is(e)?(n=void 0,D=e):i.string(e)?(n=null,void 0!==t&&(n=e,x.set(e,{handler:t,type:void 0}))):void 0!==t&&(n=e.method,x.set(e.method,{type:e,handler:t})),{dispose:()=>{null!==n&&(void 0!==n?x.delete(n):D=void 0)}}},hasPendingResponse:()=>M.size>0,trace:async(e,t,n)=>{let r=!1,o=p.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||p.Text)),q=e,H=o,F=q===f.Off?void 0:t,!r||Y()||Q()||await he.sendNotification(m.type,{value:f.toString(e)})},onError:$.event,onClose:B.event,onUnhandledNotification:W.event,onDispose:V.event,end:()=>{n.end()},dispose:()=>{if(Q())return;U=S.Disposed,V.fire(void 0);const t=new o.ResponseError(o.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const e of M.values())e.reject(t);M=new Map,j=new Map,A=new Set,L=new s.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{se(),function(){if(Z())throw new R(y.AlreadyListening,"Connection is already listening")}(),U=S.Listening,e.listen(te)},inspect:()=>{(0,r.default)().console.log("inspect")}};return he.onNotification(g.type,(e=>{if(q===f.Off||!F)return;const t=q===f.Verbose||q===f.Compact;F.log(e.message,t?e.verbose:void 0)})),he.onNotification(d.type,(e=>{const t=I.get(e.token);t?t(e.value):z.fire(e)})),he}},3911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}}},7135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(147);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class i{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(e){(0,r.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},7574:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))}},6184:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class i{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.key,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.value,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:[t.key,t.value],done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=i,t.LRUCache=class extends i{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},5530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),o=new Map,s=this.toString(i,"ascii").split("\r\n");if(s.length<2)return o;for(let e=0;e<s.length-2;e++){const t=s[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),i=t.substr(n+1).trim();o.set(r,i)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},6525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(147),i=n(7574),o=n(7135);var s;(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)};class a{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){let t,n;const i=new Map;let o;const s=new Map;if(void 0===e||"string"==typeof e)t=e??"utf-8";else{if(t=e.charset??"utf-8",void 0!==e.contentDecoder&&(n=e.contentDecoder,i.set(n.name,n)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)i.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(o=e.contentTypeDecoder,s.set(o.name,o)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===o&&(o=(0,r.default)().applicationJson.decoder,s.set(o.name,o)),{charset:t,contentDecoder:n,contentDecoders:i,contentTypeDecoder:o,contentTypeDecoders:s}}}(s||(s={})),t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=(0,r.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,r.default)().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},6654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(147),i=n(7574),o=n(142),s=n(7135);var a;(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)};class c{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:e??"utf-8",contentTypeEncoder:(0,r.default)().applicationJson.encoder}:{charset:e.charset??"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:e.contentTypeEncoder??(0,r.default)().applicationJson.encoder}}}(a||(a={})),t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(7574);var i,o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(i=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,s.prototype)}toJson(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}t.ResponseError=s;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class c{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=c,t.RequestType0=class extends c{constructor(e){super(e,0)}},t.RequestType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends c{constructor(e){super(e,2)}},t.RequestType3=class extends c{constructor(e){super(e,3)}},t.RequestType4=class extends c{constructor(e){super(e,4)}},t.RequestType5=class extends c{constructor(e){super(e,5)}},t.RequestType6=class extends c{constructor(e){super(e,6)}},t.RequestType7=class extends c{constructor(e){super(e,7)}},t.RequestType8=class extends c{constructor(e){super(e,8)}},t.RequestType9=class extends c{constructor(e){super(e,9)}},t.NotificationType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends c{constructor(e){super(e,0)}},t.NotificationType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends c{constructor(e){super(e,2)}},t.NotificationType3=class extends c{constructor(e){super(e,3)}},t.NotificationType4=class extends c{constructor(e){super(e,4)}},t.NotificationType5=class extends c{constructor(e){super(e,5)}},t.NotificationType6=class extends c{constructor(e){super(e,6)}},t.NotificationType7=class extends c{constructor(e){super(e,7)}},t.NotificationType8=class extends c{constructor(e){super(e,8)}},t.NotificationType9=class extends c{constructor(e){super(e,9)}},(o=t.Message||(t.Message={})).isRequest=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},o.isNotification=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},o.isResponse=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},147:(e,t)=>{"use strict";let n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(147);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.default)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},4389:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const o=n(3034);o.default.install();const s=n(3870),a=n(1017),c=n(2037),u=n(6113),l=n(1808);i(n(3870),t);class d extends s.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),s.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=d;class h extends s.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=h;class f extends s.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,o.default)().stream.asReadableStream(e),t)}}t.SocketMessageReader=f;class p extends s.WriteableStreamMessageWriter{constructor(e,t){super((0,o.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=p;class m extends s.ReadableStreamMessageReader{constructor(e,t){super((0,o.default)().stream.asReadableStream(e),t)}}t.StreamMessageReader=m;class g extends s.WriteableStreamMessageWriter{constructor(e,t){super((0,o.default)().stream.asWritableStream(e),t)}}t.StreamMessageWriter=g;const y=process.env.XDG_RUNTIME_DIR,v=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=(0,u.randomBytes)(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=y?a.join(y,`vscode-ipc-${e}.sock`):a.join(c.tmpdir(),`vscode-${e}.sock`);const n=v.get(process.platform);return void 0!==n&&t.length>=n&&(0,o.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{let s=(0,l.createServer)((e=>{s.close(),n([new f(e,t),new p(e,t)])}));s.on("error",o),s.listen(e,(()=>{s.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=(0,l.createConnection)(e);return[new f(n,t),new p(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{const s=(0,l.createServer)((e=>{s.close(),n([new f(e,t),new p(e,t)])}));s.on("error",o),s.listen(e,"127.0.0.1",(()=>{s.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=(0,l.createConnection)(e,"127.0.0.1");return[new f(n,t),new p(n,t)]},t.createMessageConnection=function(e,t,n,r){n||(n=s.NullLogger);const i=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new m(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new g(t):t;return s.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,s.createMessageConnection)(i,o,n,r)}},3034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(147),i=n(3837),o=n(3911),s=n(5530);class a extends s.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return a.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new i.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}a.emptyBuffer=Buffer.allocUnsafe(0);class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),o.Disposable.create((()=>this.stream.off("data",e)))}}class u{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((n,r)=>{const i=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)}))}end(){this.stream.end()}}const l=Object.freeze({messageBuffer:Object.freeze({create:e=>new a(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new u(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function d(){return l}!function(e){e.install=function(){r.default.install(l)}}(d||(d={})),t.default=d},5028:(e,t,n)=>{"use strict";e.exports=n(4389)},5734:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticPullMode=t.vsdiag=void 0,i(n(273),t),i(n(8909),t);var o=n(2570);Object.defineProperty(t,"vsdiag",{enumerable:!0,get:function(){return o.vsdiag}}),Object.defineProperty(t,"DiagnosticPullMode",{enumerable:!0,get:function(){return o.DiagnosticPullMode}}),i(n(4384),t)},5578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){const r=this.client,o=this.middleware,s=(e,t,n)=>{const o=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(i.CallHierarchyPrepareRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyItems(e,n)),(e=>r.handleFailedRequest(i.CallHierarchyPrepareRequest.type,n,e,null)))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(i.CallHierarchyIncomingCallsRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(e,t)),(e=>n.handleFailedRequest(i.CallHierarchyIncomingCallsRequest.type,t,e,null)))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(i.CallHierarchyOutgoingCallsRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e,t)),(e=>n.handleFailedRequest(i.CallHierarchyOutgoingCallsRequest.type,t,e,null)))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}}class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){const t=e;(0,o.ensure)((0,o.ensure)(t,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.callHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[r.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.CallHierarchyFeature=a},4384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.BaseLanguageClient=t.MessageTransports=t.SuspendMode=t.State=t.CloseAction=t.ErrorAction=t.RevealOutputChannelOn=void 0;const r=n(9496),i=n(273),o=n(71),s=n(8785),a=n(9763),c=n(4904),u=n(1980),l=n(8071),d=n(8909),h=n(2570),f=n(203),p=n(6495),m=n(743),g=n(1435),y=n(6782),v=n(122),b=n(2908),w=n(9959),_=n(2483),S=n(3051),C=n(8480),R=n(9474),T=n(7711),E=n(6426),k=n(6458),D=n(3471),x=n(4849),O=n(5338),P=n(8880),I=n(9889),N=n(328),F=n(5941),L=n(6454),M=n(707),A=n(750),j=n(3603),q=n(5578),H=n(9957),U=n(7606),$=n(3483),B=n(4175),W=n(5098),z=n(6190);var V,K,G,J,Z,Y,Q;!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(V=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(K=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(G=t.CloseAction||(t.CloseAction={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(J=t.State||(t.State={})),(Q=t.SuspendMode||(t.SuspendMode={})).off="off",Q.on="on";class X{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:K.Continue}:{action:K.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:G.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:G.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:G.Restart})}}!function(e){e.Initial="initial",e.Starting="starting",e.StartFailed="startFailed",e.Running="running",e.Stopping="stopping",e.Stopped="stopped"}(Z||(Z={})),(t.MessageTransports||(t.MessageTransports={})).is=function(e){return e&&i.MessageReader.is(e.reader)&&i.MessageWriter.is(e.writer)};class ee{constructor(e,t,n){this._traceFormat=i.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new c.Semaphore(1),this._id=e,this._name=t;const r={isTrusted:!1,supportHtml:!1};void 0!==(n=n||{}).markdown&&(r.isTrusted=!0===n.markdown.isTrusted,r.supportHtml=!0===n.markdown.supportHtml),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??V.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:r,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Z.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new i.Emitter,this._stateChangeEmitter=new i.Emitter,this._trace=i.Trace.Off,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=o.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=s.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=r.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case Z.Starting:return J.Starting;case Z.Running:return J.Running;default:return J.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===Z.StartFailed||this.$state===Z.Stopping||this.$state===Z.Stopped)return Promise.reject(new i.ResponseError(i.ErrorCodes.ConnectionInactive,"Client is not running"));try{const n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${a.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){const n="string"==typeof e?e:e.method;this._requestHandlers.set(n,t);const r=this.activeConnection();let i;return void 0!==r?(this._requestDisposables.set(n,r.onRequest(e,t)),i={dispose:()=>{const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),i={dispose:()=>{this._pendingRequestHandlers.delete(n);const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),i.dispose()}}}async sendNotification(e,t){if(this.$state===Z.StartFailed||this.$state===Z.Stopping||this.$state===Z.Stopped)return Promise.reject(new i.ResponseError(i.ErrorCodes.ConnectionInactive,"Client is not running"));try{const n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${a.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){const n="string"==typeof e?e:e.method;this._notificationHandlers.set(n,t);const r=this.activeConnection();let i;return void 0!==r?(this._notificationDisposables.set(n,r.onNotification(e,t)),i={dispose:()=>{const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),i={dispose:()=>{this._pendingNotificationHandlers.delete(n);const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),i.dispose()}}}async sendProgress(e,t,n){if(this.$state===Z.StartFailed||this.$state===Z.Stopping||this.$state===Z.Stopped)return Promise.reject(new i.ResponseError(i.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(e){throw this.error(`Sending progress for token ${t} failed.`,e),e}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});const r=this.activeConnection();let o;const s=this._clientOptions.middleware?.handleWorkDoneProgress,a=i.WorkDoneProgress.is(e)&&void 0!==s?e=>{s(t,e,(()=>n(e)))}:n;return void 0!==r?(this._progressDisposables.set(t,r.onProgress(e,t,a)),o={dispose:()=>{const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(void 0!==e&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new X(this,e??4)}async setTrace(e){this._trace=e;const t=this.activeConnection();void 0!==t&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof i.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=V.Info&&this.showNotificationMessage(i.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=V.Warn&&this.showNotificationMessage(i.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),("force"===n||n&&this._clientOptions.revealOutputChannelOn<=V.Error)&&this.showNotificationMessage(i.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===i.MessageType.Error?r.window.showErrorMessage:e===i.MessageType.Warning?r.window.showWarningMessage:r.window.showInformationMessage)(t,"Go to output").then((e=>{void 0!==e&&this.outputChannel.show(!0)}))}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===Z.Initial||this.$state===Z.Stopping||this.$state===Z.Stopped}needsStop(){return this.$state===Z.Starting||this.$state===Z.Running}activeConnection(){return this.$state===Z.Running&&void 0!==this._connection?this._connection:void 0}isRunning(){return this.$state===Z.Running}async start(){if("disposing"===this._disposed||"disposed"===this._disposed)throw new Error("Client got disposed and can't be restarted.");if(this.$state===Z.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(void 0!==this._onStart)return this._onStart;const[e,t,n]=this.createOnStartPromise();this._onStart=e,void 0===this._diagnostics&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?r.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):r.languages.createDiagnosticCollection());for(const[e,t]of this._notificationHandlers)this._pendingNotificationHandlers.has(e)||this._pendingNotificationHandlers.set(e,t);for(const[e,t]of this._requestHandlers)this._pendingRequestHandlers.has(e)||this._pendingRequestHandlers.set(e,t);for(const[e,t]of this._progressHandlers)this._pendingProgressHandlers.has(e)||this._pendingProgressHandlers.set(e,t);this.$state=Z.Starting;try{const e=await this.createConnection();e.onNotification(i.LogMessageNotification.type,(e=>{switch(e.type){case i.MessageType.Error:this.error(e.message,void 0,!1);break;case i.MessageType.Warning:this.warn(e.message,void 0,!1);break;case i.MessageType.Info:this.info(e.message,void 0,!1);break;default:this.outputChannel.appendLine(e.message)}})),e.onNotification(i.ShowMessageNotification.type,(e=>{switch(e.type){case i.MessageType.Error:r.window.showErrorMessage(e.message);break;case i.MessageType.Warning:r.window.showWarningMessage(e.message);break;case i.MessageType.Info:default:r.window.showInformationMessage(e.message)}})),e.onRequest(i.ShowMessageRequest.type,(e=>{let t;switch(e.type){case i.MessageType.Error:t=r.window.showErrorMessage;break;case i.MessageType.Warning:t=r.window.showWarningMessage;break;case i.MessageType.Info:default:t=r.window.showInformationMessage}let n=e.actions||[];return t(e.message,...n)})),e.onNotification(i.TelemetryEventNotification.type,(e=>{this._telemetryEmitter.fire(e)})),e.onRequest(i.ShowDocumentRequest.type,(async e=>{const t=async e=>{const t=this.protocol2CodeConverter.asUri(e.uri);try{if(!0===e.external)return{success:await r.env.openExternal(t)};{const n={};return void 0!==e.selection&&(n.selection=this.protocol2CodeConverter.asRange(e.selection)),void 0===e.takeFocus||!1===e.takeFocus?n.preserveFocus=!0:!0===e.takeFocus&&(n.preserveFocus=!1),await r.window.showTextDocument(t,n),{success:!0}}}catch(e){return{success:!1}}},n=this._clientOptions.middleware.window?.showDocument;return void 0!==n?n(e,t):t(e)})),e.listen(),await this.initialize(e),t()}catch(e){this.$state=Z.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,e,"force"),n(e)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise(((n,r)=>{e=n,t=r})),e,t]}async initialize(e){this.refreshTrace(e,!1);const t=this._clientOptions.initializationOptions,[n,o]=void 0!==this._clientOptions.workspaceFolder?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:r.env.appName,version:r.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(r.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(t)?t():t,trace:i.Trace.toString(this._trace),workspaceFolders:o};if(this.fillInitializeParams(s),!this._clientOptions.progressOnInitialization)return this.doInitialize(e,s);{const t=u.generateUuid(),n=new l.ProgressPart(e,t);s.workDoneToken=t;try{const t=await this.doInitialize(e,s);return n.done(),t}catch(e){throw n.cancel(),e}}}async doInitialize(e,t){try{const n=await e.initialize(t);if(void 0!==n.capabilities.positionEncoding&&n.capabilities.positionEncoding!==i.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);let r;this._initializeResult=n,this.$state=Z.Running,a.number(n.capabilities.textDocumentSync)?r=n.capabilities.textDocumentSync===i.TextDocumentSyncKind.None?{openClose:!1,change:i.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==n.capabilities.textDocumentSync&&null!==n.capabilities.textDocumentSync&&(r=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:r}),e.onNotification(i.PublishDiagnosticsNotification.type,(e=>this.handleDiagnostics(e))),e.onRequest(i.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(i.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(i.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e)));for(const[t,n]of this._pendingNotificationHandlers)this._notificationDisposables.set(t,e.onNotification(t,n));this._pendingNotificationHandlers.clear();for(const[t,n]of this._pendingRequestHandlers)this._requestDisposables.set(t,e.onRequest(t,n));this._pendingRequestHandlers.clear();for(const[t,n]of this._pendingProgressHandlers)this._progressDisposables.set(t,e.onProgress(n.type,t,n.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(i.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(t){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):this.stop():t instanceof i.ResponseError&&t.data&&t.data.retry?r.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((t=>{t&&"retry"===t.id?this.initialize(e):this.stop()})):(t&&t.message&&r.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop()),t}}_clientGetRootPath(){let e=r.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===Z.Stopped||this.$state===Z.Initial)return;if(this.$state===Z.Stopping){if(void 0!==this._onStop)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}const n=this.activeConnection();if(void 0===n||this.$state!==Z.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=Z.Stopping,this.cleanUp(e);const r=new Promise((e=>{(0,i.RAL)().timer.setTimeout(e,t)})),o=(async e=>(await e.shutdown(),await e.exit(),e))(n);return this._onStop=Promise.race([r,o]).then((e=>{if(void 0===e)throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");e.end(),e.dispose()}),(e=>{throw this.error("Stopping server failed",e,!1),e})).finally((()=>{this.$state=Z.Stopped,"stop"===e&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()}))}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();const t=this._listeners.splice(0,this._listeners.length);for(const e of t)e.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(const e of Array.from(this._features.entries()).map((e=>e[1])).reverse())e.dispose();"stop"===e&&void 0!==this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){const t=this;async function n(e){return t._fileEvents.push(e),t._fileEventDelayer.trigger((async()=>{const e=await t.$start();await t.forceDocumentSync();const n=e.sendNotification(i.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],n}))}const r=this.clientOptions.middleware?.workspace;(r?.didChangeWatchedFile?r.didChangeWatchedFile(e,n):n(e)).catch((e=>{t.error("Notify file events failed.",e)}))}async forceDocumentSync(){return void 0===this._didChangeTextDocumentFeature&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(i.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;const t=e.uri;"busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,i.RAL)().timer.setImmediate((()=>{this.workDiagnosticQueue()}))}workDiagnosticQueue(){if("busy"===this._diagnosticQueueState.state)return;const e=this._diagnosticQueue.entries().next();if(!0===e.done)return;const[t,n]=e.value;this._diagnosticQueue.delete(t);const i=new r.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then((e=>{if(!i.token.isCancellationRequested){const n=this._p2c.asUri(t),r=this.clientOptions.middleware;r.handleDiagnostics?r.handleDiagnostics(n,e,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(n,e)}})).finally((()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()}))}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===Z.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();const e=this.activeConnection();if(void 0===e)throw new Error("Starting server failed");return e}async createConnection(){const e=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=function(e,t,n,r,o){let s=-1;const c=new te,u=(0,i.createProtocolConnection)(e,t,c,o);return u.onError((e=>{n(e[0],e[1],e[2])})),u.onClose(r),{get lastUsed(){return s},resetLastUsed:()=>{s=-1},listen:()=>u.listen(),sendRequest:(e,...t)=>(s=Date.now(),u.sendRequest(e,...t)),onRequest:(e,t)=>u.onRequest(e,t),hasPendingResponse:()=>u.hasPendingResponse(),sendNotification:(e,t)=>(s=Date.now(),u.sendNotification(e,t)),onNotification:(e,t)=>u.onNotification(e,t),onProgress:u.onProgress,sendProgress:u.sendProgress,trace:(e,t,n)=>{const r={sendNotification:!1,traceFormat:i.TraceFormat.Text};return void 0===n?u.trace(e,t,r):(a.boolean(n),u.trace(e,t,n))},initialize:e=>(s=Date.now(),u.sendRequest(i.InitializeRequest.type,e)),shutdown:()=>(s=Date.now(),u.sendRequest(i.ShutdownRequest.type,void 0)),exit:()=>(s=Date.now(),u.sendNotification(i.ExitNotification.type)),end:()=>u.end(),dispose:()=>u.dispose()}}(e.reader,e.writer,((e,t,n)=>{this.handleConnectionError(e,t,n)}),(()=>{this.handleConnectionClosed()}),this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===Z.Stopped)return;try{void 0!==this._connection&&this._connection.dispose()}catch(e){}let e={action:G.DoNotRestart};if(this.$state!==Z.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connection=void 0,e.action===G.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===Z.Starting?this.$state=Z.StartFailed:this.$state=Z.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===G.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=Z.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch((e=>this.error("Restarting server failed",e,"force"))))}handleConnectionError(e,t,n){const r=this._clientOptions.errorHandler.error(e,t,n);r.action===K.Shutdown&&(this.error(r.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch((e=>{this.error("Stopping server failed",e,!1)})))}hookConfigurationChanged(e){this._listeners.push(r.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)})))}refreshTrace(e,t=!1){const n=r.workspace.getConfiguration(this._id);let o=i.Trace.Off,s=i.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?o=i.Trace.fromString(e):(o=i.Trace.fromString(n.get("trace.server.verbosity","off")),s=i.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=o,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch((e=>{this.error("Updating trace failed with error",e,!1)}))}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n],t&&this._dynamicFeatures.get(i.DidChangeWatchedFilesNotification.type.method).registerRaw(u.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),d.DynamicFeature.is(e)){const t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){const t=this.getFeature(i.NotebookDocumentSyncRegistrationType.method);return void 0!==t&&t instanceof f.NotebookDocumentSyncFeature&&t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new p.ConfigurationFeature(this)),this.registerFeature(new m.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new m.DidChangeTextDocumentFeature(this)),this.registerFeature(new m.WillSaveFeature(this)),this.registerFeature(new m.WillSaveWaitUntilFeature(this)),this.registerFeature(new m.DidSaveTextDocumentFeature(this)),this.registerFeature(new m.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new O.FileSystemWatcherFeature(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new g.CompletionItemFeature(this)),this.registerFeature(new y.HoverFeature(this)),this.registerFeature(new b.SignatureHelpFeature(this)),this.registerFeature(new v.DefinitionFeature(this)),this.registerFeature(new C.ReferencesFeature(this)),this.registerFeature(new w.DocumentHighlightFeature(this)),this.registerFeature(new _.DocumentSymbolFeature(this)),this.registerFeature(new S.WorkspaceSymbolFeature(this)),this.registerFeature(new R.CodeActionFeature(this)),this.registerFeature(new T.CodeLensFeature(this)),this.registerFeature(new E.DocumentFormattingFeature(this)),this.registerFeature(new E.DocumentRangeFormattingFeature(this)),this.registerFeature(new E.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new k.RenameFeature(this)),this.registerFeature(new D.DocumentLinkFeature(this)),this.registerFeature(new x.ExecuteCommandFeature(this)),this.registerFeature(new p.SyncConfigurationFeature(this)),this.registerFeature(new N.TypeDefinitionFeature(this)),this.registerFeature(new I.ImplementationFeature(this)),this.registerFeature(new P.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new F.WorkspaceFoldersFeature(this)),this.registerFeature(new L.FoldingRangeFeature(this)),this.registerFeature(new M.DeclarationFeature(this)),this.registerFeature(new A.SelectionRangeFeature(this)),this.registerFeature(new j.ProgressFeature(this)),this.registerFeature(new q.CallHierarchyFeature(this)),this.registerFeature(new H.SemanticTokensFeature(this)),this.registerFeature(new $.LinkedEditingFeature(this)),this.registerFeature(new U.DidCreateFilesFeature(this)),this.registerFeature(new U.DidRenameFilesFeature(this)),this.registerFeature(new U.DidDeleteFilesFeature(this)),this.registerFeature(new U.WillCreateFilesFeature(this)),this.registerFeature(new U.WillRenameFilesFeature(this)),this.registerFeature(new U.WillDeleteFilesFeature(this)),this.registerFeature(new B.TypeHierarchyFeature(this)),this.registerFeature(new W.InlineValueFeature(this)),this.registerFeature(new z.InlayHintsFeature(this)),this.registerFeature(new h.DiagnosticFeature(this)),this.registerFeature(new f.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(Y.createAll(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){const e={};(0,d.ensure)(e,"workspace").applyEdit=!0;const t=(0,d.ensure)((0,d.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[i.ResourceOperationKind.Create,i.ResourceOperationKind.Rename,i.ResourceOperationKind.Delete],t.failureHandling=i.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};const n=(0,d.ensure)((0,d.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[i.DiagnosticTag.Unnecessary,i.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;const r=(0,d.ensure)(e,"window");(0,d.ensure)(r,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,d.ensure)(r,"showDocument").support=!0;const o=(0,d.ensure)(e,"general");o.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(ee.RequestsToCancelOnContentModified)},o.regularExpressions={engine:"ECMAScript",version:"ES2020"},o.markdown={parser:"marked",version:"1.1.0"},o.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(o.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){const t=this._clientOptions.documentSelector;for(const e of this._features)a.func(e.preInitialize)&&e.preInitialize(this._capabilities,t);for(const e of this._features)e.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(this.isRunning())for(const t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(void 0===e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const n=t.registerOptions??{};n.documentSelector=n.documentSelector??this._clientOptions.documentSelector;const r={id:t.id,registerOptions:n};try{e.register(r)}catch(e){return Promise.reject(e)}}else for(const t of e.registrations)this._ignoredRegistrations.add(t.id)}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;const e=this._dynamicFeatures.get(t.method);if(!e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}}async handleApplyWorkspaceEdit(e){const t=e.edit,n=await this.workspaceEditLock.lock((()=>this._p2c.asWorkspaceEdit(t))),o=new Map;r.workspace.textDocuments.forEach((e=>o.set(e.uri.toString(),e)));let s=!1;if(t.documentChanges)for(const e of t.documentChanges)if(i.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){const t=o.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){s=!0;break}}return s?Promise.resolve({applied:!1}):a.asPromise(r.workspace.applyEdit(n).then((e=>({applied:e}))))}handleFailedRequest(e,t,n,o,s=!0){if(n instanceof i.ResponseError){if(n.code===i.ErrorCodes.PendingResponseRejected||n.code===i.ErrorCodes.ConnectionInactive)return o;if(n.code===i.LSPErrorCodes.RequestCancelled||n.code===i.LSPErrorCodes.ServerCancelled){if(void 0!==t&&t.isCancellationRequested)return o;throw void 0!==n.data?new d.LSPCancellationError(n.data):new r.CancellationError}if(n.code===i.LSPErrorCodes.ContentModified){if(ee.RequestsToCancelOnContentModified.has(e.method))throw new r.CancellationError;return o}}throw this.error(`Request ${e.method} failed.`,n,s),n}}t.BaseLanguageClient=ee,ee.RequestsToCancelOnContentModified=new Set([i.SemanticTokensRequest.method,i.SemanticTokensRangeRequest.method,i.SemanticTokensDeltaRequest.method]);class te{error(e){(0,i.RAL)().console.error(e)}warn(e){(0,i.RAL)().console.warn(e)}info(e){(0,i.RAL)().console.info(e)}log(e){(0,i.RAL)().console.log(e)}}!function(e){e.createAll=function(e){return[]}}(Y=t.ProposedFeatures||(t.ProposedFeatures={}))},9474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionFeature=void 0;const r=n(9496),i=n(273),o=n(1980),s=n(8909);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.CodeActionRequest.type)}fillClientCapabilities(e){const t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[i.CodeActionKind.Empty,i.CodeActionKind.QuickFix,i.CodeActionKind.Refactor,i.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorRewrite,i.CodeActionKind.Source,i.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){const n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideCodeActions:(e,t,n,r)=>{const o=this._client,s=async(e,t,n,r)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:await o.code2ProtocolConverter.asCodeActionContext(n,r)};return o.sendRequest(i.CodeActionRequest.type,s,r).then((e=>r.isCancellationRequested||null==e?null:o.protocol2CodeConverter.asCodeActionResult(e,r)),(e=>o.handleFailedRequest(i.CodeActionRequest.type,r,e,null)))},a=o.middleware;return a.provideCodeActions?a.provideCodeActions(e,t,n,r,s):s(e,t,n,r)},resolveCodeAction:e.resolveProvider?(e,t)=>{const n=this._client,r=this._client.middleware,o=async(e,t)=>n.sendRequest(i.CodeActionResolveRequest.type,await n.code2ProtocolConverter.asCodeAction(e,t),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeAction(r,t)),(r=>n.handleFailedRequest(i.CodeActionResolveRequest.type,t,r,e)));return r.resolveCodeAction?r.resolveCodeAction(e,t,o):o(e,t)}:void 0};return[r.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}}t.CodeActionFeature=a},71:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const r=n(9496),i=n(273),o=n(9763),s=n(4904),a=n(1807),c=n(583),u=n(8705),l=n(6434),d=n(5316),h=n(8714),f=n(1365),p=n(3912),m=n(1065);var g;!function(e){e.is=function(e){const t=e;return t&&!!t.inserting&&!!t.replacing}}(g||(g={})),t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function y(e){return{uri:t(e.uri)}}function v(e){return{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}function b(e){switch(e){case r.TextDocumentSaveReason.Manual:return i.TextDocumentSaveReason.Manual;case r.TextDocumentSaveReason.AfterDelay:return i.TextDocumentSaveReason.AfterDelay;case r.TextDocumentSaveReason.FocusOut:return i.TextDocumentSaveReason.FocusOut}return i.TextDocumentSaveReason.Manual}function w(e){switch(e){case r.CompletionTriggerKind.TriggerCharacter:return i.CompletionTriggerKind.TriggerCharacter;case r.CompletionTriggerKind.TriggerForIncompleteCompletions:return i.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return i.CompletionTriggerKind.Invoked}}function _(e){switch(e){case r.SignatureHelpTriggerKind.Invoke:return i.SignatureHelpTriggerKind.Invoked;case r.SignatureHelpTriggerKind.TriggerCharacter:return i.SignatureHelpTriggerKind.TriggerCharacter;case r.SignatureHelpTriggerKind.ContentChange:return i.SignatureHelpTriggerKind.ContentChange}}function S(e){return{label:e.label}}function C(e){return{label:e.label,parameters:(t=e.parameters,t.map(S))};var t}function R(e){return{line:e.line,character:e.character}}function T(e){return null==e?e:{line:e.line>i.uinteger.MAX_VALUE?i.uinteger.MAX_VALUE:e.line,character:e.character>i.uinteger.MAX_VALUE?i.uinteger.MAX_VALUE:e.character}}function E(e){return null==e?e:{start:T(e.start),end:T(e.end)}}function k(e){return null==e?e:i.Location.create(n(e.uri),E(e.range))}function D(e){switch(e){case r.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}}function x(e){switch(e){case r.DiagnosticTag.Unnecessary:return i.DiagnosticTag.Unnecessary;case r.DiagnosticTag.Deprecated:return i.DiagnosticTag.Deprecated;default:return}}function O(e){return{message:e.message,location:k(e.location)}}function P(e){const t=i.Diagnostic.create(E(e.range),e.message),r=e instanceof d.ProtocolDiagnostic?e:void 0;void 0!==r&&void 0!==r.data&&(t.data=r.data);const s=function(e){if(null!=e)return o.number(e)||o.string(e)?e:{value:e.value,target:n(e.target)}}(e.code);return d.DiagnosticCode.is(s)?void 0!==r&&r.hasDiagnosticCode?t.code=s:(t.code=s.value,t.codeDescription={href:s.target}):t.code=s,o.number(e.severity)&&(t.severity=D(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=x(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(O)),e.source&&(t.source=e.source),t}function I(e,t){return null==e?e:s.map(e,P,t)}function N(e){if(e===r.CompletionItemTag.Deprecated)return i.CompletionItemTag.Deprecated}function F(e){return{range:E(e.range),newText:e.newText}}function L(e){return null==e?e:e.map(F)}function M(e){return e<=r.SymbolKind.TypeParameter?e+1:i.SymbolKind.Property}function A(e){return e}function j(e){return e.map(A)}function q(e){let t=i.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}function H(e){const t=i.InlayHintLabelPart.create(e.value);return void 0!==e.location&&(t.location=k(e.location)),void 0!==e.command&&(t.command=q(e.command)),void 0!==e.tooltip&&(t.tooltip=U(e.tooltip)),t}function U(e){return"string"==typeof e?e:{kind:i.MarkupKind.Markdown,value:e.value}}return{asUri:n,asTextDocumentIdentifier:y,asTextDocumentItem:v,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:v(e)}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map((e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:y(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:y(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:y(e.document),reason:b(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asDidRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asDidDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asWillDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asTextDocumentPositionParams:function(e,t){return{textDocument:y(e),position:R(t)}},asCompletionParams:function(e,t,n){return{textDocument:y(e),position:R(t),context:{triggerKind:w(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asSignatureHelpParams:function(e,t,n){return{textDocument:y(e),position:R(t),context:{isRetrigger:n.isRetrigger,triggerCharacter:n.triggerCharacter,triggerKind:_(n.triggerKind),activeSignatureHelp:(r=n.activeSignatureHelp,void 0===r?r:{signatures:(i=r.signatures,i.map(C)),activeSignature:r.activeSignature,activeParameter:r.activeParameter})}};var r,i},asWorkerPosition:R,asRange:E,asPosition:T,asPositions:function(e,t){return s.map(e,T,t)},asLocation:k,asDiagnosticSeverity:D,asDiagnosticTag:x,asDiagnostic:P,asDiagnostics:I,asCompletionItem:function(e,t=!1){let n,s;o.string(e.label)?n=e.label:(n=e.label.label,!t||void 0===e.label.detail&&void 0===e.label.description||(s={detail:e.label.detail,description:e.label.description}));let c={label:n};void 0!==s&&(c.labelDetails=s);let u=e instanceof a.default?e:void 0;var l,d;e.detail&&(c.detail=e.detail),e.documentation&&(u&&"$string"!==u.documentationFormat?c.documentation=function(e,t){switch(e){case"$string":return t;case i.MarkupKind.PlainText:return{kind:e,value:t};case i.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(u.documentationFormat,e.documentation):c.documentation=e.documentation),e.filterText&&(c.filterText=e.filterText),function(e,t){let n,o,s=i.InsertTextFormat.PlainText;t.textEdit?(n=t.textEdit.newText,o=t.textEdit.range):t.insertText instanceof r.SnippetString?(s=i.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(o=t.range),e.insertTextFormat=s,t.fromEdit&&void 0!==n&&void 0!==o?e.textEdit=function(e,t){return g.is(t)?i.InsertReplaceEdit.create(e,E(t.inserting),E(t.replacing)):{newText:e,range:E(t)}}(n,o):e.insertText=n}(c,e),o.number(e.kind)&&(c.kind=(l=e.kind,void 0!==(d=u&&u.originalItemKind)?d:l+1)),e.sortText&&(c.sortText=e.sortText),e.additionalTextEdits&&(c.additionalTextEdits=L(e.additionalTextEdits)),e.commitCharacters&&(c.commitCharacters=e.commitCharacters.slice()),e.command&&(c.command=q(e.command)),!0!==e.preselect&&!1!==e.preselect||(c.preselect=e.preselect);const h=function(e){if(void 0===e)return e;const t=[];for(let n of e){const e=N(n);void 0!==e&&t.push(e)}return t}(e.tags);if(u){if(void 0!==u.data&&(c.data=u.data),!0===u.deprecated||!1===u.deprecated){if(!0===u.deprecated&&void 0!==h&&h.length>0){const e=h.indexOf(r.CompletionItemTag.Deprecated);-1!==e&&h.splice(e,1)}c.deprecated=u.deprecated}void 0!==u.insertTextMode&&(c.insertTextMode=u.insertTextMode)}return void 0!==h&&h.length>0&&(c.tags=h),void 0===c.insertTextMode&&!0===e.keepWhitespace&&(c.insertTextMode=i.InsertTextMode.adjustIndentation),c},asTextEdit:F,asSymbolKind:M,asSymbolTag:A,asSymbolTags:j,asReferenceParams:function(e,t,n){return{textDocument:y(e),position:R(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeAction:async function(e,t){let n=i.CodeAction.create(e.title);if(e instanceof l.default&&void 0!==e.data&&(n.data=e.data),void 0!==e.kind&&(n.kind=function(e){if(null!=e)return e.value}(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=await I(e.diagnostics,t)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(n.command=q(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n},asCodeActionContext:async function(e,t){if(null==e)return e;let n;return e.only&&o.string(e.only.value)&&(n=[e.only.value]),i.CodeActionContext.create(await I(e.diagnostics,t),n,function(e){switch(e){case r.CodeActionTriggerKind.Invoke:return i.CodeActionTriggerKind.Invoked;case r.CodeActionTriggerKind.Automatic:return i.CodeActionTriggerKind.Automatic;default:return}}(e.triggerKind))},asInlineValueContext:function(e){return null==e?e:i.InlineValueContext.create(e.frameId,E(e.stoppedLocation))},asCommand:q,asCodeLens:function(e){let t=i.CodeLens.create(E(e.range));return e.command&&(t.command=q(e.command)),e instanceof c.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){const n={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(n.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(n.trimFinalNewlines=!0),t.insertFinalNewline&&(n.insertFinalNewline=!0),n},asDocumentSymbolParams:function(e){return{textDocument:y(e)}},asCodeLensParams:function(e){return{textDocument:y(e)}},asDocumentLink:function(e){let t=i.DocumentLink.create(E(e.range));e.target&&(t.target=n(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);let r=e instanceof u.default?e:void 0;return r&&r.data&&(t.data=r.data),t},asDocumentLinkParams:function(e){return{textDocument:y(e)}},asCallHierarchyItem:function(e){const t={name:e.name,kind:M(e.kind),uri:n(e.uri),range:E(e.range),selectionRange:E(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=j(e.tags)),e instanceof h.default&&void 0!==e.data&&(t.data=e.data),t},asTypeHierarchyItem:function(e){const t={name:e.name,kind:M(e.kind),uri:n(e.uri),range:E(e.range),selectionRange:E(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=j(e.tags)),e instanceof f.default&&void 0!==e.data&&(t.data=e.data),t},asInlayHint:function(e){const t="string"==typeof e.label?e.label:e.label.map(H),n=i.InlayHint.create(T(e.position),t);return void 0!==e.kind&&(n.kind=e.kind),void 0!==e.textEdits&&(n.textEdits=L(e.textEdits)),void 0!==e.tooltip&&(n.tooltip=U(e.tooltip)),void 0!==e.paddingLeft&&(n.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(n.paddingRight=e.paddingRight),e instanceof m.default&&void 0!==e.data&&(n.data=e.data),n},asWorkspaceSymbol:function(e){const n=e instanceof p.default?{name:e.name,kind:M(e.kind),location:e.hasRange?k(e.location):{uri:t(e.location.uri)},data:e.data}:{name:e.name,kind:M(e.kind),location:k(e.location)};return void 0!==e.tags&&(n.tags=j(e.tags)),""!==e.containerName&&(n.containerName=e.containerName),n}}}},7711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeLensFeature=void 0;const r=n(9496),i=n(273),o=n(1980),s=n(8909);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.CodeLensRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,s.ensure)((0,s.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.CodeLensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeCodeLensEmitter.fire()}));const n=this.getRegistrationOptions(t,e.codeLensProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeCodeLenses:n.event,provideCodeLenses:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.CodeLensRequest.type,n.code2ProtocolConverter.asCodeLensParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCodeLenses(e,t)),(e=>n.handleFailedRequest(i.CodeLensRequest.type,t,e,null))),o=n.middleware;return o.provideCodeLenses?o.provideCodeLenses(e,t,r):r(e,t)},resolveCodeLens:e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.CodeLensResolveRequest.type,n.code2ProtocolConverter.asCodeLens(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeLens(r)),(r=>n.handleFailedRequest(i.CodeLensResolveRequest.type,t,r,e))),o=n.middleware;return o.resolveCodeLens?o.resolveCodeLens(e,t,r):r(e,t)}:void 0};return[r.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),o),{provider:o,onDidChangeCodeLensEmitter:n}]}}t.CodeLensFeature=a},8880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorProviderFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentColorRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.colorProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideColorPresentations:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={color:e,textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(t.document),range:r.code2ProtocolConverter.asRange(t.range)};return r.sendRequest(i.ColorPresentationRequest.type,o,n).then((e=>n.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(e,n)),(e=>r.handleFailedRequest(i.ColorPresentationRequest.type,n,e,null)))},s=r.middleware;return s.provideColorPresentations?s.provideColorPresentations(e,t,n,o):o(e,t,n)},provideDocumentColors:(e,t)=>{const n=this._client,r=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(i.DocumentColorRequest.type,r,t).then((e=>t.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(e,t)),(e=>n.handleFailedRequest(i.DocumentColorRequest.type,t,e,null)))},o=n.middleware;return o.provideDocumentColors?o.provideDocumentColors(e,t,r):r(e,t)}};return[r.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.ColorProviderFeature=s},1435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionItemFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980),a=[i.CompletionItemKind.Text,i.CompletionItemKind.Method,i.CompletionItemKind.Function,i.CompletionItemKind.Constructor,i.CompletionItemKind.Field,i.CompletionItemKind.Variable,i.CompletionItemKind.Class,i.CompletionItemKind.Interface,i.CompletionItemKind.Module,i.CompletionItemKind.Property,i.CompletionItemKind.Unit,i.CompletionItemKind.Value,i.CompletionItemKind.Enum,i.CompletionItemKind.Keyword,i.CompletionItemKind.Snippet,i.CompletionItemKind.Color,i.CompletionItemKind.File,i.CompletionItemKind.Reference,i.CompletionItemKind.Folder,i.CompletionItemKind.EnumMember,i.CompletionItemKind.Constant,i.CompletionItemKind.Struct,i.CompletionItemKind.Event,i.CompletionItemKind.Operator,i.CompletionItemKind.TypeParameter];class c extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[i.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[i.InsertTextMode.asIs,i.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=i.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:a},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){const n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);const n=e.triggerCharacters??[],o=e.allCommitCharacters,s=e.documentSelector,a={provideCompletionItems:(e,t,n,r)=>{const s=this._client,a=this._client.middleware,c=(e,t,n,r)=>s.sendRequest(i.CompletionRequest.type,s.code2ProtocolConverter.asCompletionParams(e,t,n),r).then((e=>r.isCancellationRequested?null:s.protocol2CodeConverter.asCompletionResult(e,o,r)),(e=>s.handleFailedRequest(i.CompletionRequest.type,r,e,null)));return a.provideCompletionItem?a.provideCompletionItem(e,t,r,n,c):c(e,t,r,n)},resolveCompletionItem:e.resolveProvider?(e,n)=>{const r=this._client,o=this._client.middleware,s=(e,n)=>r.sendRequest(i.CompletionResolveRequest.type,r.code2ProtocolConverter.asCompletionItem(e,!!this.labelDetailsSupport.get(t)),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asCompletionItem(e)),(t=>r.handleFailedRequest(i.CompletionResolveRequest.type,n,t,e)));return o.resolveCompletionItem?o.resolveCompletionItem(e,n,s):s(e,n)}:void 0};return[r.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),a,...n),a]}}t.CompletionItemFeature=c},6495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncConfigurationFeature=t.toJSONObject=t.ConfigurationFeature=void 0;const r=n(9496),i=n(273),o=n(9763),s=n(1980),a=n(8909);function c(e){if(e){if(Array.isArray(e))return e.map(c);if("object"==typeof e){const t=Object.create(null);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=c(e[n]));return t}}return e}t.ConfigurationFeature=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(i.ConfigurationRequest.type,((t,n)=>{let r=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},i=e.middleware.workspace;return i&&i.configuration?i.configuration(t,n,r):r(t)}))}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(-1===i)n=c(r.workspace.getConfiguration(void 0,e).get(t));else{let o=r.workspace.getConfiguration(t.substr(0,i),e);o&&(n=c(o.get(t.substr(i+1))))}}else{let t=r.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=c(t.get(e)))}return void 0===n&&(n=null),n}dispose(){}},t.toJSONObject=c,t.SyncConfigurationFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return i.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,a.ensure)((0,a.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;void 0!==e&&this.register({id:s.generateUuid(),registerOptions:{section:e}})}register(e){let t=r.workspace.onDidChangeConfiguration((t=>{this.onDidChangeConfiguration(e.registerOptions.section,t)}));this._listeners.set(e.id,t),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(const e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(n=o.string(e)?[e]:e,void 0!==n&&void 0!==t&&!n.some((e=>t.affectsConfiguration(e))))return;const r=async e=>void 0===e?this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)});let s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(n,r):r(n)).catch((e=>{this._client.error(`Sending notification ${i.DidChangeConfigurationNotification.type.method} failed`,e)}))}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let r=n[t[e]];r||(r=Object.create(null),n[t[e]]=r),n=r}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),u=null;if(u=a>=0?r.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):r.workspace.getConfiguration(void 0,n).get(s),u){let n=e[o].split(".");t(i,n)[n[n.length-1]]=c(u)}}return i}}},707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DeclarationRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.declarationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDeclaration:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.DeclarationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDeclarationResult(e,n)),(e=>r.handleFailedRequest(i.DeclarationRequest.type,n,e,null))),s=r.middleware;return s.provideDeclaration?s.provideDeclaration(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DeclarationFeature=s},122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefinitionFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDefinition:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.DefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.DefinitionRequest.type,n,e,null))),s=r.middleware;return s.provideDefinition?s.provideDefinition(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DefinitionFeature=a},2570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticFeature=t.DiagnosticPullMode=t.vsdiag=void 0;const r=n(1171),i=n(9496),o=n(273),s=n(1980),a=n(8909);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,d,h;!function(e){let t;!function(e){e.full="full",e.unChanged="unChanged"}(t=e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={}))}(u=t.vsdiag||(t.vsdiag={})),function(e){e.onType="onType",e.onSave="onSave"}(l=t.DiagnosticPullMode||(t.DiagnosticPullMode={})),function(e){e.active="open",e.reschedule="reschedule",e.outDated="drop"}(d||(d={}));class f{constructor(){this.open=new Set,this._onOpen=new i.EventEmitter,this._onClose=new i.EventEmitter,f.fillTabResources(this.open);void 0!==i.window.tabGroups.onDidChangeTabs?this.disposable=i.window.tabGroups.onDidChangeTabs((e=>{if(0===e.closed.length&&0===e.opened.length)return;const t=this.open,n=new Set;f.fillTabResources(n);const r=new Set,o=new Set(n);for(const e of t.values())n.has(e)?o.delete(e):r.add(e);if(this.open=n,r.size>0){const e=new Set;for(const t of r)e.add(i.Uri.parse(t));this._onClose.fire(e)}if(o.size>0){const e=new Set;for(const t of o)e.add(i.Uri.parse(t));this._onOpen.fire(e)}})):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof i.Uri?i.window.activeTextEditor?.document.uri===e:i.window.activeTextEditor?.document===e}isVisible(e){const t=e instanceof i.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){const e=new Set;return f.fillTabResources(new Set,e),e}static fillTabResources(e,t){const n=e??new Set;for(const e of i.window.tabGroups.all)for(const r of e.tabs){const e=r.input;let o;e instanceof i.TabInputText?o=e.uri:e instanceof i.TabInputTextDiff&&(o=e.modified),void 0===o||n.has(o.toString())||(n.add(o.toString()),void 0!==t&&t.add(o))}}}!function(e){e[e.document=1]="document",e[e.workspace=2]="workspace"}(h||(h={}));class p{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){const r=e===h.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof i.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version];let c=r.get(o);return void 0===c&&(c={document:s,pulledVersion:a,resultId:void 0},r.set(o,c)),c}update(e,t,n,r){const o=e===h.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof i.Uri?[t.toString(),t,n,r]:[t.uri.toString(),t.uri,t.version,n];let l=o.get(s);void 0===l?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){const n=t instanceof i.Uri?t.toString():t.uri.toString();(e===h.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){const n=t instanceof i.Uri?t.toString():t.uri.toString();return(e===h.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){const n=t instanceof i.Uri?t.toString():t.uri.toString();return(e===h.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){const e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),void 0!==n.resultId&&e.push({uri:t,value:n.resultId});return e}}class m{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new i.EventEmitter,this.provider=this.createProvider(),this.diagnostics=i.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new p,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;const n=e instanceof i.Uri?e:e.uri;this.pullAsync(e).then((()=>{t&&t()}),(e=>{this.client.error(`Document pull failed for text document ${n.toString()}`,e,!1)}))}async pullAsync(e,t){if(this.isDisposed)return;const n=e instanceof i.Uri,r=n?e:e.uri,s=r.toString();t=n?t:e.version;const c=this.openRequests.get(s),l=n?this.documentStates.track(h.document,e,t):this.documentStates.track(h.document,e);if(void 0===c){const n=new i.CancellationTokenSource;let c,f;this.openRequests.set(s,{state:d.active,document:e,version:t,tokenSource:n});try{c=await this.provider.provideDiagnostics(e,l.resultId,n.token)??{kind:u.DocumentDiagnosticReportKind.full,items:[]}}catch(t){if(t instanceof a.LSPCancellationError&&o.DiagnosticServerCancellationData.is(t.data)&&!1===t.data.retriggerRequest&&(f={state:d.outDated,document:e}),!(void 0===f&&t instanceof i.CancellationError))throw t;f={state:d.reschedule,document:e}}if(f=f??this.openRequests.get(s),void 0===f)return this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),void this.diagnostics.delete(r);if(this.openRequests.delete(s),!this.tabs.isVisible(e))return void this.documentStates.unTrack(h.document,e);if(f.state===d.outDated)return;void 0!==c&&(c.kind===u.DocumentDiagnosticReportKind.full&&this.diagnostics.set(r,c.items),l.pulledVersion=t,l.resultId=c.resultId),f.state===d.reschedule&&this.pull(e)}else c.state===d.active?(c.tokenSource.cancel(),this.openRequests.set(s,{state:d.reschedule,document:c.document})):c.state===d.outDated&&this.openRequests.set(s,{state:d.reschedule,document:c.document})}forgetDocument(e){const t=e instanceof i.Uri?e:e.uri,n=t.toString(),r=this.openRequests.get(n);this.options.workspaceDiagnostics?void 0!==r?this.openRequests.set(n,{state:d.reschedule,document:e}):this.pull(e,(()=>{this.forget(h.document,e)})):(void 0!==r&&(r.state===d.active&&r.tokenSource.cancel(),this.openRequests.set(n,{state:d.outDated,document:e})),this.diagnostics.delete(t),this.forget(h.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then((()=>{this.workspaceTimeout=(0,o.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3)}),(e=>{e instanceof a.LSPCancellationError||o.DiagnosticServerCancellationData.is(e.data)||(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,o.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3))}))}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;void 0!==this.workspaceCancellation&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new i.CancellationTokenSource;const e=this.documentStates.getAllResultIds().map((e=>({uri:this.client.protocol2CodeConverter.asUri(e.uri),value:e.value})));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,(e=>{if(e&&!this.isDisposed)for(const t of e.items)t.kind===u.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(h.document,t.uri)||this.diagnostics.set(t.uri,t.items)),this.documentStates.update(h.workspace,t.uri,t.version??void 0,t.resultId)}))}createProvider(){const e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(e,t,n)=>{const r=(e,t,n)=>{const r={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(e instanceof i.Uri?e:e.uri)},previousResultId:t};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(o.DocumentDiagnosticRequest.type,r,n).then((async e=>null==e||this.isDisposed||n.isCancellationRequested?{kind:u.DocumentDiagnosticReportKind.full,items:[]}:e.kind===o.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,resultId:e.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,n)}:{kind:u.DocumentDiagnosticReportKind.unChanged,resultId:e.resultId}),(e=>this.client.handleFailedRequest(o.DocumentDiagnosticRequest.type,n,e,{kind:u.DocumentDiagnosticReportKind.full,items:[]}))):{kind:u.DocumentDiagnosticReportKind.full,items:[]}},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(e,t,n,r):r(e,t,n)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(e,t,n)=>{const r=async e=>e.kind===o.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,t)}:{kind:u.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version},i=e=>{const t=[];for(const n of e)t.push({uri:this.client.code2ProtocolConverter.asUri(n.uri),value:n.value});return t},a=(e,t)=>{const a=(0,s.generateUuid)(),c=this.client.onProgress(o.WorkspaceDiagnosticRequest.partialResult,a,(async e=>{if(null==e)return void n(null);const t={items:[]};for(const n of e.items)try{t.items.push(await r(n))}catch(e){this.client.error("Converting workspace diagnostics failed.",e)}n(t)})),u={identifier:this.options.identifier,previousResultIds:i(e),partialResultToken:a};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(o.WorkspaceDiagnosticRequest.type,u,t).then((async e=>{if(t.isCancellationRequested)return{items:[]};const i={items:[]};for(const t of e.items)i.items.push(await r(t));return c.dispose(),n(i),{items:[]}}),(e=>(c.dispose(),this.client.handleFailedRequest(o.DocumentDiagnosticRequest.type,t,e,{items:[]})))):{items:[]}},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(e,t,n,a):a(e,t)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(const[e,t]of this.openRequests)t.state===d.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:d.outDated,document:t.document});this.diagnostics.dispose()}}class g{constructor(e){this.diagnosticRequestor=e,this.documents=new o.LinkedMap,this.isDisposed=!1}add(e){if(!0===this.isDisposed)return;const t=e instanceof i.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,o.Touch.Last),this.trigger())}remove(e){const t=e instanceof i.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),0===this.documents.size?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){!0!==this.isDisposed&&(void 0===this.intervalHandle?(this.endDocument=this.documents.last,this.intervalHandle=(0,o.RAL)().timer.setInterval((()=>{const e=this.documents.first;if(void 0!==e){const t=e instanceof i.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,o.Touch.Last),e===this.endDocument&&this.stop()}}),200)):this.endDocument=this.documents.last)}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}}class y{constructor(e,t,n){const s=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},a=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),c=[],u=e=>e instanceof i.Uri?(e=>{const t=n.documentSelector;if(void 0!==s.match)return s.match(t,e);for(const n of t)if(o.TextDocumentFilter.is(n)){if("string"==typeof n)return!1;if(void 0!==n.language&&"*"!==n.language)return!1;if(void 0!==n.scheme&&"*"!==n.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==n.pattern){const t=new r.Minimatch(n.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(e.fsPath))return!1}}return!0})(e):i.languages.match(a,e)>0&&t.isVisible(e),d=e=>e instanceof i.Uri?this.activeTextDocument?.uri.toString()===e.toString():this.activeTextDocument===e;this.diagnosticRequestor=new m(e,t,n),this.backgroundScheduler=new g(this.diagnosticRequestor);const f=e=>{u(e)&&n.interFileDependencies&&!d(e)&&this.backgroundScheduler.add(e)};this.activeTextDocument=i.window.activeTextEditor?.document,i.window.onDidChangeActiveTextEditor((e=>{const t=this.activeTextDocument;this.activeTextDocument=e?.document,void 0!==t&&f(t),void 0!==this.activeTextDocument&&this.backgroundScheduler.remove(this.activeTextDocument)}));const p=e.getFeature(o.DidOpenTextDocumentNotification.method);c.push(p.onNotificationSent((e=>{const t=e.original;u(t)&&this.diagnosticRequestor.pull(t,(()=>{f(t)}))})));const y=new Set;for(const e of i.workspace.textDocuments)u(e)&&(this.diagnosticRequestor.pull(e,(()=>{f(e)})),y.add(e.uri.toString()));if(!0===s.onTabs)for(const e of t.getTabResources())!y.has(e.toString())&&u(e)&&this.diagnosticRequestor.pull(e,(()=>{f(e)}));if(t.onOpen((e=>{for(const t of e)u(t)&&!this.diagnosticRequestor.knows(h.document,t)&&this.diagnosticRequestor.pull(t,(()=>{f(t)}))})),!0===s.onChange){const t=e.getFeature(o.DidChangeTextDocumentNotification.method);c.push(t.onNotificationSent((async e=>{const t=e.original.document;(void 0===s.filter||!s.filter(t,l.onType))&&this.diagnosticRequestor.knows(h.document,t)&&e.original.contentChanges.length>0&&this.diagnosticRequestor.pull(t,(()=>{this.backgroundScheduler.trigger()}))})))}if(!0===s.onSave){const t=e.getFeature(o.DidSaveTextDocumentNotification.method);c.push(t.onNotificationSent((e=>{const t=e.original;void 0!==s.filter&&s.filter(t,l.onSave)||!this.diagnosticRequestor.knows(h.document,t)||this.diagnosticRequestor.pull(e.original,(()=>{this.backgroundScheduler.trigger()}))})))}const v=e.getFeature(o.DidCloseTextDocumentNotification.method);c.push(v.onNotificationSent((e=>{this.cleanUpDocument(e.original)}))),t.onClose((e=>{for(const t of e)this.cleanUpDocument(t)})),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event((()=>{for(const e of i.workspace.textDocuments)u(e)&&this.diagnosticRequestor.pull(e)})),!0===n.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==n.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=i.Disposable.from(...c,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(h.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}}class v extends a.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,c(c(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(o.DiagnosticRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}));let[n,r]=this.getRegistration(t,e.diagnosticProvider);n&&r&&this.register({id:n,registerOptions:r})}dispose(){void 0!==this.tabs&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){void 0===this.tabs&&(this.tabs=new f);const t=new y(this._client,this.tabs,e);return[t.disposable,t]}}t.DiagnosticFeature=v},9959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentHighlightFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentHighlights:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.DocumentHighlightRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDocumentHighlights(e,n)),(e=>r.handleFailedRequest(i.DocumentHighlightRequest.type,n,e,null))),s=r.middleware;return s.provideDocumentHighlights?s.provideDocumentHighlights(e,t,n,o):o(e,t,n)}};return[r.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentHighlightFeature=a},3471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentLinkRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentLinks:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.DocumentLinkRequest.type,n.code2ProtocolConverter.asDocumentLinkParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asDocumentLinks(e,t)),(e=>n.handleFailedRequest(i.DocumentLinkRequest.type,t,e,null))),o=n.middleware;return o.provideDocumentLinks?o.provideDocumentLinks(e,t,r):r(e,t)},resolveDocumentLink:e.resolveProvider?(e,t)=>{const n=this._client;let r=(e,t)=>n.sendRequest(i.DocumentLinkResolveRequest.type,n.code2ProtocolConverter.asDocumentLink(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asDocumentLink(r)),(r=>n.handleFailedRequest(i.DocumentLinkResolveRequest.type,t,r,e)));const o=n.middleware;return o.resolveDocumentLink?o.resolveDocumentLink(e,t,r):r(e,t)}:void 0};return[r.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentLinkFeature=a},2483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSymbolFeature=t.SupportedSymbolTags=t.SupportedSymbolKinds=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);t.SupportedSymbolKinds=[i.SymbolKind.File,i.SymbolKind.Module,i.SymbolKind.Namespace,i.SymbolKind.Package,i.SymbolKind.Class,i.SymbolKind.Method,i.SymbolKind.Property,i.SymbolKind.Field,i.SymbolKind.Constructor,i.SymbolKind.Enum,i.SymbolKind.Interface,i.SymbolKind.Function,i.SymbolKind.Variable,i.SymbolKind.Constant,i.SymbolKind.String,i.SymbolKind.Number,i.SymbolKind.Boolean,i.SymbolKind.Array,i.SymbolKind.Object,i.SymbolKind.Key,i.SymbolKind.Null,i.SymbolKind.EnumMember,i.SymbolKind.Struct,i.SymbolKind.Event,i.SymbolKind.Operator,i.SymbolKind.TypeParameter],t.SupportedSymbolTags=[i.SymbolTag.Deprecated];class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:t.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:t.SupportedSymbolTags},n.labelSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentSymbols:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.DocumentSymbolRequest.type,n.code2ProtocolConverter.asDocumentSymbolParams(e),t).then((async e=>{if(t.isCancellationRequested||null==e)return null;if(0===e.length)return[];{const r=e[0];return i.DocumentSymbol.is(r)?await n.protocol2CodeConverter.asDocumentSymbols(e,t):await n.protocol2CodeConverter.asSymbolInformations(e,t)}}),(e=>n.handleFailedRequest(i.DocumentSymbolRequest.type,t,e,null))),o=n.middleware;return o.provideDocumentSymbols?o.provideDocumentSymbols(e,t,r):r(e,t)}},o=void 0!==e.label?{label:e.label}:void 0;return[r.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,o),n]}}t.DocumentSymbolFeature=a},4849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteCommandFeature=void 0;const r=n(9496),i=n(273),o=n(1980),s=n(8909);t.ExecuteCommandFeature=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return i.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:o.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){const t=this._client,n=t.middleware,o=(e,n)=>{let r={command:e,arguments:n};return t.sendRequest(i.ExecuteCommandRequest.type,r).then(void 0,(e=>t.handleFailedRequest(i.ExecuteCommandRequest.type,void 0,e,void 0)))};if(e.registerOptions.commands){const t=[];for(const i of e.registerOptions.commands)t.push(r.commands.registerCommand(i,((...e)=>n.executeCommand?n.executeCommand(i,e,o):o(i,e))));this._commands.set(e.id,t)}}unregister(e){let t=this._commands.get(e);t&&t.forEach((e=>e.dispose()))}dispose(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}},8909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFeature=t.TextDocumentLanguageFeature=t.TextDocumentEventFeature=t.DynamicDocumentFeature=t.DynamicFeature=t.StaticFeature=t.ensure=t.LSPCancellationError=void 0;const r=n(9496),i=n(273),o=n(9763),s=n(1980);class a extends r.CancellationError{constructor(e){super(),this.data=e}}t.LSPCancellationError=a,t.ensure=function(e,t){return void 0===e[t]&&(e[t]={}),e[t]},(t.StaticFeature||(t.StaticFeature={})).is=function(e){const t=e;return null!=t&&o.func(t.fillClientCapabilities)&&o.func(t.initialize)&&o.func(t.getState)&&o.func(t.dispose)&&(void 0===t.fillInitializeParams||o.func(t.fillInitializeParams))},(t.DynamicFeature||(t.DynamicFeature={})).is=function(e){const t=e;return null!=t&&o.func(t.fillClientCapabilities)&&o.func(t.initialize)&&o.func(t.getState)&&o.func(t.dispose)&&(void 0===t.fillInitializeParams||o.func(t.fillInitializeParams))&&o.func(t.register)&&o.func(t.unregister)&&void 0!==t.registrationType};class c{constructor(e){this._client=e}getState(){const e=this.getDocumentSelectors();let t=0;for(const n of e){t++;for(const e of r.workspace.textDocuments)if(r.languages.match(n,e)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}const n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}}t.DynamicDocumentFeature=c,t.TextDocumentEventFeature=class extends c{constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new r.EventEmitter}static textDocumentFilter(e,t){for(const n of e)if(r.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event((e=>{this.callback(e).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed.`,e)}))}))),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){const t=async e=>{const t=this._createParams(e);await this._client.sendNotification(this._type,t).catch(),this.notificationSent(e,this._type,t)};if(this.matches(e)){const n=this._middleware();return n?n(e,(e=>t(e))):t(e)}}matches(e){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(const t of this._selectors.values())if(r.languages.match(t,e)>0)return{send:e=>this.callback(e)}}},t.TextDocumentLanguageFeature=class extends c{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(const e of this._registrations.values()){const t=e.data.registerOptions.documentSelector;null!==t&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(i.TextDocumentRegistrationOptions.is(t)){const n=i.StaticRegistrationOptions.hasId(t)?t.id:s.generateUuid(),r=t.documentSelector||e;if(r)return[n,Object.assign({},t,{documentSelector:r})]}else if(o.boolean(t)&&!0===t||i.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=o.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[s.generateUuid(),n]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return o.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(const t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(null!==n&&r.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}},t.WorkspaceFeature=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){const e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){const t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}},7606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesFeature=t.WillRenameFilesFeature=t.WillCreateFilesFeature=t.DidDeleteFilesFeature=t.DidRenameFilesFeature=t.DidCreateFilesFeature=void 0;const r=n(9496),i=n(1171),o=n(273),s=n(1980);function a(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function c(e,t,n){e[t]=n}class u{constructor(e,t,n,r,i){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=r,this._serverCapability=i,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){const t=a(a(e,"workspace"),"fileOperations");c(t,"dynamicRegistration",!0),c(t,this._clientCapability,!0)}initialize(e){const t=e.workspace?.fileOperations,n=void 0!==t?t[this._serverCapability]:void 0;if(void 0!==n?.filters)try{this.register({id:s.generateUuid(),registerOptions:{filters:n.filters}})}catch(e){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));const t=e.registerOptions.filters.map((e=>{const t=new i.Minimatch(e.pattern.glob,u.asMinimatchOptions(e.pattern.options));if(!t.makeRe())throw new Error(`Invalid pattern ${e.pattern.glob}!`);return{scheme:e.scheme,matcher:t,kind:e.pattern.matches}}));this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return u.getFileType(e)}async filter(e,t){const n=await Promise.all(e.files.map((async e=>{const n=t(e),i=n.fsPath.replace(/\\/g,"/");for(const e of this._filters.values())for(const t of e)if(void 0===t.scheme||t.scheme===n.scheme)if(t.matcher.match(i)){if(void 0===t.kind)return!0;const e=await this.getFileType(n);if(void 0===e)return this._client.error(`Failed to determine file type for ${n.toString()}.`),!0;if(e===r.FileType.File&&t.kind===o.FileOperationPatternKind.file||e===r.FileType.Directory&&t.kind===o.FileOperationPatternKind.folder)return!0}else if(t.kind===o.FileOperationPatternKind.folder&&await u.getFileType(n)===r.FileType.Directory&&t.matcher.match(`${i}/`))return!0;return!1}))),i=e.files.filter(((e,t)=>n[t]));return{...e,files:i}}static async getFileType(e){try{return(await r.workspace.fs.stat(e)).type}catch(e){return}}static asMinimatchOptions(e){if(void 0!==e)return!0===e.ignoreCase?{nocase:!0}:void 0}}class l extends u{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i),this._notificationType=n,this._accessUri=o,this._createParams=s}async send(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=async e=>this._client.sendNotification(this._notificationType,this._createParams(e));return this.doSend(t,e)}}}class d extends l{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){const t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);const n=await u.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}t.DidCreateFilesFeature=class extends l{constructor(e){super(e,r.workspace.onDidCreateFiles,o.DidCreateFilesNotification.type,"didCreate","didCreate",(e=>e),e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}},t.DidRenameFilesFeature=class extends d{constructor(e){super(e,r.workspace.onDidRenameFiles,o.DidRenameFilesNotification.type,"didRename","didRename",(e=>e.oldUri),e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=r.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,(e=>e.oldUri)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}},t.DidDeleteFilesFeature=class extends d{constructor(e){super(e,r.workspace.onDidDeleteFiles,o.DidDeleteFilesNotification.type,"didDelete","didDelete",(e=>e),e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=r.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,(e=>e)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};class h extends u{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i),this._requestType=n,this._accessUri=o,this._createParams=s}async send(e){const t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=e=>this._client.sendRequest(this._requestType,this._createParams(e),e.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,e)}}}t.WillCreateFilesFeature=class extends h{constructor(e){super(e,r.workspace.onWillCreateFiles,o.WillCreateFilesRequest.type,"willCreate","willCreate",(e=>e),e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}},t.WillRenameFilesFeature=class extends h{constructor(e){super(e,r.workspace.onWillRenameFiles,o.WillRenameFilesRequest.type,"willRename","willRename",(e=>e.oldUri),e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}},t.WillDeleteFilesFeature=class extends h{constructor(e){super(e,r.workspace.onWillDeleteFiles,o.WillDeleteFilesRequest.type,"willDelete","willDelete",(e=>e),e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}}},5338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemWatcherFeature=void 0;const r=n(9496),i=n(273),o=n(8909);t.FileSystemWatcherFeature=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return i.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;const t=[];for(const n of e.registerOptions.watchers){const e=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(void 0===e)continue;let o=!0,s=!0,a=!0;void 0!==n.kind&&null!==n.kind&&(o=0!=(n.kind&i.WatchKind.Create),s=0!=(n.kind&i.WatchKind.Change),a=0!=(n.kind&i.WatchKind.Delete));const c=r.workspace.createFileSystemWatcher(e,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,r,o){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Created})),null,o),n&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Changed})),null,o),r&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Deleted})),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach((e=>{for(let t of e)t.dispose()})),this._watchers.clear()}}},6454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[i.FoldingRangeKind.Comment,i.FoldingRangeKind.Imports,i.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,r]=this.getRegistration(t,e.foldingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideFoldingRanges:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(i.FoldingRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asFoldingRanges(e,n)),(e=>r.handleFailedRequest(i.FoldingRangeRequest.type,n,e,null)))},s=r.middleware;return s.provideFoldingRanges?s.provideFoldingRanges(e,t,n,o):o(e,0,n)}};return[r.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.FoldingRangeFeature=s},6426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentOnTypeFormattingFeature=t.DocumentRangeFormattingFeature=t.DocumentFormattingFeature=void 0;const r=n(9496),i=n(273),o=n(1980),s=n(8909);var a;!function(e){e.fromConfiguration=function(e){const t=r.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}}}(a||(a={}));class c extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentFormattingEdits:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),options:r.code2ProtocolConverter.asFormattingOptions(t,a.fromConfiguration(e))};return r.sendRequest(i.DocumentFormattingRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asTextEdits(e,n)),(e=>r.handleFailedRequest(i.DocumentFormattingRequest.type,n,e,null)))},s=r.middleware;return s.provideDocumentFormattingEdits?s.provideDocumentFormattingEdits(e,t,n,o):o(e,t,n)}};return[r.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentFormattingFeature=c;class u extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),options:o.code2ProtocolConverter.asFormattingOptions(n,a.fromConfiguration(e))};return o.sendRequest(i.DocumentRangeFormattingRequest.type,s,r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asTextEdits(e,r)),(e=>o.handleFailedRequest(i.DocumentRangeFormattingRequest.type,r,e,null)))},c=o.middleware;return c.provideDocumentRangeFormattingEdits?c.provideDocumentRangeFormattingEdits(e,t,n,r,s):s(e,t,n,r)}};return[r.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentRangeFormattingFeature=u;class l extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideOnTypeFormattingEdits:(e,t,n,r,o)=>{const s=this._client,c=(e,t,n,r,o)=>{let c={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),position:s.code2ProtocolConverter.asPosition(t),ch:n,options:s.code2ProtocolConverter.asFormattingOptions(r,a.fromConfiguration(e))};return s.sendRequest(i.DocumentOnTypeFormattingRequest.type,c,o).then((e=>o.isCancellationRequested?null:s.protocol2CodeConverter.asTextEdits(e,o)),(e=>s.handleFailedRequest(i.DocumentOnTypeFormattingRequest.type,o,e,null)))},u=s.middleware;return u.provideOnTypeFormattingEdits?u.provideOnTypeFormattingEdits(e,t,n,r,o,c):c(e,t,n,r,o)}},o=e.moreTriggerCharacter||[];return[r.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...o),n]}}t.DocumentOnTypeFormattingFeature=l},6782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.HoverRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[i.MarkupKind.Markdown,i.MarkupKind.PlainText]}initialize(e,t){const n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideHover:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.HoverRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asHover(e)),(e=>r.handleFailedRequest(i.HoverRequest.type,n,e,null))),s=r.middleware;return s.provideHover?s.provideHover(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.HoverFeature=a},9889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.implementationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideImplementation:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.ImplementationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.ImplementationRequest.type,n,e,null))),s=r.middleware;return s.provideImplementation?s.provideImplementation(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ImplementationFeature=s},6190:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintsFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.InlayHintRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,o.ensure)((0,o.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.InlayHintRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlayHints.fire()}));const[n,r]=this.getRegistration(t,e.inlayHintProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeInlayHints:n.event,provideInlayHints:(e,t,n)=>{const r=this._client,o=async(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};try{const e=await r.sendRequest(i.InlayHintRequest.type,o,n);return n.isCancellationRequested?null:r.protocol2CodeConverter.asInlayHints(e,n)}catch(e){return r.handleFailedRequest(i.InlayHintRequest.type,n,e,null)}},s=r.middleware;return s.provideInlayHints?s.provideInlayHints(e,t,n,o):o(e,t,n)}};return o.resolveInlayHint=!0===e.resolveProvider?(e,t)=>{const n=this._client,r=async(e,t)=>{try{const r=await n.sendRequest(i.InlayHintResolveRequest.type,n.code2ProtocolConverter.asInlayHint(e),t);if(t.isCancellationRequested)return null;const o=n.protocol2CodeConverter.asInlayHint(r,t);return t.isCancellationRequested?null:o}catch(e){return n.handleFailedRequest(i.InlayHintResolveRequest.type,t,e,null)}},o=n.middleware;return o.resolveInlayHint?o.resolveInlayHint(e,t,r):r(e,t)}:void 0,[this.registerProvider(t,o),{provider:o,onDidChangeInlayHints:n}]}registerProvider(e,t){return r.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlayHintsFeature=s},5098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.InlineValueRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.InlineValueRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlineValues.fire()}));const[n,r]=this.getRegistration(t,e.inlineValueProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeInlineValues:n.event,provideInlineValues:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:o.code2ProtocolConverter.asInlineValueContext(n)};return o.sendRequest(i.InlineValueRequest.type,s,r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asInlineValues(e,r)),(e=>o.handleFailedRequest(i.InlineValueRequest.type,r,e,null)))},a=o.middleware;return a.provideInlineValues?a.provideInlineValues(e,t,n,r,s):s(e,t,n,r)}};return[this.registerProvider(t,o),{provider:o,onDidChangeInlineValues:n}]}registerProvider(e,t){return r.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlineValueFeature=s},3483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.linkedEditingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideLinkedEditingRanges:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.LinkedEditingRangeRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asLinkedEditingRanges(e,n)),(e=>r.handleFailedRequest(i.LinkedEditingRangeRequest.type,n,e,null))),s=r.middleware;return s.provideLinkedEditingRange?s.provideLinkedEditingRange(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.LinkedEditingFeature=s},203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDocumentSyncFeature=void 0;const r=n(9496),i=n(1171),o=n(273),s=n(1980),a=n(9763);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,d,h,f;!function(e){let t;!function(t){function n(e,t){return e.map((e=>s(e,t)))}function i(e){return c(new Set,e)}function s(e,t){const n=o.NotebookCell.create(function(e){switch(e){case r.NotebookCellKind.Markup:return o.NotebookCellKind.Markup;case r.NotebookCellKind.Code:return o.NotebookCellKind.Code}}(e.kind),t.asUri(e.document.uri));return Object.keys(e.metadata).length>0&&(n.metadata=i(e.metadata)),void 0!==e.executionSummary&&a.number(e.executionSummary.executionOrder)&&a.boolean(e.executionSummary.success)&&(n.executionSummary={executionOrder:e.executionSummary.executionOrder,success:e.executionSummary.success}),n}function c(e,t){if(e.has(t))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(t)){const n=[];for(const r of t)if(null!==r&&"object"==typeof r||Array.isArray(r))n.push(c(e,r));else{if(r instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");n.push(r)}return n}{const n=Object.keys(t),r=Object.create(null);for(const i of n){const n=t[i];if(null!==n&&"object"==typeof n||Array.isArray(n))r[i]=c(e,n);else{if(n instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");r[i]=n}}return r}}t.asVersionedNotebookDocumentIdentifier=function(e,t){return{version:e.version,uri:t.asUri(e.uri)}},t.asNotebookDocument=function(e,t,r){const s=o.NotebookDocument.create(r.asUri(e.uri),e.notebookType,e.version,n(t,r));return Object.keys(e.metadata).length>0&&(s.metadata=i(e.metadata)),s},t.asNotebookCells=n,t.asMetadata=i,t.asNotebookCell=s,t.asTextContentChange=function(e,t){const n=t.asChangeTextDocumentParams(e);return{document:n.textDocument,changes:n.contentChanges}},t.asNotebookDocumentChangeEvent=function(t,n){const r=Object.create(null);if(t.metadata&&(r.metadata=e.c2p.asMetadata(t.metadata)),void 0!==t.cells){const i=Object.create(null),o=t.cells;o.structure&&(i.structure={array:{start:o.structure.array.start,deleteCount:o.structure.array.deleteCount,cells:void 0!==o.structure.array.cells?o.structure.array.cells.map((t=>e.c2p.asNotebookCell(t,n))):void 0},didOpen:void 0!==o.structure.didOpen?o.structure.didOpen.map((e=>n.asOpenTextDocumentParams(e.document).textDocument)):void 0,didClose:void 0!==o.structure.didClose?o.structure.didClose.map((e=>n.asCloseTextDocumentParams(e.document).textDocument)):void 0}),void 0!==o.data&&(i.data=o.data.map((t=>e.c2p.asNotebookCell(t,n)))),void 0!==o.textContent&&(i.textContent=o.textContent.map((t=>e.c2p.asTextContentChange(t,n)))),Object.keys(i).length>0&&(r.cells=i)}return r}}(t=e.c2p||(e.c2p={}))}(u||(u={})),function(e){function t(e,t,r=!0){return!(e.kind!==t.kind||e.document.uri.toString()!==t.document.uri.toString()||e.document.languageId!==t.document.languageId||!function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.executionOrder===t.executionOrder&&e.success===t.success&&function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.startTime===t.startTime&&e.endTime===t.endTime)}(e.timing,t.timing))}(e.executionSummary,t.executionSummary))&&(!r||r&&n(e.metadata,t.metadata))}function n(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;const i=Array.isArray(e),o=Array.isArray(t);if(i!==o)return!1;if(i&&o){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}if(r(e)&&r(t)){const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(r.sort(),i.sort(),!n(r,i))return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!n(e[o],t[o]))return!1}return!0}return!1}function r(e){return null!==e&&"object"==typeof e}e.computeDiff=function(e,n,r){const i=e.length,o=n.length;let s=0;for(;s<o&&s<i&&t(e[s],n[s],r);)s++;if(s<o&&s<i){let a=i-1,c=o-1;for(;a>=0&&c>=0&&t(e[a],n[c],r);)a--,c--;const u=a+1-s,l=s===c+1?void 0:n.slice(s,c+1);return void 0!==l?{start:s,deleteCount:u,cells:l}:{start:s,deleteCount:u}}return s<o?{start:s,deleteCount:0,cells:n.slice(s)}:s<i?{start:s,deleteCount:i-s}:void 0},e.isObjectLiteral=r}(l||(l={})),function(e){e.matchNotebook=function(e,t){if("string"==typeof e)return"*"===e||t.notebookType===e;if(void 0!==e.notebookType&&"*"!==e.notebookType&&t.notebookType!==e.notebookType)return!1;const n=t.uri;if(void 0!==e.scheme&&"*"!==e.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==e.pattern){const t=new i.Minimatch(e.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(n.fsPath))return!1}return!0}}(d||(d={})),function(e){function t(e,t,n,r){return void 0===t&&void 0===n?{notebook:e,language:r}:{notebook:{notebookType:e,scheme:t,pattern:n},language:r}}e.asDocumentSelector=function(e){const n=e.notebookSelector,r=[];for(const e of n){const n=("string"==typeof e.notebook?e.notebook:e.notebook?.notebookType)??"*",i="string"==typeof e.notebook?void 0:e.notebook?.scheme,o="string"==typeof e.notebook?void 0:e.notebook?.pattern;if(void 0!==e.cells)for(const s of e.cells)r.push(t(n,i,o,s.language));else r.push(t(n,i,o,void 0))}return r}}(h||(h={})),function(e){e.create=function(e){return{cells:e,uris:new Set(e.map((e=>e.document.uri.toString())))}}}(f||(f={}));class p{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(h.asDocumentSelector(t)),r.workspace.onDidOpenNotebookDocument((e=>{this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e)}),void 0,this.disposables);for(const e of r.workspace.notebookDocuments)this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e);r.workspace.onDidChangeNotebookDocument((e=>this.didChangeNotebookDocument(e)),void 0,this.disposables),!0===this.options.save&&r.workspace.onDidSaveNotebookDocument((e=>this.didSave(e)),void 0,this.disposables),r.workspace.onDidCloseNotebookDocument((e=>{this.didClose(e),this.notebookDidOpen.delete(e.uri.toString())}),void 0,this.disposables)}getState(){for(const e of r.workspace.notebookDocuments)if(void 0!==this.getMatchingCells(e))return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return r.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(0===r.languages.match(this.selector,t.document))return;if(!this.notebookDidOpen.has(e.uri.toString()))return;const n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(void 0!==n){const r=n.uris.has(t.document.uri.toString());if(i&&r||!i&&!r)return;if(i){const t=this.getMatchingCells(e);if(void 0!==t){const r=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==r&&this.doSendChange(r,t).catch((()=>{}))}}}else i&&this.doSendOpen(e,[t]).catch((()=>{}))}didChangeNotebookCellTextDocument(e,t){0!==r.languages.match(this.selector,t.document)&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch((()=>{}))}didCloseNotebookCellTextDocument(e,t){const n=this.notebookSyncInfo.get(e.uri.toString());if(void 0===n)return;const r=t.document.uri,i=n.cells.findIndex((e=>e.document.uri.toString()===r.toString()));if(-1!==i)if(0===i&&1===n.cells.length)this.doSendClose(e,n.cells).catch((()=>{}));else{const t=n.cells.slice(),r=t.splice(i,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:i,deleteCount:1},didClose:r}}},t).catch((()=>{}))}}dispose(){for(const e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(void 0!==n)if(void 0!==t){const r=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==r&&this.doSendChange(r,t).catch((()=>{}))}else this.doSendClose(e,[]).catch((()=>{}));else{if(void 0===t)return;this.doSendOpen(e,t).catch((()=>{}))}}didChangeNotebookDocument(e){const t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(void 0===n){if(0===e.contentChanges.length)return;const r=this.getMatchingCells(t);if(void 0===r)return;this.didOpen(t,r,n)}else{const r=this.getMatchingCells(t);if(void 0===r)return void this.didClose(t,n);const i=this.asNotebookDocumentChangeEvent(e.notebook,e,n,r);void 0!==i&&this.doSendChange(i,r).catch((()=>{}))}}didSave(e){void 0!==this.notebookSyncInfo.get(e.uri.toString())&&this.doSendSave(e).catch((()=>{}))}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(void 0===t)return;const n=e.getCells().filter((e=>t.uris.has(e.document.uri.toString())));this.doSendClose(e,n).catch((()=>{}))}async sendDidOpenNotebookDocument(e){const t=this.getMatchingCells(e);if(void 0!==t)return this.doSendOpen(e,t)}async doSendOpen(e,t){const n=async(e,t)=>{const n=u.c2p.asNotebookDocument(e,t,this.client.code2ProtocolConverter),r=t.map((e=>this.client.code2ProtocolConverter.asTextDocumentItem(e.document)));try{await this.client.sendNotification(o.DidOpenNotebookDocumentNotification.type,{notebookDocument:n,cellTextDocuments:r})}catch(e){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),f.create(t)),void 0!==r?.didOpen?r.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){const n=async e=>{try{await this.client.sendNotification(o.DidChangeNotebookDocumentNotification.type,{notebookDocument:u.c2p.asVersionedNotebookDocumentIdentifier(e.notebook,this.client.code2ProtocolConverter),change:u.c2p.asNotebookDocumentChangeEvent(e,this.client.code2ProtocolConverter)})}catch(e){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return void 0!==e.cells?.structure&&this.notebookSyncInfo.set(e.notebook.uri.toString(),f.create(t??[])),void 0!==r?.didChange?r?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){const t=async e=>{try{await this.client.sendNotification(o.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)}})}catch(e){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",e),e}},n=this.client.middleware?.notebooks;return void 0!==n?.didSave?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){const n=async(e,t)=>{try{await this.client.sendNotification(o.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)},cellTextDocuments:t.map((e=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(e.document)))})}catch(e){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),void 0!==r?.didClose?r.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,r){if(void 0!==t&&t.notebook!==e)throw new Error("Notebook must be identical");const i={notebook:e};let o;if(void 0!==t?.metadata&&(i.metadata=u.c2p.asMetadata(t.metadata)),void 0!==t?.cellChanges&&t.cellChanges.length>0){const e=[];o=new Set(r.map((e=>e.document.uri.toString())));for(const n of t.cellChanges)!o.has(n.cell.document.uri.toString())||void 0===n.executionSummary&&void 0===n.metadata||e.push(n.cell);e.length>0&&(i.cells=i.cells??{},i.cells.data=e)}if((void 0!==t?.contentChanges&&t.contentChanges.length>0||void 0===t)&&void 0!==n&&void 0!==r){const e=n.cells,t=r,o=l.computeDiff(e,t,!1);let s,a;if(void 0!==o){s=void 0===o.cells?new Map:new Map(o.cells.map((e=>[e.document.uri.toString(),e]))),a=0===o.deleteCount?new Map:new Map(e.slice(o.start,o.start+o.deleteCount).map((e=>[e.document.uri.toString(),e])));for(const e of Array.from(a.keys()))s.has(e)&&(a.delete(e),s.delete(e));i.cells=i.cells??{};const t=[],n=[];if(s.size>0||a.size>0){for(const e of s.values())t.push(e);for(const e of a.values())n.push(e)}i.cells.structure={array:o,didOpen:t,didClose:n}}}return Object.keys(i).length>1?i:void 0}getMatchingCells(e,t=e.getCells()){if(void 0!==this.options.notebookSelector)for(const n of this.options.notebookSelector)if(void 0===n.notebook||d.matchNotebook(n.notebook,e)){const r=this.filterCells(e,t,n.cells);return 0===r.length?void 0:r}}cellMatches(e,t){const n=this.getMatchingCells(e,[t]);return void 0!==n&&n[0]===t}filterCells(e,t,n){const r=void 0!==n?t.filter((e=>{const t=e.document.languageId;return n.some((e=>"*"===e.language||t===e.language))})):t;return"function"==typeof this.client.clientOptions.notebookDocumentOptions?.filterCells?this.client.clientOptions.notebookDocumentOptions.filterCells(e,r):r}}class m{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=o.NotebookDocumentSyncRegistrationType.type,r.workspace.onDidOpenTextDocument((e=>{if(e.uri.scheme!==m.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof p&&e.didOpenNotebookCellTextDocument(t,n)})),r.workspace.onDidChangeTextDocument((e=>{if(0===e.contentChanges.length)return;const t=e.document;if(t.uri.scheme!==m.CellScheme)return;const[n]=this.findNotebookDocumentAndCell(t);if(void 0!==n)for(const t of this.registrations.values())t instanceof p&&t.didChangeNotebookCellTextDocument(n,e)})),r.workspace.onDidCloseTextDocument((e=>{if(e.uri.scheme!==m.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof p&&e.didCloseNotebookCellTextDocument(t,n)}))}getState(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(const e of this.registrations.values()){const t=e.getState();if("document"===t.kind&&!0===t.registrations&&!0===t.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){const t=c(c(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){const t=e.notebookDocumentSync;void 0!==t&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(h.asDocumentSelector(t)))}initialize(e){const t=e.notebookDocumentSync;if(void 0===t)return;const n=t.id??s.generateUuid();this.register({id:n,registerOptions:t})}register(e){const t=new p(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){const t=this.registrations.get(e);t&&t.dispose()}dispose(){for(const e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==m.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&r.languages.match(this.dedicatedChannel,e)>0)return!0;for(const t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(const t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){const t=e.uri.toString();for(const e of r.workspace.notebookDocuments)for(const n of e.getCells())if(n.document.uri.toString()===t)return[e,n];return[void 0,void 0]}}t.NotebookDocumentSyncFeature=m,m.CellScheme="vscode-notebook-cell"},3603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFeature=void 0;const r=n(273),i=n(8071);t.ProgressFeature=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:r.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){var t,n;(t=e,n="window",void 0===t[n]&&(t[n]=Object.create(null)),t[n]).workDoneProgress=!0}initialize(){const e=this._client,t=e=>{this.activeParts.delete(e)};e.onRequest(r.WorkDoneProgressCreateRequest.type,(e=>{this.activeParts.add(new i.ProgressPart(this._client,e.token,t))}))}dispose(){for(const e of this.activeParts)e.done();this.activeParts.clear()}}},8071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPart=void 0;const r=n(9496),i=n(273),o=n(9763);t.ProgressPart=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(i.WorkDoneProgress.type,this._token,(e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"end":this.done(),n&&n(this)}}))}begin(e){this._infinite=void 0===e.percentage,void 0!==this._lspProgressDisposable&&r.window.withProgress({location:r.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},(async(t,n)=>{if(void 0!==this._lspProgressDisposable)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested((()=>{this._client.sendNotification(i.WorkDoneProgressCancelNotification.type,{token:this._token})})),this.report(e),new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}))}report(e){if(this._infinite&&o.string(e.message))void 0!==this._progress&&this._progress.report({message:e.message});else if(o.number(e.percentage)){const t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,void 0!==this._progress&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}},8714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.CallHierarchyItem{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,o),void 0!==s&&(this.data=s)}}t.default=i},6434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.CodeAction{constructor(e,t){super(e),this.data=t}}t.default=i},583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.CodeLens{constructor(e){super(e)}}t.default=i},1807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.CompletionItem{constructor(e){super(e)}}t.default=i},8785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const r=n(9496),i=n(273),o=n(9763),s=n(4904),a=n(1807),c=n(583),u=n(8705),l=n(6434),d=n(5316),h=n(8714),f=n(1365),p=n(3912),m=n(1065),g=n(273);var y;!function(e){e.is=function(e){let t=e;return t&&o.string(t.language)&&o.string(t.value)}}(y||(y={})),t.createConverter=function(e,t,n){const v=e||(e=>r.Uri.parse(e));function b(e){return v(e)}function w(e){let t=new d.ProtocolDiagnostic(C(e.range),e.message,T(e.severity),e.data);if(void 0!==e.code)if("string"==typeof e.code||"number"==typeof e.code)i.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:b(e.codeDescription.href)}:t.code=e.code;else if(d.DiagnosticCode.is(e.code)){t.hasDiagnosticCode=!0;const n=e.code;t.code={value:n.value,target:b(n.target)}}return e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++){const i=e[n];t[n]=new r.DiagnosticRelatedInformation(A(i.location),i.message)}return t}(e.relatedInformation)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=_(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function _(e){switch(e){case i.DiagnosticTag.Unnecessary:return r.DiagnosticTag.Unnecessary;case i.DiagnosticTag.Deprecated:return r.DiagnosticTag.Deprecated;default:return}}function S(e){return e?new r.Position(e.line,e.character):void 0}function C(e){return e?new r.Range(e.start.line,e.start.character,e.end.line,e.end.character):void 0}async function R(e,t){return s.map(e,(e=>new r.Range(e.start.line,e.start.character,e.end.line,e.end.character)),t)}function T(e){if(null==e)return r.DiagnosticSeverity.Error;switch(e){case i.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}return r.DiagnosticSeverity.Error}function E(e){if(o.string(e))return e;switch(e.kind){case i.MarkupKind.Markdown:return k(e.value);case i.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function k(e){let o;if(void 0===e||"string"==typeof e)o=new r.MarkdownString(e);else switch(e.kind){case i.MarkupKind.Markdown:o=new r.MarkdownString(e.value);break;case i.MarkupKind.PlainText:o=new r.MarkdownString,o.appendText(e.value);break;default:o=new r.MarkdownString,o.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`)}return o.isTrusted=t,o.supportHtml=n,o}function D(e){if(e===i.CompletionItemTag.Deprecated)return r.CompletionItemTag.Deprecated}function x(e,t,n,s,c,u){const l=function(e){if(null==e)return[];const t=[];for(const n of e){const e=D(n);void 0!==e&&t.push(e)}return t}(e.tags),d=function(e){return i.CompletionItemLabelDetails.is(e.labelDetails)?{label:e.label,detail:e.labelDetails.detail,description:e.labelDetails.description}:e.label}(e),h=new a.default(d);e.detail&&(h.detail=e.detail),e.documentation&&(h.documentation=E(e.documentation),h.documentationFormat=o.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(h.filterText=e.filterText);const f=function(e,t,n){const o=e.insertTextFormat??n;if(void 0!==e.textEdit||void 0!==t){const[n,a]=void 0!==e.textEdit?(s=e.textEdit,i.InsertReplaceEdit.is(s)?[{inserting:C(s.insert),replacing:C(s.replace)},s.newText]:[C(s.range),s.newText]):[t,e.textEditText??e.label];return o===i.InsertTextFormat.Snippet?{text:new r.SnippetString(a),range:n,fromEdit:!0}:{text:a,range:n,fromEdit:!0}}return e.insertText?o===i.InsertTextFormat.Snippet?{text:new r.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0;var s}(e,n,c);if(f&&(h.insertText=f.text,h.range=f.range,h.fromEdit=f.fromEdit),o.number(e.kind)){let[t,n]=(p=e.kind,i.CompletionItemKind.Text<=p&&p<=i.CompletionItemKind.TypeParameter?[p-1,void 0]:[r.CompletionItemKind.Text,p]);h.kind=t,n&&(h.originalItemKind=n)}var p;e.sortText&&(h.sortText=e.sortText),e.additionalTextEdits&&(h.additionalTextEdits=I(e.additionalTextEdits));const m=void 0!==e.commitCharacters?o.stringArray(e.commitCharacters)?e.commitCharacters:void 0:t;m&&(h.commitCharacters=m.slice()),e.command&&(h.command=G(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(h.deprecated=e.deprecated,!0===e.deprecated&&l.push(r.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(h.preselect=e.preselect);const g=e.data??u;void 0!==g&&(h.data=g),l.length>0&&(h.tags=l);const y=e.insertTextMode??s;return void 0!==y&&(h.insertTextMode=y,y===i.InsertTextMode.asIs&&(h.keepWhitespace=!0)),h}function O(e){if(e)return new r.TextEdit(C(e.range),e.newText)}async function P(e,t){if(e)return s.map(e,O,t)}function I(e){if(!e)return;const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=O(e[n]);return t}async function N(e,t){return s.mapAsync(e,F,t)}async function F(e,t){let n=new r.SignatureInformation(e.label);return void 0!==e.documentation&&(n.documentation=E(e.documentation)),void 0!==e.parameters&&(n.parameters=await L(e.parameters,t)),void 0!==e.activeParameter&&(n.activeParameter=e.activeParameter),n}function L(e,t){return s.map(e,M,t)}function M(e){let t=new r.ParameterInformation(e.label);return e.documentation&&(t.documentation=E(e.documentation)),t}function A(e){return e?new r.Location(v(e.uri),C(e.range)):void 0}function j(e){if(!e)return;let t={targetUri:v(e.targetUri),targetRange:C(e.targetRange),originSelectionRange:C(e.originSelectionRange),targetSelectionRange:C(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}async function q(e,t){if(e){if(o.array(e)){if(0===e.length)return[];if(i.LocationLink.is(e[0])){const n=e;return s.map(n,j,t)}{const n=e;return s.map(n,A,t)}}return i.LocationLink.is(e)?[j(e)]:A(e)}}function H(e){let t=new r.DocumentHighlight(C(e.range));return o.number(e.kind)&&(t.kind=U(e.kind)),t}function U(e){switch(e){case i.DocumentHighlightKind.Text:return r.DocumentHighlightKind.Text;case i.DocumentHighlightKind.Read:return r.DocumentHighlightKind.Read;case i.DocumentHighlightKind.Write:return r.DocumentHighlightKind.Write}return r.DocumentHighlightKind.Text}function $(e){return e<=i.SymbolKind.TypeParameter?e-1:r.SymbolKind.Property}function B(e){if(e===i.SymbolTag.Deprecated)return r.SymbolTag.Deprecated}function W(e){if(null==e)return;const t=[];for(const n of e){const e=B(n);void 0!==e&&t.push(e)}return 0===t.length?void 0:t}function z(e){const t=e.data,n=e.location,i=void 0===n.range||void 0!==t?new p.default(e.name,$(e.kind),e.containerName??"",void 0===n.range?v(n.uri):new r.Location(v(e.location.uri),C(n.range)),t):new r.SymbolInformation(e.name,$(e.kind),e.containerName??"",new r.Location(v(e.location.uri),C(n.range)));return K(i,e),i}function V(e){let t=new r.DocumentSymbol(e.name,e.detail||"",$(e.kind),C(e.range),C(e.selectionRange));if(K(t,e),void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(V(t));t.children=n}return t}function K(e,t){e.tags=W(t.tags),t.deprecated&&(e.tags?e.tags.includes(r.SymbolTag.Deprecated)||(e.tags=e.tags.concat(r.SymbolTag.Deprecated)):e.tags=[r.SymbolTag.Deprecated])}function G(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const J=new Map;function Z(e){if(null==e)return;let t=J.get(e);if(t)return t;let n=e.split(".");t=r.CodeActionKind.Empty;for(let e of n)t=t.append(e);return t}async function Y(e,t){if(null==e)return;let n=new l.default(e.title,e.data);return void 0!==e.kind&&(n.kind=Z(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=w(e[n]);return t}(e.diagnostics)),void 0!==e.edit&&(n.edit=await X(e.edit,t)),void 0!==e.command&&(n.command=G(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n}function Q(e){if(!e)return;let t=new c.default(C(e.range));return e.command&&(t.command=G(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}async function X(e,t){if(!e)return;const n=new Map;if(void 0!==e.changeAnnotations){const r=e.changeAnnotations;await s.forEach(Object.keys(r),(e=>{const t=function(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}(r[e]);n.set(e,t)}),t)}const o=e=>void 0===e?void 0:n.get(e),a=new r.WorkspaceEdit;if(e.documentChanges){const n=e.documentChanges;await s.forEach(n,(e=>{if(i.CreateFile.is(e))a.createFile(v(e.uri),e.options,o(e.annotationId));else if(i.RenameFile.is(e))a.renameFile(v(e.oldUri),v(e.newUri),e.options,o(e.annotationId));else if(i.DeleteFile.is(e))a.deleteFile(v(e.uri),e.options,o(e.annotationId));else{if(!i.TextDocumentEdit.is(e))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`);{const t=v(e.textDocument.uri);for(const n of e.edits)i.AnnotatedTextEdit.is(n)?a.replace(t,C(n.range),n.newText,o(n.annotationId)):a.replace(t,C(n.range),n.newText)}}}),t)}else if(e.changes){const n=e.changes;await s.forEach(Object.keys(n),(e=>{a.set(v(e),I(n[e]))}),t)}return a}function ee(e){let t=C(e.range),n=e.target?b(e.target):void 0,r=new u.default(t,n);return void 0!==e.tooltip&&(r.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(r.data=e.data),r}function te(e){return new r.Color(e.red,e.green,e.blue,e.alpha)}function ne(e){return new r.ColorInformation(C(e.range),te(e.color))}function re(e){let t=new r.ColorPresentation(e.label);return t.additionalTextEdits=I(e.additionalTextEdits),e.textEdit&&(t.textEdit=O(e.textEdit)),t}function ie(e){if(e)switch(e){case i.FoldingRangeKind.Comment:return r.FoldingRangeKind.Comment;case i.FoldingRangeKind.Imports:return r.FoldingRangeKind.Imports;case i.FoldingRangeKind.Region:return r.FoldingRangeKind.Region}}function oe(e){return new r.FoldingRange(e.startLine,e.endLine,ie(e.kind))}function se(e){return new r.SelectionRange(C(e.range),e.parent?se(e.parent):void 0)}function ae(e){return i.InlineValueText.is(e)?new r.InlineValueText(C(e.range),e.text):i.InlineValueVariableLookup.is(e)?new r.InlineValueVariableLookup(C(e.range),e.variableName,e.caseSensitiveLookup):new r.InlineValueEvaluatableExpression(C(e.range),e.expression)}async function ce(e,t){const n="string"==typeof e.label?e.label:await s.map(e.label,ue,t),r=new m.default(S(e.position),n);return void 0!==e.kind&&(r.kind=e.kind),void 0!==e.textEdits&&(r.textEdits=await P(e.textEdits,t)),void 0!==e.tooltip&&(r.tooltip=le(e.tooltip)),void 0!==e.paddingLeft&&(r.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(r.paddingRight=e.paddingRight),void 0!==e.data&&(r.data=e.data),r}function ue(e){const t=new r.InlayHintLabelPart(e.value);return void 0!==e.location&&(t.location=A(e.location)),void 0!==e.tooltip&&(t.tooltip=le(e.tooltip)),void 0!==e.command&&(t.command=G(e.command)),t}function le(e){return"string"==typeof e?e:k(e)}function de(e){if(null===e)return;const t=new h.default($(e.kind),e.name,e.detail||"",b(e.uri),C(e.range),C(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=W(e.tags)),t}async function he(e,t){return new r.CallHierarchyIncomingCall(de(e.from),await R(e.fromRanges,t))}async function fe(e,t){return new r.CallHierarchyOutgoingCall(de(e.to),await R(e.fromRanges,t))}function pe(e){return new r.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}function me(e){if(null===e)return;let t=new f.default($(e.kind),e.name,e.detail||"",b(e.uri),C(e.range),C(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=W(e.tags)),t}return J.set(i.CodeActionKind.Empty,r.CodeActionKind.Empty),J.set(i.CodeActionKind.QuickFix,r.CodeActionKind.QuickFix),J.set(i.CodeActionKind.Refactor,r.CodeActionKind.Refactor),J.set(i.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorExtract),J.set(i.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorInline),J.set(i.CodeActionKind.RefactorRewrite,r.CodeActionKind.RefactorRewrite),J.set(i.CodeActionKind.Source,r.CodeActionKind.Source),J.set(i.CodeActionKind.SourceOrganizeImports,r.CodeActionKind.SourceOrganizeImports),{asUri:b,asDocumentSelector:function(e){const t=[];for(const n of e)if("string"==typeof n)t.push(n);else if(g.NotebookCellTextDocumentFilter.is(n))if("string"==typeof n.notebook)t.push({notebookType:n.notebook,language:n.language});else{const e=n.notebook.notebookType??"*";t.push({notebookType:e,scheme:n.notebook.scheme,pattern:n.notebook.pattern,language:n.language})}else g.TextDocumentFilter.is(n)&&t.push({language:n.language,scheme:n.scheme,pattern:n.pattern});return t},asDiagnostics:async function(e,t){return s.map(e,w,t)},asDiagnostic:w,asRange:C,asRanges:R,asPosition:S,asDiagnosticSeverity:T,asDiagnosticTag:_,asHover:function(e){if(e)return new r.Hover(function(e){if(o.string(e))return k(e);if(y.is(e))return k().appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=k();y.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}return k(e)}(e.contents),C(e.range))},asCompletionResult:async function(e,t,n){if(!e)return;if(Array.isArray(e))return s.map(e,(e=>x(e,t)),n);const o=e,{defaultRange:a,commitCharacters:c}=function(e,t){const n=e.itemDefaults?.editRange,r=e.itemDefaults?.commitCharacters??t;return i.Range.is(n)?{defaultRange:C(n),commitCharacters:r}:void 0!==n?{defaultRange:{inserting:C(n.insert),replacing:C(n.replace)},commitCharacters:r}:{defaultRange:void 0,commitCharacters:r}}(o,t),u=await s.map(o.items,(e=>x(e,c,a,o.itemDefaults?.insertTextMode,o.itemDefaults?.insertTextFormat,o.itemDefaults?.data)),n);return new r.CompletionList(u,o.isIncomplete)},asCompletionItem:x,asTextEdit:O,asTextEdits:P,asSignatureHelp:async function(e,t){if(!e)return;let n=new r.SignatureHelp;return o.number(e.activeSignature)?n.activeSignature=e.activeSignature:n.activeSignature=0,o.number(e.activeParameter)?n.activeParameter=e.activeParameter:n.activeParameter=0,e.signatures&&(n.signatures=await N(e.signatures,t)),n},asSignatureInformations:N,asSignatureInformation:F,asParameterInformations:L,asParameterInformation:M,asDeclarationResult:async function(e,t){if(e)return q(e,t)},asDefinitionResult:async function(e,t){if(e)return q(e,t)},asLocation:A,asReferences:async function(e,t){if(e)return s.map(e,A,t)},asDocumentHighlights:async function(e,t){if(e)return s.map(e,H,t)},asDocumentHighlight:H,asDocumentHighlightKind:U,asSymbolKind:$,asSymbolTag:B,asSymbolTags:W,asSymbolInformations:async function(e,t){if(e)return s.map(e,z,t)},asSymbolInformation:z,asDocumentSymbols:async function(e,t){if(null!=e)return s.map(e,V,t)},asDocumentSymbol:V,asCommand:G,asCommands:async function(e,t){if(e)return s.map(e,G,t)},asCodeAction:Y,asCodeActionKind:Z,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>Z(e)))},asCodeActionResult:function(e,t){return s.mapAsync(e,(async e=>i.Command.is(e)?G(e):Y(e,t)),t)},asCodeLens:Q,asCodeLenses:async function(e,t){if(e)return s.map(e,Q,t)},asWorkspaceEdit:X,asDocumentLink:ee,asDocumentLinks:async function(e,t){if(e)return s.map(e,ee,t)},asFoldingRangeKind:ie,asFoldingRange:oe,asFoldingRanges:async function(e,t){if(e)return s.map(e,oe,t)},asColor:te,asColorInformation:ne,asColorInformations:async function(e,t){if(e)return s.map(e,ne,t)},asColorPresentation:re,asColorPresentations:async function(e,t){if(e)return s.map(e,re,t)},asSelectionRange:se,asSelectionRanges:async function(e,t){return Array.isArray(e)?s.map(e,se,t):[]},asInlineValue:ae,asInlineValues:async function(e,t){return Array.isArray(e)?s.map(e,ae,t):[]},asInlayHint:ce,asInlayHints:async function(e,t){if(Array.isArray(e))return s.mapAsync(e,ce,t)},asSemanticTokensLegend:function(e){return e},asSemanticTokens:async function(e,t){if(null!=e)return new r.SemanticTokens(new Uint32Array(e.data),e.resultId)},asSemanticTokensEdit:pe,asSemanticTokensEdits:async function(e,t){if(null!=e)return new r.SemanticTokensEdits(e.edits.map(pe),e.resultId)},asCallHierarchyItem:de,asCallHierarchyItems:async function(e,t){if(null!==e)return s.map(e,de,t)},asCallHierarchyIncomingCall:he,asCallHierarchyIncomingCalls:async function(e,t){if(null!==e)return s.mapAsync(e,he,t)},asCallHierarchyOutgoingCall:fe,asCallHierarchyOutgoingCalls:async function(e,t){if(null!==e)return s.mapAsync(e,fe,t)},asLinkedEditingRanges:async function(e,t){if(null!=e)return new r.LinkedEditingRanges(await R(e.ranges,t),function(e){if(null!=e)return new RegExp(e)}(e.wordPattern))},asTypeHierarchyItem:me,asTypeHierarchyItems:async function(e,t){if(null!==e)return s.map(e,me,t)},asGlobPattern:function(e){if(o.string(e))return e;if(i.RelativePattern.is(e)){if(i.URI.is(e.baseUri))return new r.RelativePattern(b(e.baseUri),e.pattern);if(i.WorkspaceFolder.is(e.baseUri)){const t=r.workspace.getWorkspaceFolder(b(e.baseUri.uri));return void 0!==t?new r.RelativePattern(t,e.pattern):void 0}}}}}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolDiagnostic=t.DiagnosticCode=void 0;const r=n(9496),i=n(9763);(t.DiagnosticCode||(t.DiagnosticCode={})).is=function(e){const t=e;return null!=t&&(i.number(t.value)||i.string(t.value))&&i.string(t.target)};class o extends r.Diagnostic{constructor(e,t,n,r){super(e,t,n),this.data=r,this.hasDiagnosticCode=!1}}t.ProtocolDiagnostic=o},8705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.DocumentLink{constructor(e,t){super(e,t)}}t.default=i},1065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.InlayHint{constructor(e,t,n){super(e,t,n)}}t.default=i},1365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.TypeHierarchyItem{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,o),void 0!==s&&(this.data=s)}}t.default=i},3912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.SymbolInformation{constructor(e,t,n,i,o){const s=!(i instanceof r.Uri);super(e,t,n,s?i:new r.Location(i,new r.Range(0,0,0,0))),this.hasRange=s,void 0!==o&&(this.data=o)}}t.default=i},8480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferencesFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.ReferencesRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideReferences:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>o.sendRequest(i.ReferencesRequest.type,o.code2ProtocolConverter.asReferenceParams(e,t,n),r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asReferences(e,r)),(e=>o.handleFailedRequest(i.ReferencesRequest.type,r,e,null))),a=o.middleware;return a.provideReferences?a.provideReferences(e,t,n,r,s):s(e,t,n,r)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ReferencesFeature=a},6458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenameFeature=void 0;const r=n(9496),i=n(273),o=n(1980),s=n(9763),a=n(8909);class c extends a.TextDocumentLanguageFeature{constructor(e){super(e,i.RenameRequest.type)}fillClientCapabilities(e){let t=(0,a.ensure)((0,a.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=i.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.renameProvider);n&&(s.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:o.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){const t=e.documentSelector,n={provideRenameEdits:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>{let s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),position:o.code2ProtocolConverter.asPosition(t),newName:n};return o.sendRequest(i.RenameRequest.type,s,r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asWorkspaceEdit(e,r)),(e=>o.handleFailedRequest(i.RenameRequest.type,r,e,null,!1)))},a=o.middleware;return a.provideRenameEdits?a.provideRenameEdits(e,t,n,r,s):s(e,t,n,r)},prepareRename:e.prepareProvider?(e,t,n)=>{const r=this._client,o=(e,t,n)=>{let o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),position:r.code2ProtocolConverter.asPosition(t)};return r.sendRequest(i.PrepareRenameRequest.type,o,n).then((e=>n.isCancellationRequested?null:i.Range.is(e)?r.protocol2CodeConverter.asRange(e):this.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&i.Range.is(e.range)?{range:r.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed."))),(e=>{throw"string"==typeof e.message?new Error(e.message):new Error("The element can't be renamed.")}))},s=r.middleware;return s.prepareRename?s.prepareRename(e,t,n,o):o(e,t,n)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){const t=e;return t&&s.boolean(t.defaultBehavior)}}t.RenameFeature=c},750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.SelectionRangeRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.selectionRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideSelectionRanges:(e,t,n)=>{const r=this._client,o=async(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),positions:await r.code2ProtocolConverter.asPositions(t,n)};return r.sendRequest(i.SelectionRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asSelectionRanges(e,n)),(e=>r.handleFailedRequest(i.SelectionRangeRequest.type,n,e,null)))},s=r.middleware;return s.provideSelectionRanges?s.provideSelectionRanges(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.SelectionRangeFeature=s},9957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(9763);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[i.SemanticTokenTypes.namespace,i.SemanticTokenTypes.type,i.SemanticTokenTypes.class,i.SemanticTokenTypes.enum,i.SemanticTokenTypes.interface,i.SemanticTokenTypes.struct,i.SemanticTokenTypes.typeParameter,i.SemanticTokenTypes.parameter,i.SemanticTokenTypes.variable,i.SemanticTokenTypes.property,i.SemanticTokenTypes.enumMember,i.SemanticTokenTypes.event,i.SemanticTokenTypes.function,i.SemanticTokenTypes.method,i.SemanticTokenTypes.macro,i.SemanticTokenTypes.keyword,i.SemanticTokenTypes.modifier,i.SemanticTokenTypes.comment,i.SemanticTokenTypes.string,i.SemanticTokenTypes.number,i.SemanticTokenTypes.regexp,i.SemanticTokenTypes.operator,i.SemanticTokenTypes.decorator],t.tokenModifiers=[i.SemanticTokenModifiers.declaration,i.SemanticTokenModifiers.definition,i.SemanticTokenModifiers.readonly,i.SemanticTokenModifiers.static,i.SemanticTokenModifiers.deprecated,i.SemanticTokenModifiers.abstract,i.SemanticTokenModifiers.async,i.SemanticTokenModifiers.modification,i.SemanticTokenModifiers.documentation,i.SemanticTokenModifiers.defaultLibrary],t.formats=[i.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.SemanticTokensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeSemanticTokensEmitter.fire()}));const[n,r]=this.getRegistration(t,e.semanticTokensProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=s.boolean(e.full)?e.full:void 0!==e.full,o=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,a=new r.EventEmitter,c=n?{onDidChangeSemanticTokens:a.event,provideDocumentSemanticTokens:(e,t)=>{const n=this._client,r=n.middleware,o=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(i.SemanticTokensRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSemanticTokens(e,t)),(e=>n.handleFailedRequest(i.SemanticTokensRequest.type,t,e,null)))};return r.provideDocumentSemanticTokens?r.provideDocumentSemanticTokens(e,t,o):o(e,t)},provideDocumentSemanticTokensEdits:o?(e,t,n)=>{const r=this._client,o=r.middleware,s=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return r.sendRequest(i.SemanticTokensDeltaRequest.type,o,n).then((async e=>n.isCancellationRequested?null:i.SemanticTokens.is(e)?await r.protocol2CodeConverter.asSemanticTokens(e,n):await r.protocol2CodeConverter.asSemanticTokensEdits(e,n)),(e=>r.handleFailedRequest(i.SemanticTokensDeltaRequest.type,n,e,null)))};return o.provideDocumentSemanticTokensEdits?o.provideDocumentSemanticTokensEdits(e,t,n,s):s(e,t,n)}:void 0}:void 0,u=!0===e.range?{provideDocumentRangeSemanticTokens:(e,t,n)=>{const r=this._client,o=r.middleware,s=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};return r.sendRequest(i.SemanticTokensRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asSemanticTokens(e,n)),(e=>r.handleFailedRequest(i.SemanticTokensRangeRequest.type,n,e,null)))};return o.provideDocumentRangeSemanticTokens?o.provideDocumentRangeSemanticTokens(e,t,n,s):s(e,t,n)}}:void 0,l=[],d=this._client,h=d.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=d.protocol2CodeConverter.asDocumentSelector(t);return void 0!==c&&l.push(r.languages.registerDocumentSemanticTokensProvider(f,c,h)),void 0!==u&&l.push(r.languages.registerDocumentRangeSemanticTokensProvider(f,u,h)),[new r.Disposable((()=>l.forEach((e=>e.dispose())))),{range:u,full:c,onDidChangeSemanticTokensEmitter:a}]}}t.SemanticTokensFeature=a},2908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureHelpFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideSignatureHelp:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>o.sendRequest(i.SignatureHelpRequest.type,o.code2ProtocolConverter.asSignatureHelpParams(e,t,n),r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asSignatureHelp(e,r)),(e=>o.handleFailedRequest(i.SignatureHelpRequest.type,r,e,null))),a=o.middleware;return a.provideSignatureHelp?a.provideSignatureHelp(e,t,r,n,s):s(e,t,r,n)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){const n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(void 0===e.retriggerCharacters){const i=e.triggerCharacters||[];return r.languages.registerSignatureHelpProvider(n,t,...i)}{const i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return r.languages.registerSignatureHelpProvider(n,t,i)}}}t.SignatureHelpFeature=a},743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidSaveTextDocumentFeature=t.WillSaveWaitUntilFeature=t.WillSaveFeature=t.DidChangeTextDocumentFeature=t.DidCloseTextDocumentFeature=t.DidOpenTextDocumentFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(4904),a=n(1980);class c extends o.TextDocumentEventFeature{constructor(e,t){super(e,r.workspace.onDidOpenTextDocument,i.DidOpenTextDocumentNotification.type,(()=>e.middleware.didOpen),(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return i.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;const t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);r.workspace.textDocuments.forEach((e=>{const n=e.uri.toString();if(!this._syncedDocuments.has(n)&&r.languages.match(t,e)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e)){const t=this._client.middleware,r=e=>this._client.sendNotification(this._type,this._createParams(e));(t.didOpen?t.didOpen(e,r):r(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)})),this._syncedDocuments.set(n,e)}}))}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}}t.DidOpenTextDocumentFeature=c;class u extends o.TextDocumentEventFeature{constructor(e,t){super(e,r.workspace.onDidCloseTextDocument,i.DidCloseTextDocumentNotification.type,(()=>e.middleware.didClose),(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return i.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){const t=this._selectors.get(e);super.unregister(e);const n=this._selectors.values();this._syncedDocuments.forEach((e=>{if(r.languages.match(t,e)>0&&!this._selectorFilter(n,e)&&!this._client.hasDedicatedTextSynchronizationFeature(e)){let t=this._client.middleware,n=e=>this._client.sendNotification(this._type,this._createParams(e));this._syncedDocuments.delete(e.uri.toString()),(t.didClose?t.didClose(e,n):n(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)}))}}))}}t.DidCloseTextDocumentFeature=u;class l extends o.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new r.EventEmitter}get registrationType(){return i.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==i.TextDocumentSyncKind.None&&this.register({id:a.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(const e of this._changeData.values())yield e.documentSelector}async callback(e){if(0===e.contentChanges.length)return;const t=[];for(const n of this._changeData.values())if(r.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){const r=this._client.middleware;if(n.syncKind===i.TextDocumentSyncKind.Incremental){const n=async e=>{const t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);await this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t),this.notificationSent(e,i.DidChangeTextDocumentNotification.type,t)};t.push(r.didChange?r.didChange(e,(e=>n(e))):n(e))}else if(n.syncKind===i.TextDocumentSyncKind.Full){const n=async e=>{const t=async e=>{const t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document);await this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t),this.notificationSent(e,i.DidChangeTextDocumentNotification.type,t)};return this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger((()=>t(e)))):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new s.Delayer(200)},this._changeDelayer.delayer.trigger((()=>t(e)),-1))};t.push(r.didChange?r.didChange(e,(e=>n(e))):n(e))}}return Promise.all(t).then(void 0,(e=>{throw this._client.error(`Sending document notification ${i.DidChangeTextDocumentNotification.type.method} failed`,e),e}))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){void 0!==this._changeDelayer&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(const t of this._changeData.values())if(r.languages.match(t.documentSelector,e)>0)return{send:e=>this.callback(e)}}}t.DidChangeTextDocumentFeature=l;class d extends o.TextDocumentEventFeature{constructor(e){super(e,r.workspace.onWillSaveTextDocument,i.WillSaveTextDocumentNotification.type,(()=>e.middleware.willSave),(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),(e=>e.document),((e,t)=>o.TextDocumentEventFeature.textDocumentFilter(e,t.document)))}get registrationType(){return i.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}}t.WillSaveFeature=d;class h extends o.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return i.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(o.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=e=>this._client.sendRequest(i.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((async e=>{let t=await this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}t.WillSaveWaitUntilFeature=h;class f extends o.TextDocumentEventFeature{constructor(e){super(e,r.workspace.onDidSaveTextDocument,i.DidSaveTextDocumentNotification.type,(()=>e.middleware.didSave),(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return i.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;if(t&&n&&n.save){const e="boolean"==typeof n.save?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:a.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}}t.DidSaveTextDocumentFeature=f},328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.typeDefinitionProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideTypeDefinition:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.TypeDefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.TypeDefinitionRequest.type,n,e,null))),s=r.middleware;return s.provideTypeDefinition?s.provideTypeDefinition(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.TypeDefinitionFeature=s},4175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){const r=this.client,o=this.middleware,s=(e,t,n)=>{const o=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(i.TypeHierarchyPrepareRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(e,n)),(e=>r.handleFailedRequest(i.TypeHierarchyPrepareRequest.type,n,e,null)))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(i.TypeHierarchySupertypesRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(i.TypeHierarchySupertypesRequest.type,t,e,null)))};return r.provideTypeHierarchySupertypes?r.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(i.TypeHierarchySubtypesRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(i.TypeHierarchySubtypesRequest.type,t,e,null)))};return r.provideTypeHierarchySubtypes?r.provideTypeHierarchySubtypes(e,t,o):o(e,t)}}class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.typeHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[r.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.TypeHierarchyFeature=a},4904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.mapAsync=t.map=t.clearTestMode=t.setTestMode=t.Semaphore=t.Delayer=void 0;const r=n(273);t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=(0,r.RAL)().timer.setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}},t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.RAL)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};let i=!1;t.setTestMode=function(){i=!0},t.clearTestMode=function(){i=!1};class o{constructor(e=15){this.yieldAfter=!0===i?Math.max(e,2):Math.max(e,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){const e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=2*this.total}}return!1}}t.map=async function(e,t,n,i){if(0===e.length)return[];const s=new Array(e.length),a=new o(i?.yieldAfter);function c(n){a.start();for(let r=n;r<e.length;r++)if(s[r]=t(e[r]),a.shouldYield())return i?.yieldCallback&&i.yieldCallback(),r+1;return-1}let u=c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return s},t.mapAsync=async function(e,t,n,i){if(0===e.length)return[];const s=new Array(e.length),a=new o(i?.yieldAfter);async function c(r){a.start();for(let o=r;o<e.length;o++)if(s[o]=await t(e[o],n),a.shouldYield())return i?.yieldCallback&&i.yieldCallback(),o+1;return-1}let u=await c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return s},t.forEach=async function(e,t,n,i){if(0===e.length)return;const s=new o(i?.yieldAfter);function a(n){s.start();for(let r=n;r<e.length;r++)if(t(e[r]),s.shouldYield())return i?.yieldCallback&&i.yieldCallback(),r+1;return-1}let c=a(0);for(;-1!==c&&(void 0===n||!n.isCancellationRequested);)c=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(a(c))}))}))}},9763:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function i(e){return Array.isArray(e)}function o(e){return e&&r(e.then)}Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=o,t.asPromise=function(e){return e instanceof Promise?e:o(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)}},1980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class r extends n{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}}function i(){return new r}r._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=i;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(e){return o.test(e)}t.isUUID=s,t.parse=function(e){if(!s(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return i().asHex()}},5941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=t.arrayDiff=void 0;const r=n(1980),i=n(9496),o=n(273);function s(e,t){if(void 0!==e)return e[t]}function a(e,t){return e.filter((e=>t.indexOf(e)<0))}t.arrayDiff=a,t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return o.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){const t=i.workspace.workspaceFolders;this.initializeWithFolders(t),e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){const t=this._client;t.onRequest(o.WorkspaceFoldersRequest.type,(e=>{const n=()=>{const e=i.workspace.workspaceFolders;return void 0===e?null:e.map((e=>this.asProtocol(e)))},r=t.middleware.workspace;return r&&r.workspaceFolders?r.workspaceFolders(e,n):n()}));const n=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");let a;"string"==typeof n?a=n:!0===n&&(a=r.generateUuid()),a&&this.register({id:a,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){const n=a(this._initialFolders,e),r=a(e,this._initialFolders);(r.length>0||n.length>0)&&(t=this.doSendEvent(r,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));void 0!==t&&t.catch((e=>{this._client.error(`Sending notification ${o.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}doSendEvent(e,t){let n={event:{added:e.map((e=>this.asProtocol(e))),removed:t.map((e=>this.asProtocol(e)))}};return this._client.sendNotification(o.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,r=i.workspace.onDidChangeWorkspaceFolders((e=>{let t=e=>this.doSendEvent(e.added,e.removed),r=n.middleware.workspace;(r&&r.didChangeWorkspaceFolders?r.didChangeWorkspaceFolders(e,t):t(e)).catch((e=>{this._client.error(`Sending notification ${o.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}));this._listeners.set(t,r),this.sendInitialEvent(i.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},3051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(2483),a=n(1980);class c extends o.WorkspaceFeature{constructor(e){super(e,i.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:s.SupportedSymbolKinds},t.tagSupport={valueSet:s.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:a.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){const t={provideWorkspaceSymbols:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.WorkspaceSymbolRequest.type,{query:e},t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformations(e,t)),(e=>n.handleFailedRequest(i.WorkspaceSymbolRequest.type,t,e,null))),o=n.middleware;return o.provideWorkspaceSymbols?o.provideWorkspaceSymbols(e,t,r):r(e,t)},resolveWorkspaceSymbol:!0===e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.WorkspaceSymbolResolveRequest.type,n.code2ProtocolConverter.asWorkspaceSymbol(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformation(e)),(e=>n.handleFailedRequest(i.WorkspaceSymbolResolveRequest.type,t,e,null))),o=n.middleware;return o.resolveWorkspaceSymbol?o.resolveWorkspaceSymbol(e,t,r):r(e,t)}:void 0};return[r.languages.registerWorkspaceSymbolProvider(t),t]}}t.WorkspaceSymbolFeature=c},2850:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingMonitor=t.LanguageClient=t.TransportKind=void 0;const o=n(2081),s=n(7147),a=n(1017),c=n(9496),u=n(9763),l=n(4384),d=n(794),h=n(6560),f=n(7376),p=n(9681);i(n(6560),t),i(n(5734),t);var m,g,y,v,b,w;!function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(m=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){const t=e;return t&&t.kind===m.socket&&u.number(t.port)}}(g||(g={})),function(e){e.is=function(e){return u.string(e.command)}}(y||(y={})),function(e){e.is=function(e){return u.string(e.module)}}(v||(v={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(b||(b={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(w||(w={}));class _ extends l.BaseLanguageClient{constructor(e,t,n,r,i){let o,s,a,c,l;u.string(t)?(o=e,s=t,a=n,c=r,l=!!i):(o=e.toLowerCase(),s=e,a=t,c=n,l=r),void 0===l&&(l=!1),super(o,s,c),this._serverOptions=a,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(e){throw u.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){const e=f(c.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${c.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!p(e,"^1.67.0"))throw new Error(`The language client requires VS Code version ^1.67.0 but received version ${c.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise((e=>setTimeout(e,1e3))),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally((()=>{if(this._serverProcess){const e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}}))}checkProcessDied(e){e&&void 0!==e.pid&&setTimeout((()=>{try{void 0!==e.pid&&(process.kill(e.pid,0),(0,d.terminate)(e))}catch(e){}}),2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),null===e.processId&&(e.processId=process.pid)}createMessageTransports(e){function t(e,t){if(!e&&!t)return;const n=Object.create(null);return Object.keys(process.env).forEach((e=>n[e]=process.env[e])),t&&(n.ELECTRON_RUN_AS_NODE="1",n.ELECTRON_NO_ASAR="1"),e&&Object.keys(e).forEach((t=>n[t]=e[t])),n}const n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],r=["--debug","--debug-brk","--inspect","--inspect-brk"];function i(e){if(null===e.stdin||null===e.stdout||null===e.stderr)throw new Error("Process created without stdio streams")}const s=this._serverOptions;if(u.func(s))return s().then((t=>{if(l.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(b.is(t))return this._isDetached=!!t.detached,{reader:new h.StreamMessageReader(t.reader),writer:new h.StreamMessageWriter(t.writer)};{let n;return w.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),{reader:new h.StreamMessageReader(n.stdout),writer:new h.StreamMessageWriter(n.stdin)}}}));let a,c=s;return c.run||c.debug?this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some((e=>n.some((t=>e.startsWith(t)))||r.some((t=>e===t))))}()?(a=c.debug,this._isInDebugMode=!0):(a=c.run,this._isInDebugMode=!1):a=s,this._getServerWorkingDir(a.options).then((n=>{if(v.is(a)&&a.module){let r=a,s=r.transport||m.stdio;if(!r.runtime){let a;return new Promise(((c,l)=>{const d=(r.args&&r.args.slice())??[];s===m.ipc?d.push("--node-ipc"):s===m.stdio?d.push("--stdio"):s===m.pipe?(a=(0,h.generateRandomPipeName)(),d.push(`--pipe=${a}`)):g.isSocket(s)&&d.push(`--socket=${s.port}`),d.push(`--clientProcessId=${process.pid.toString()}`);const f=r.options??Object.create(null);if(f.env=t(f.env,!0),f.execArgv=f.execArgv||[],f.cwd=n,f.silent=!0,s===m.ipc||s===m.stdio){const t=o.fork(r.module,d||[],f);i(t),this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),s===m.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),c({reader:new h.IPCMessageReader(this._serverProcess),writer:new h.IPCMessageWriter(this._serverProcess)})):c({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})}else s===m.pipe?(0,h.createClientPipeTransport)(a).then((t=>{const n=o.fork(r.module,d||[],f);i(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),l)}),l):g.isSocket(s)&&(0,h.createClientSocketTransport)(s.port).then((t=>{const n=o.fork(r.module,d||[],f);i(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),l)}),l)}))}{const i=[],a=r.options??Object.create(null);a.execArgv&&a.execArgv.forEach((e=>i.push(e))),i.push(r.module),r.args&&r.args.forEach((e=>i.push(e)));const c=Object.create(null);c.cwd=n,c.env=t(a.env,!1);const l=this._getRuntimePath(r.runtime,n);let d;if(s===m.ipc?(c.stdio=[null,null,null,"ipc"],i.push("--node-ipc")):s===m.stdio?i.push("--stdio"):s===m.pipe?(d=(0,h.generateRandomPipeName)(),i.push(`--pipe=${d}`)):g.isSocket(s)&&i.push(`--socket=${s.port}`),i.push(`--clientProcessId=${process.pid.toString()}`),s===m.ipc||s===m.stdio){const t=o.spawn(l,i,c);return t&&t.pid?(this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),s===m.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),Promise.resolve({reader:new h.IPCMessageReader(t),writer:new h.IPCMessageWriter(t)})):Promise.resolve({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})):S(t,`Launching server using runtime ${l} failed.`)}if(s===m.pipe)return(0,h.createClientPipeTransport)(d).then((t=>{const n=o.spawn(l,i,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):S(n,`Launching server using runtime ${l} failed.`)}));if(g.isSocket(s))return(0,h.createClientSocketTransport)(s.port).then((t=>{const n=o.spawn(l,i,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):S(n,`Launching server using runtime ${l} failed.`)}))}}else if(y.is(a)&&a.command){const t=a,r=void 0!==a.args?a.args.slice(0):[];let i;const s=a.transport;if(s===m.stdio)r.push("--stdio");else if(s===m.pipe)i=(0,h.generateRandomPipeName)(),r.push(`--pipe=${i}`);else if(g.isSocket(s))r.push(`--socket=${s.port}`);else if(s===m.ipc)throw new Error("Transport kind ipc is not support for command executable");const c=Object.assign({},t.options);if(c.cwd=c.cwd||n,void 0===s||s===m.stdio){const n=o.spawn(t.command,r,c);return n&&n.pid?(n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),this._serverProcess=n,this._isDetached=!!c.detached,Promise.resolve({reader:new h.StreamMessageReader(n.stdout),writer:new h.StreamMessageWriter(n.stdin)})):S(n,`Launching server using command ${t.command} failed.`)}if(s===m.pipe)return(0,h.createClientPipeTransport)(i).then((n=>{const i=o.spawn(t.command,r,c);return i&&i.pid?(this._serverProcess=i,this._isDetached=!!c.detached,i.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),i.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):S(i,`Launching server using command ${t.command} failed.`)}));if(g.isSocket(s))return(0,h.createClientSocketTransport)(s.port).then((n=>{const i=o.spawn(t.command,r,c);return i&&i.pid?(this._serverProcess=i,this._isDetached=!!c.detached,i.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),i.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):S(i,`Launching server using command ${t.command} failed.`)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(s,null,4)))}))}_getRuntimePath(e,t){if(a.isAbsolute(e))return e;const n=this._mainGetRootPath();if(void 0!==n){const t=a.join(n,e);if(s.existsSync(t))return t}if(void 0!==t){const n=a.join(t,e);if(s.existsSync(n))return n}return e}_mainGetRootPath(){let e=c.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise((e=>{s.lstat(t,((n,r)=>{e(!n&&r.isDirectory()?t:void 0)}))})):Promise.resolve(void 0)}getLocale(){const e=process.env.VSCODE_NLS_CONFIG;if(void 0===e)return"en";let t;try{t=JSON.parse(e)}catch(e){}return void 0===t||"string"!=typeof t.locale?"en":t.locale}}function S(e,t){return null===e?Promise.reject(t):new Promise(((n,r)=>{e.on("error",(e=>{r(`${t} ${e}`)})),setImmediate((()=>r(t)))}))}t.LanguageClient=_,t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return c.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new c.Disposable((()=>{this._client.needsStop()&&this._client.stop()}))}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,r=n?c.workspace.getConfiguration(t).get(n,!1):c.workspace.getConfiguration(t);r&&this._client.needsStart()?this._client.start().catch((e=>this._client.error("Start failed after configuration change",e,"force"))):!r&&this._client.needsStop()&&this._client.stop().catch((e=>this._client.error("Stop failed after configuration change",e,"force")))}}},794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminate=void 0;const r=n(2081),i=n(1017),o="win32"===process.platform,s="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(o)try{let n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),r.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!a&&!s)return e.kill("SIGKILL"),!0;try{var n=(0,i.join)(__dirname,"terminateProcess.sh");return!r.spawnSync(n,[e.pid.toString()]).error}catch(e){return!1}}}},2847:(e,t,n)=>{"use strict";e.exports=n(2850)},9872:(e,t,n)=>{"use strict";const r=n(4411),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=()=>1,m=(e,t,n)=>{const r=e[h].get(t);if(r){const t=r.value;if(g(e,t)){if(v(e,r),!e[a])return}else n&&(e[f]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},y=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){const n=t.prev;v(e,t),t=n}},v=(e,t)=>{if(t){const n=t.value;e[u]&&e[u](n.key,n.value),e[o]-=n.length,e[h].delete(n.key),e[d].removeNode(t)}};class b{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const w=(e,t,n,r)=>{let i=n.value;g(e,i)&&(v(e,n),e[a]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||p;if(this[s]="function"!=typeof t?p:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,y(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,y(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[s]&&(this[s]=e,this[o]=0,this[d].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),y(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;w(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;w(this,e,n,t),n=r}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach((e=>this[u](e.key,e.value))),this[h]=new Map,this[d]=new r,this[o]=0}dump(){return this[d].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[s](t,e);if(this[h].has(e)){if(a>this[i])return v(this,this[h].get(e)),!1;const s=this[h].get(e).value;return this[u]&&(this[l]||this[u](e,s.value)),s.now=r,s.maxAge=n,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),y(this),!0}const f=new b(e,t,a,r,n);return f.length>this[i]?(this[u]&&this[u](e,t),!1):(this[o]+=f.length,this[d].unshift(f),this[h].set(e,this[d].head),y(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[h].forEach(((e,t)=>m(this,t,!1)))}}},3960:(e,t,n)=>{const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new d(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new d(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||o&&s||a||u}}e.exports=i;const o=n(9157),{re:s,t:a}=n(1466),c=n(475),u=n(6583),l=n(5351),d=n(9971)},9971:(e,t,n)=>{class r{constructor(e,t){if(t=o(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!p(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&m(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=i.get(t);if(n)return n;const r=this.options.loose,o=r?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];e=e.replace(o,k(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[l.COMPARATORTRIM],d),a("comparator trim",e);let c=(e=(e=(e=e.replace(u[l.TILDETRIM],h)).replace(u[l.CARETTRIM],f)).split(/\s+/).join(" ")).split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>E(e,this.options)));r&&(c=c.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(u[l.COMPARATORLOOSE]))))),a("range list",c);const m=new Map,g=c.map((e=>new s(e,this.options)));for(const e of g){if(p(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const v=[...m.values()];return i.set(t,v),v}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((n=>g(n,t)&&e.set.some((e=>g(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(D(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const i=new(n(9872))({max:1e3}),o=n(9157),s=n(3960),a=n(6583),c=n(5351),{re:u,t:l,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=n(1466),p=e=>"<0.0.0-0"===e.value,m=e=>""===e.value,g=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every((e=>i.intersects(e,t))),i=r.pop();return n},y=(e,t)=>(a("comp",e,t),e=_(e,t),a("caret",e),e=b(e,t),a("tildes",e),e=C(e,t),a("xrange",e),e=T(e,t),a("stars",e),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>w(e,t))).join(" "),w=(e,t)=>{const n=t.loose?u[l.TILDELOOSE]:u[l.TILDE];return e.replace(n,((t,n,r,i,o)=>{let s;return a("tilde",e,t,n,r,i,o),v(n)?s="":v(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:v(i)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${n}.${r}.${i}-${o} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,a("tilde return",s),s}))},_=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{a("caret",e,t);const n=t.loose?u[l.CARETLOOSE]:u[l.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,i,o,s)=>{let c;return a("caret",e,t,n,i,o,s),v(n)?c="":v(i)?c=`>=${n}.0.0${r} <${+n+1}.0.0-0`:v(o)?c="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===n?"0"===i?`>=${n}.${i}.${o}-${s} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${s} <${+n+1}.0.0-0`):(a("no pr"),c="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),a("caret return",c),c}))},C=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>R(e,t))).join(" ")),R=(e,t)=>{e=e.trim();const n=t.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return e.replace(n,((n,r,i,o,s,c)=>{a("xRange",e,n,r,i,o,s,c);const u=v(i),l=u||v(o),d=l||v(s),h=d;return"="===r&&h&&(r=""),c=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),"<"===r&&(c="-0"),n=`${r+i}.${o}.${s}${c}`):l?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),a("xRange return",n),n}))},T=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[l.STAR],"")),E=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),k=e=>(t,n,r,i,o,s,a,c,u,l,d,h,f)=>`${n=v(r)?"":v(i)?`>=${r}.0.0${e?"-0":""}`:v(o)?`>=${r}.${i}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=v(u)?"":v(l)?`<${+u+1}.0.0-0`:v(d)?`<${u}.${+l+1}.0-0`:h?`<=${u}.${l}.${d}-${h}`:e?`<${u}.${l}.${+d+1}-0`:`<=${c}`}`.trim(),D=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},5351:(e,t,n)=>{const r=n(6583),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=n(7138),{re:s,t:a}=n(1466),c=n(9157),{compareIdentifiers:u}=n(4089);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return u(n,i)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return u(n,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=l},475:(e,t,n)=>{const r=n(5695),i=n(1012),o=n(9525),s=n(8578),a=n(3614),c=n(160);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return i(e,n,u);case">":return o(e,n,u);case">=":return s(e,n,u);case"<":return a(e,n,u);case"<=":return c(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},9144:(e,t,n)=>{const r=n(5351);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},5695:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>0===r(e,t,n)},9525:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>r(e,t,n)>0},8578:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>r(e,t,n)>=0},3614:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>r(e,t,n)<0},160:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>r(e,t,n)<=0},1012:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>0!==r(e,t,n)},7376:(e,t,n)=>{const{MAX_LENGTH:r}=n(7138),{re:i,t:o}=n(1466),s=n(5351),a=n(9157);e.exports=(e,t)=>{if(t=a(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?i[o.LOOSE]:i[o.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},9681:(e,t,n)=>{const r=n(9971);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},7138:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},6583:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},4089:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),i=t.test(n);return r&&i&&(e=+e,n=+n),e===n?0:r&&!i?-1:i&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},9157:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},1466:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r}=n(7138),i=n(6583),o=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let c=0;const u=(e,t,n)=>{const r=c++;i(e,r,t),a[e]=r,s[r]=t,o[r]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},1661:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(n(4389),t),i(n(1674),t),i(n(6140),t),i(n(542),t);var o,s=n(3767);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return s.createProtocolConnection}}),(o=t.LSPErrorCodes||(t.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800},3767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=n(4389);t.createProtocolConnection=function(e,t,n,i){return r.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,r.createMessageConnection)(e,t,n,i)}},6140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=t.MessageDirection=void 0;const r=n(4389);var i;(i=t.MessageDirection||(t.MessageDirection={})).clientToServer="clientToServer",i.serverToClient="serverToClient",i.both="both",t.RegistrationType=class{constructor(e){this.method=e}};class o extends r.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=o;class s extends r.RequestType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolRequestType=s;class a extends r.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=a;class c extends r.NotificationType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolNotificationType=c},2918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const r=n(6140);var i,o,s;(s=t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})).method="textDocument/prepareCallHierarchy",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolRequestType(s.method),(o=t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})).method="callHierarchy/incomingCalls",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method),(i=t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={})).method="callHierarchy/outgoingCalls",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},9891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const r=n(6140);var i,o;(o=t.DocumentColorRequest||(t.DocumentColorRequest={})).method="textDocument/documentColor",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method),(i=t.ColorPresentationRequest||(t.ColorPresentationRequest={})).method="textDocument/colorPresentation",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},5934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const r=n(6140);var i;(i=t.ConfigurationRequest||(t.ConfigurationRequest={})).method="workspace/configuration",i.messageDirection=r.MessageDirection.serverToClient,i.type=new r.ProtocolRequestType(i.method)},764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const r=n(6140);var i;(i=t.DeclarationRequest||(t.DeclarationRequest={})).method="textDocument/declaration",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},9824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=void 0;const r=n(4389),i=n(9533),o=n(6140);var s,a,c,u;(t.DiagnosticServerCancellationData||(t.DiagnosticServerCancellationData={})).is=function(e){const t=e;return t&&i.boolean(t.retriggerRequest)},(u=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={})).Full="full",u.Unchanged="unchanged",(c=t.DocumentDiagnosticRequest||(t.DocumentDiagnosticRequest={})).method="textDocument/diagnostic",c.messageDirection=o.MessageDirection.clientToServer,c.type=new o.ProtocolRequestType(c.method),c.partialResult=new r.ProgressType,(a=t.WorkspaceDiagnosticRequest||(t.WorkspaceDiagnosticRequest={})).method="workspace/diagnostic",a.messageDirection=o.MessageDirection.clientToServer,a.type=new o.ProtocolRequestType(a.method),a.partialResult=new r.ProgressType,(s=t.DiagnosticRefreshRequest||(t.DiagnosticRefreshRequest={})).method="workspace/diagnostic/refresh",s.messageDirection=o.MessageDirection.clientToServer,s.type=new o.ProtocolRequestType0(s.method)},7846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const r=n(6140);var i,o,s,a,c,u,l;(l=t.FileOperationPatternKind||(t.FileOperationPatternKind={})).file="file",l.folder="folder",(u=t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})).method="workspace/willCreateFiles",u.messageDirection=r.MessageDirection.clientToServer,u.type=new r.ProtocolRequestType(u.method),(c=t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})).method="workspace/didCreateFiles",c.messageDirection=r.MessageDirection.clientToServer,c.type=new r.ProtocolNotificationType(c.method),(a=t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})).method="workspace/willRenameFiles",a.messageDirection=r.MessageDirection.clientToServer,a.type=new r.ProtocolRequestType(a.method),(s=t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})).method="workspace/didRenameFiles",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolNotificationType(s.method),(o=t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})).method="workspace/didDeleteFiles",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolNotificationType(o.method),(i=t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={})).method="workspace/willDeleteFiles",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},3394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=void 0;const r=n(6140);var i;(i=t.FoldingRangeRequest||(t.FoldingRangeRequest={})).method="textDocument/foldingRange",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},2122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const r=n(6140);var i;(i=t.ImplementationRequest||(t.ImplementationRequest={})).method="textDocument/implementation",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},9999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=void 0;const r=n(6140);var i,o,s;(s=t.InlayHintRequest||(t.InlayHintRequest={})).method="textDocument/inlayHint",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolRequestType(s.method),(o=t.InlayHintResolveRequest||(t.InlayHintResolveRequest={})).method="inlayHint/resolve",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method),(i=t.InlayHintRefreshRequest||(t.InlayHintRefreshRequest={})).method="workspace/inlayHint/refresh",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType0(i.method)},5246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueRefreshRequest=t.InlineValueRequest=void 0;const r=n(6140);var i,o;(o=t.InlineValueRequest||(t.InlineValueRequest={})).method="textDocument/inlineValue",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method),(i=t.InlineValueRefreshRequest||(t.InlineValueRefreshRequest={})).method="workspace/inlineValue/refresh",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType0(i.method)},542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=void 0;const r=n(6140),i=n(1674),o=n(9533),s=n(2122);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return s.ImplementationRequest}});const a=n(1589);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const c=n(8744);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return c.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return c.DidChangeWorkspaceFoldersNotification}});const u=n(5934);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const l=n(9891);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return l.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return l.ColorPresentationRequest}});const d=n(3394);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return d.FoldingRangeRequest}});const h=n(764);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return h.DeclarationRequest}});const f=n(5206);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return f.SelectionRangeRequest}});const p=n(1862);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return p.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return p.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return p.WorkDoneProgressCancelNotification}});const m=n(2918);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return m.CallHierarchyPrepareRequest}});const g=n(9434);Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return g.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return g.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return g.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return g.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return g.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return g.SemanticTokensRegistrationType}});const y=n(5726);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return y.ShowDocumentRequest}});const v=n(6305);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return v.LinkedEditingRangeRequest}});const b=n(7846);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return b.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return b.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return b.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return b.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return b.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return b.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return b.WillDeleteFilesRequest}});const w=n(3443);Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return w.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return w.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return w.MonikerRequest}});const _=n(3693);Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return _.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySupertypesRequest}});const S=n(5246);Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return S.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return S.InlineValueRefreshRequest}});const C=n(9999);Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return C.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return C.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return C.InlayHintRefreshRequest}});const R=n(9824);Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return R.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return R.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return R.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return R.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return R.DiagnosticRefreshRequest}});const T=n(7169);var E,k,D,x,O,P,I,N,F,L,M,A,j,q,H,U,$,B,W,z,V,K,G,J,Z,Y,Q,X,ee,te,ne,re,ie,oe,se,ae,ce,ue,le,de,he,fe,pe,me,ge,ye,ve,be,we,_e,Se,Ce,Re,Te,Ee,ke,De,xe,Oe;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return T.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return T.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return T.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return T.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return T.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return T.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidCloseNotebookDocumentNotification}}),function(e){e.is=function(e){const t=e;return o.string(t.language)||o.string(t.scheme)||o.string(t.pattern)}}(E=t.TextDocumentFilter||(t.TextDocumentFilter={})),function(e){e.is=function(e){const t=e;return o.objectLiteral(t)&&(o.string(t.notebookType)||o.string(t.scheme)||o.string(t.pattern))}}(k=t.NotebookDocumentFilter||(t.NotebookDocumentFilter={})),function(e){e.is=function(e){const t=e;return o.objectLiteral(t)&&(o.string(t.notebook)||k.is(t.notebook))&&(void 0===t.language||o.string(t.language))}}(D=t.NotebookCellTextDocumentFilter||(t.NotebookCellTextDocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!o.string(t)&&!E.is(t)&&!D.is(t))return!1;return!0}}(x=t.DocumentSelector||(t.DocumentSelector={})),(Oe=t.RegistrationRequest||(t.RegistrationRequest={})).method="client/registerCapability",Oe.messageDirection=r.MessageDirection.serverToClient,Oe.type=new r.ProtocolRequestType(Oe.method),(xe=t.UnregistrationRequest||(t.UnregistrationRequest={})).method="client/unregisterCapability",xe.messageDirection=r.MessageDirection.serverToClient,xe.type=new r.ProtocolRequestType(xe.method),(De=t.ResourceOperationKind||(t.ResourceOperationKind={})).Create="create",De.Rename="rename",De.Delete="delete",(ke=t.FailureHandlingKind||(t.FailureHandlingKind={})).Abort="abort",ke.Transactional="transactional",ke.TextOnlyTransactional="textOnlyTransactional",ke.Undo="undo",(Ee=t.PositionEncodingKind||(t.PositionEncodingKind={})).UTF8="utf-8",Ee.UTF16="utf-16",Ee.UTF32="utf-32",(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})).hasId=function(e){const t=e;return t&&o.string(t.id)&&t.id.length>0},(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})).is=function(e){const t=e;return t&&(null===t.documentSelector||x.is(t.documentSelector))},(Te=t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})).is=function(e){const t=e;return o.objectLiteral(t)&&(void 0===t.workDoneProgress||o.boolean(t.workDoneProgress))},Te.hasWorkDoneProgress=function(e){const t=e;return t&&o.boolean(t.workDoneProgress)},(Re=t.InitializeRequest||(t.InitializeRequest={})).method="initialize",Re.messageDirection=r.MessageDirection.clientToServer,Re.type=new r.ProtocolRequestType(Re.method),(t.InitializeErrorCodes||(t.InitializeErrorCodes={})).unknownProtocolVersion=1,(Ce=t.InitializedNotification||(t.InitializedNotification={})).method="initialized",Ce.messageDirection=r.MessageDirection.clientToServer,Ce.type=new r.ProtocolNotificationType(Ce.method),(Se=t.ShutdownRequest||(t.ShutdownRequest={})).method="shutdown",Se.messageDirection=r.MessageDirection.clientToServer,Se.type=new r.ProtocolRequestType0(Se.method),(_e=t.ExitNotification||(t.ExitNotification={})).method="exit",_e.messageDirection=r.MessageDirection.clientToServer,_e.type=new r.ProtocolNotificationType0(_e.method),(we=t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})).method="workspace/didChangeConfiguration",we.messageDirection=r.MessageDirection.clientToServer,we.type=new r.ProtocolNotificationType(we.method),(be=t.MessageType||(t.MessageType={})).Error=1,be.Warning=2,be.Info=3,be.Log=4,(ve=t.ShowMessageNotification||(t.ShowMessageNotification={})).method="window/showMessage",ve.messageDirection=r.MessageDirection.serverToClient,ve.type=new r.ProtocolNotificationType(ve.method),(ye=t.ShowMessageRequest||(t.ShowMessageRequest={})).method="window/showMessageRequest",ye.messageDirection=r.MessageDirection.serverToClient,ye.type=new r.ProtocolRequestType(ye.method),(ge=t.LogMessageNotification||(t.LogMessageNotification={})).method="window/logMessage",ge.messageDirection=r.MessageDirection.serverToClient,ge.type=new r.ProtocolNotificationType(ge.method),(me=t.TelemetryEventNotification||(t.TelemetryEventNotification={})).method="telemetry/event",me.messageDirection=r.MessageDirection.serverToClient,me.type=new r.ProtocolNotificationType(me.method),(pe=t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})).None=0,pe.Full=1,pe.Incremental=2,(fe=t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})).method="textDocument/didOpen",fe.messageDirection=r.MessageDirection.clientToServer,fe.type=new r.ProtocolNotificationType(fe.method),(he=t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})).isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},he.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},(de=t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})).method="textDocument/didChange",de.messageDirection=r.MessageDirection.clientToServer,de.type=new r.ProtocolNotificationType(de.method),(le=t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})).method="textDocument/didClose",le.messageDirection=r.MessageDirection.clientToServer,le.type=new r.ProtocolNotificationType(le.method),(ue=t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})).method="textDocument/didSave",ue.messageDirection=r.MessageDirection.clientToServer,ue.type=new r.ProtocolNotificationType(ue.method),(ce=t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})).Manual=1,ce.AfterDelay=2,ce.FocusOut=3,(ae=t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})).method="textDocument/willSave",ae.messageDirection=r.MessageDirection.clientToServer,ae.type=new r.ProtocolNotificationType(ae.method),(se=t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})).method="textDocument/willSaveWaitUntil",se.messageDirection=r.MessageDirection.clientToServer,se.type=new r.ProtocolRequestType(se.method),(oe=t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})).method="workspace/didChangeWatchedFiles",oe.messageDirection=r.MessageDirection.clientToServer,oe.type=new r.ProtocolNotificationType(oe.method),(ie=t.FileChangeType||(t.FileChangeType={})).Created=1,ie.Changed=2,ie.Deleted=3,(t.RelativePattern||(t.RelativePattern={})).is=function(e){const t=e;return o.objectLiteral(t)&&(i.URI.is(t.baseUri)||i.WorkspaceFolder.is(t.baseUri))&&o.string(t.pattern)},(re=t.WatchKind||(t.WatchKind={})).Create=1,re.Change=2,re.Delete=4,(ne=t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})).method="textDocument/publishDiagnostics",ne.messageDirection=r.MessageDirection.serverToClient,ne.type=new r.ProtocolNotificationType(ne.method),(te=t.CompletionTriggerKind||(t.CompletionTriggerKind={})).Invoked=1,te.TriggerCharacter=2,te.TriggerForIncompleteCompletions=3,(ee=t.CompletionRequest||(t.CompletionRequest={})).method="textDocument/completion",ee.messageDirection=r.MessageDirection.clientToServer,ee.type=new r.ProtocolRequestType(ee.method),(X=t.CompletionResolveRequest||(t.CompletionResolveRequest={})).method="completionItem/resolve",X.messageDirection=r.MessageDirection.clientToServer,X.type=new r.ProtocolRequestType(X.method),(Q=t.HoverRequest||(t.HoverRequest={})).method="textDocument/hover",Q.messageDirection=r.MessageDirection.clientToServer,Q.type=new r.ProtocolRequestType(Q.method),(Y=t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})).Invoked=1,Y.TriggerCharacter=2,Y.ContentChange=3,(Z=t.SignatureHelpRequest||(t.SignatureHelpRequest={})).method="textDocument/signatureHelp",Z.messageDirection=r.MessageDirection.clientToServer,Z.type=new r.ProtocolRequestType(Z.method),(J=t.DefinitionRequest||(t.DefinitionRequest={})).method="textDocument/definition",J.messageDirection=r.MessageDirection.clientToServer,J.type=new r.ProtocolRequestType(J.method),(G=t.ReferencesRequest||(t.ReferencesRequest={})).method="textDocument/references",G.messageDirection=r.MessageDirection.clientToServer,G.type=new r.ProtocolRequestType(G.method),(K=t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})).method="textDocument/documentHighlight",K.messageDirection=r.MessageDirection.clientToServer,K.type=new r.ProtocolRequestType(K.method),(V=t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})).method="textDocument/documentSymbol",V.messageDirection=r.MessageDirection.clientToServer,V.type=new r.ProtocolRequestType(V.method),(z=t.CodeActionRequest||(t.CodeActionRequest={})).method="textDocument/codeAction",z.messageDirection=r.MessageDirection.clientToServer,z.type=new r.ProtocolRequestType(z.method),(W=t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})).method="codeAction/resolve",W.messageDirection=r.MessageDirection.clientToServer,W.type=new r.ProtocolRequestType(W.method),(B=t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})).method="workspace/symbol",B.messageDirection=r.MessageDirection.clientToServer,B.type=new r.ProtocolRequestType(B.method),($=t.WorkspaceSymbolResolveRequest||(t.WorkspaceSymbolResolveRequest={})).method="workspaceSymbol/resolve",$.messageDirection=r.MessageDirection.clientToServer,$.type=new r.ProtocolRequestType($.method),(U=t.CodeLensRequest||(t.CodeLensRequest={})).method="textDocument/codeLens",U.messageDirection=r.MessageDirection.clientToServer,U.type=new r.ProtocolRequestType(U.method),(H=t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})).method="codeLens/resolve",H.messageDirection=r.MessageDirection.clientToServer,H.type=new r.ProtocolRequestType(H.method),(q=t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})).method="workspace/codeLens/refresh",q.messageDirection=r.MessageDirection.serverToClient,q.type=new r.ProtocolRequestType0(q.method),(j=t.DocumentLinkRequest||(t.DocumentLinkRequest={})).method="textDocument/documentLink",j.messageDirection=r.MessageDirection.clientToServer,j.type=new r.ProtocolRequestType(j.method),(A=t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})).method="documentLink/resolve",A.messageDirection=r.MessageDirection.clientToServer,A.type=new r.ProtocolRequestType(A.method),(M=t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})).method="textDocument/formatting",M.messageDirection=r.MessageDirection.clientToServer,M.type=new r.ProtocolRequestType(M.method),(L=t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})).method="textDocument/rangeFormatting",L.messageDirection=r.MessageDirection.clientToServer,L.type=new r.ProtocolRequestType(L.method),(F=t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})).method="textDocument/onTypeFormatting",F.messageDirection=r.MessageDirection.clientToServer,F.type=new r.ProtocolRequestType(F.method),(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})).Identifier=1,(N=t.RenameRequest||(t.RenameRequest={})).method="textDocument/rename",N.messageDirection=r.MessageDirection.clientToServer,N.type=new r.ProtocolRequestType(N.method),(I=t.PrepareRenameRequest||(t.PrepareRenameRequest={})).method="textDocument/prepareRename",I.messageDirection=r.MessageDirection.clientToServer,I.type=new r.ProtocolRequestType(I.method),(P=t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})).method="workspace/executeCommand",P.messageDirection=r.MessageDirection.clientToServer,P.type=new r.ProtocolRequestType(P.method),(O=t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={})).method="workspace/applyEdit",O.messageDirection=r.MessageDirection.serverToClient,O.type=new r.ProtocolRequestType("workspace/applyEdit")},6305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const r=n(6140);var i;(i=t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={})).method="textDocument/linkedEditingRange",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},3443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const r=n(6140);var i,o,s;(s=t.UniquenessLevel||(t.UniquenessLevel={})).document="document",s.project="project",s.group="group",s.scheme="scheme",s.global="global",(o=t.MonikerKind||(t.MonikerKind={})).$import="import",o.$export="export",o.local="local",(i=t.MonikerRequest||(t.MonikerRequest={})).method="textDocument/moniker",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},7169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=void 0;const r=n(1674),i=n(9533),o=n(6140);var s,a,c,u,l,d,h,f,p,m;!function(e){e.Markup=1,e.Code=2,e.is=function(e){return 1===e||2===e}}(s=t.NotebookCellKind||(t.NotebookCellKind={})),function(e){e.create=function(e,t){const n={executionOrder:e};return!0!==t&&!1!==t||(n.success=t),n},e.is=function(e){const t=e;return i.objectLiteral(t)&&r.uinteger.is(t.executionOrder)&&(void 0===t.success||i.boolean(t.success))},e.equals=function(e,t){return e===t||null!=e&&null!=t&&e.executionOrder===t.executionOrder&&e.success===t.success}}(a=t.ExecutionSummary||(t.ExecutionSummary={})),function(e){function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;const r=Array.isArray(e),o=Array.isArray(n);if(r!==o)return!1;if(r&&o){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1}if(i.objectLiteral(e)&&i.objectLiteral(n)){const r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;if(r.sort(),i.sort(),!t(r,i))return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!t(e[o],n[o]))return!1}}return!0}e.create=function(e,t){return{kind:e,document:t}},e.is=function(e){const t=e;return i.objectLiteral(t)&&s.is(t.kind)&&r.DocumentUri.is(t.document)&&(void 0===t.metadata||i.objectLiteral(t.metadata))},e.diff=function(e,n){const r=new Set;return e.document!==n.document&&r.add("document"),e.kind!==n.kind&&r.add("kind"),e.executionSummary!==n.executionSummary&&r.add("executionSummary"),void 0===e.metadata&&void 0===n.metadata||t(e.metadata,n.metadata)||r.add("metadata"),void 0===e.executionSummary&&void 0===n.executionSummary||a.equals(e.executionSummary,n.executionSummary)||r.add("executionSummary"),r}}(c=t.NotebookCell||(t.NotebookCell={})),(m=t.NotebookDocument||(t.NotebookDocument={})).create=function(e,t,n,r){return{uri:e,notebookType:t,version:n,cells:r}},m.is=function(e){const t=e;return i.objectLiteral(t)&&i.string(t.uri)&&r.integer.is(t.version)&&i.typedArray(t.cells,c.is)},function(e){e.method="notebookDocument/sync",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.RegistrationType(e.method)}(u=t.NotebookDocumentSyncRegistrationType||(t.NotebookDocumentSyncRegistrationType={})),(p=t.DidOpenNotebookDocumentNotification||(t.DidOpenNotebookDocumentNotification={})).method="notebookDocument/didOpen",p.messageDirection=o.MessageDirection.clientToServer,p.type=new o.ProtocolNotificationType(p.method),p.registrationMethod=u.method,(f=t.NotebookCellArrayChange||(t.NotebookCellArrayChange={})).is=function(e){const t=e;return i.objectLiteral(t)&&r.uinteger.is(t.start)&&r.uinteger.is(t.deleteCount)&&(void 0===t.cells||i.typedArray(t.cells,c.is))},f.create=function(e,t,n){const r={start:e,deleteCount:t};return void 0!==n&&(r.cells=n),r},(h=t.DidChangeNotebookDocumentNotification||(t.DidChangeNotebookDocumentNotification={})).method="notebookDocument/didChange",h.messageDirection=o.MessageDirection.clientToServer,h.type=new o.ProtocolNotificationType(h.method),h.registrationMethod=u.method,(d=t.DidSaveNotebookDocumentNotification||(t.DidSaveNotebookDocumentNotification={})).method="notebookDocument/didSave",d.messageDirection=o.MessageDirection.clientToServer,d.type=new o.ProtocolNotificationType(d.method),d.registrationMethod=u.method,(l=t.DidCloseNotebookDocumentNotification||(t.DidCloseNotebookDocumentNotification={})).method="notebookDocument/didClose",l.messageDirection=o.MessageDirection.clientToServer,l.type=new o.ProtocolNotificationType(l.method),l.registrationMethod=u.method},1862:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const r=n(4389),i=n(6140);var o,s,a;(a=t.WorkDoneProgress||(t.WorkDoneProgress={})).type=new r.ProgressType,a.is=function(e){return e===a.type},(s=t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})).method="window/workDoneProgress/create",s.messageDirection=i.MessageDirection.serverToClient,s.type=new i.ProtocolRequestType(s.method),(o=t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={})).method="window/workDoneProgress/cancel",o.messageDirection=i.MessageDirection.clientToServer,o.type=new i.ProtocolNotificationType(o.method)},5206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const r=n(6140);var i;(i=t.SelectionRangeRequest||(t.SelectionRangeRequest={})).method="textDocument/selectionRange",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},9434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=void 0;const r=n(6140);var i,o,s,a,c;(t.TokenFormat||(t.TokenFormat={})).Relative="relative",function(e){e.method="textDocument/semanticTokens",e.type=new r.RegistrationType(e.method)}(i=t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})),(c=t.SemanticTokensRequest||(t.SemanticTokensRequest={})).method="textDocument/semanticTokens/full",c.messageDirection=r.MessageDirection.clientToServer,c.type=new r.ProtocolRequestType(c.method),c.registrationMethod=i.method,(a=t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})).method="textDocument/semanticTokens/full/delta",a.messageDirection=r.MessageDirection.clientToServer,a.type=new r.ProtocolRequestType(a.method),a.registrationMethod=i.method,(s=t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})).method="textDocument/semanticTokens/range",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolRequestType(s.method),s.registrationMethod=i.method,(o=t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={})).method="workspace/semanticTokens/refresh",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType0(o.method)},5726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const r=n(6140);var i;(i=t.ShowDocumentRequest||(t.ShowDocumentRequest={})).method="window/showDocument",i.messageDirection=r.MessageDirection.serverToClient,i.type=new r.ProtocolRequestType(i.method)},1589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const r=n(6140);var i;(i=t.TypeDefinitionRequest||(t.TypeDefinitionRequest={})).method="textDocument/typeDefinition",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},3693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchySubtypesRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchyPrepareRequest=void 0;const r=n(6140);var i,o,s;(s=t.TypeHierarchyPrepareRequest||(t.TypeHierarchyPrepareRequest={})).method="textDocument/prepareTypeHierarchy",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolRequestType(s.method),(o=t.TypeHierarchySupertypesRequest||(t.TypeHierarchySupertypesRequest={})).method="typeHierarchy/supertypes",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method),(i=t.TypeHierarchySubtypesRequest||(t.TypeHierarchySubtypesRequest={})).method="typeHierarchy/subtypes",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method)},8744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const r=n(6140);var i,o;(o=t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})).method="workspace/workspaceFolders",o.messageDirection=r.MessageDirection.serverToClient,o.type=new r.ProtocolRequestType0(o.method),(i=t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={})).method="workspace/didChangeWorkspaceFolders",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolNotificationType(i.method)},9533:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},273:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=n(5028);i(n(5028),t),i(n(1661),t),t.createProtocolConnection=function(e,t,n,r){return(0,o.createMessageConnection)(e,t,n,r)}},6560:(e,t,n)=>{"use strict";e.exports=n(273)},1674:(e,t,n)=>{"use strict";var r,i,o,s,a,c,u,l,d,h,f,p,m,g,y,v,b,w,_,S,C,R,T,E,k,D,x,O;n.r(t),n.d(t,{AnnotatedTextEdit:()=>T,ChangeAnnotation:()=>C,ChangeAnnotationIdentifier:()=>R,CodeAction:()=>oe,CodeActionContext:()=>ie,CodeActionKind:()=>ne,CodeActionTriggerKind:()=>re,CodeDescription:()=>b,CodeLens:()=>se,Color:()=>d,ColorInformation:()=>h,ColorPresentation:()=>f,Command:()=>_,CompletionItem:()=>B,CompletionItemKind:()=>A,CompletionItemLabelDetails:()=>$,CompletionItemTag:()=>q,CompletionList:()=>W,CreateFile:()=>k,DeleteFile:()=>x,Diagnostic:()=>w,DiagnosticRelatedInformation:()=>g,DiagnosticSeverity:()=>y,DiagnosticTag:()=>v,DocumentHighlight:()=>Z,DocumentHighlightKind:()=>J,DocumentLink:()=>ce,DocumentSymbol:()=>te,DocumentUri:()=>r,EOL:()=>Te,FoldingRange:()=>m,FoldingRangeKind:()=>p,FormattingOptions:()=>ae,Hover:()=>V,InlayHint:()=>be,InlayHintKind:()=>ye,InlayHintLabelPart:()=>ve,InlineValueContext:()=>ge,InlineValueEvaluatableExpression:()=>me,InlineValueText:()=>fe,InlineValueVariableLookup:()=>pe,InsertReplaceEdit:()=>H,InsertTextFormat:()=>j,InsertTextMode:()=>U,Location:()=>u,LocationLink:()=>l,MarkedString:()=>z,MarkupContent:()=>M,MarkupKind:()=>L,OptionalVersionedTextDocumentIdentifier:()=>N,ParameterInformation:()=>K,Position:()=>a,Range:()=>c,RenameFile:()=>D,SelectionRange:()=>ue,SemanticTokenModifiers:()=>de,SemanticTokenTypes:()=>le,SemanticTokens:()=>he,SignatureInformation:()=>G,SymbolInformation:()=>X,SymbolKind:()=>Y,SymbolTag:()=>Q,TextDocument:()=>Re,TextDocumentEdit:()=>E,TextDocumentIdentifier:()=>P,TextDocumentItem:()=>F,TextEdit:()=>S,URI:()=>i,VersionedTextDocumentIdentifier:()=>I,WorkspaceChange:()=>Ce,WorkspaceEdit:()=>O,WorkspaceFolder:()=>we,WorkspaceSymbol:()=>ee,integer:()=>o,uinteger:()=>s}),function(e){e.is=function(e){return"string"==typeof e}}(r||(r={})),function(e){e.is=function(e){return"string"==typeof e}}(i||(i={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(o||(o={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(s||(s={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=s.MAX_VALUE),t===Number.MAX_VALUE&&(t=s.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&Ee.uinteger(t.line)&&Ee.uinteger(t.character)}}(a||(a={})),function(e){e.create=function(e,t,n,r){if(Ee.uinteger(e)&&Ee.uinteger(t)&&Ee.uinteger(n)&&Ee.uinteger(r))return{start:a.create(e,t),end:a.create(n,r)};if(a.is(e)&&a.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,"]"))},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&a.is(t.start)&&a.is(t.end)}}(c||(c={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&c.is(t.range)&&(Ee.string(t.uri)||Ee.undefined(t.uri))}}(u||(u={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&c.is(t.targetRange)&&Ee.string(t.targetUri)&&c.is(t.targetSelectionRange)&&(c.is(t.originSelectionRange)||Ee.undefined(t.originSelectionRange))}}(l||(l={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&Ee.numberRange(t.red,0,1)&&Ee.numberRange(t.green,0,1)&&Ee.numberRange(t.blue,0,1)&&Ee.numberRange(t.alpha,0,1)}}(d||(d={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&c.is(t.range)&&d.is(t.color)}}(h||(h={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&Ee.string(t.label)&&(Ee.undefined(t.textEdit)||S.is(t))&&(Ee.undefined(t.additionalTextEdits)||Ee.typedArray(t.additionalTextEdits,S.is))}}(f||(f={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(p||(p={})),function(e){e.create=function(e,t,n,r,i,o){var s={startLine:e,endLine:t};return Ee.defined(n)&&(s.startCharacter=n),Ee.defined(r)&&(s.endCharacter=r),Ee.defined(i)&&(s.kind=i),Ee.defined(o)&&(s.collapsedText=o),s},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&Ee.uinteger(t.startLine)&&Ee.uinteger(t.startLine)&&(Ee.undefined(t.startCharacter)||Ee.uinteger(t.startCharacter))&&(Ee.undefined(t.endCharacter)||Ee.uinteger(t.endCharacter))&&(Ee.undefined(t.kind)||Ee.string(t.kind))}}(m||(m={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return Ee.defined(t)&&u.is(t.location)&&Ee.string(t.message)}}(g||(g={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(y||(y={})),function(e){e.Unnecessary=1,e.Deprecated=2}(v||(v={})),function(e){e.is=function(e){var t=e;return Ee.objectLiteral(t)&&Ee.string(t.href)}}(b||(b={})),function(e){e.create=function(e,t,n,r,i,o){var s={range:e,message:t};return Ee.defined(n)&&(s.severity=n),Ee.defined(r)&&(s.code=r),Ee.defined(i)&&(s.source=i),Ee.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t,n=e;return Ee.defined(n)&&c.is(n.range)&&Ee.string(n.message)&&(Ee.number(n.severity)||Ee.undefined(n.severity))&&(Ee.integer(n.code)||Ee.string(n.code)||Ee.undefined(n.code))&&(Ee.undefined(n.codeDescription)||Ee.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(Ee.string(n.source)||Ee.undefined(n.source))&&(Ee.undefined(n.relatedInformation)||Ee.typedArray(n.relatedInformation,g.is))}}(w||(w={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return Ee.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return Ee.defined(t)&&Ee.string(t.title)&&Ee.string(t.command)}}(_||(_={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&Ee.string(t.newText)&&c.is(t.range)}}(S||(S={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&Ee.string(t.label)&&(Ee.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Ee.string(t.description)||void 0===t.description)}}(C||(C={})),function(e){e.is=function(e){var t=e;return Ee.string(t)}}(R||(R={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return S.is(t)&&(C.is(t.annotationId)||R.is(t.annotationId))}}(T||(T={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Ee.defined(t)&&N.is(t.textDocument)&&Array.isArray(t.edits)}}(E||(E={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&Ee.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Ee.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ee.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||R.is(t.annotationId))}}(k||(k={})),function(e){e.create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&Ee.string(t.oldUri)&&Ee.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Ee.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ee.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||R.is(t.annotationId))}}(D||(D={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&Ee.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Ee.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Ee.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||R.is(t.annotationId))}}(x||(x={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return Ee.string(e.kind)?k.is(e)||D.is(e)||x.is(e):E.is(e)})))}}(O||(O={}));var P,I,N,F,L,M,A,j,q,H,U,$,B,W,z,V,K,G,J,Z,Y,Q,X,ee,te,ne,re,ie,oe,se,ae,ce,ue,le,de,he,fe,pe,me,ge,ye,ve,be,we,_e=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=S.insert(e,t):R.is(n)?(i=n,r=T.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=T.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=S.replace(e,t):R.is(n)?(i=n,r=T.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=T.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=S.del(e):R.is(t)?(r=t,n=T.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=T.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Se=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(R.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id ".concat(n," is already in use."));if(void 0===t)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),Ce=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Se(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(E.is(e)){var n=new _e(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new _e(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(N.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new _e(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new _e(i),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new Se,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(C.is(t)||R.is(t)?r=t:n=t,void 0===r?i=k.create(e,n):(o=R.is(r)?r:this._changeAnnotations.manage(r),i=k.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,s;if(C.is(n)||R.is(n)?i=n:r=n,void 0===i?o=D.create(e,t,r):(s=R.is(i)?i:this._changeAnnotations.manage(i),o=D.create(e,t,r,s)),this._workspaceEdit.documentChanges.push(o),void 0!==s)return s},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(C.is(t)||R.is(t)?r=t:n=t,void 0===r?i=x.create(e,n):(o=R.is(r)?r:this._changeAnnotations.manage(r),i=x.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Ee.defined(t)&&Ee.string(t.uri)}}(P||(P={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Ee.defined(t)&&Ee.string(t.uri)&&Ee.integer(t.version)}}(I||(I={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Ee.defined(t)&&Ee.string(t.uri)&&(null===t.version||Ee.integer(t.version))}}(N||(N={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return Ee.defined(t)&&Ee.string(t.uri)&&Ee.string(t.languageId)&&Ee.integer(t.version)&&Ee.string(t.text)}}(F||(F={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(L||(L={})),function(e){e.is=function(e){var t=e;return Ee.objectLiteral(e)&&L.is(t.kind)&&Ee.string(t.value)}}(M||(M={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(A||(A={})),function(e){e.PlainText=1,e.Snippet=2}(j||(j={})),function(e){e.Deprecated=1}(q||(q={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&Ee.string(t.newText)&&c.is(t.insert)&&c.is(t.replace)}}(H||(H={})),function(e){e.asIs=1,e.adjustIndentation=2}(U||(U={})),function(e){e.is=function(e){var t=e;return t&&(Ee.string(t.detail)||void 0===t.detail)&&(Ee.string(t.description)||void 0===t.description)}}($||($={})),function(e){e.create=function(e){return{label:e}}}(B||(B={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(W||(W={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return Ee.string(t)||Ee.objectLiteral(t)&&Ee.string(t.language)&&Ee.string(t.value)}}(z||(z={})),function(e){e.is=function(e){var t=e;return!!t&&Ee.objectLiteral(t)&&(M.is(t.contents)||z.is(t.contents)||Ee.typedArray(t.contents,z.is))&&(void 0===e.range||c.is(e.range))}}(V||(V={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(K||(K={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return Ee.defined(t)&&(i.documentation=t),Ee.defined(n)?i.parameters=n:i.parameters=[],i}}(G||(G={})),function(e){e.Text=1,e.Read=2,e.Write=3}(J||(J={})),function(e){e.create=function(e,t){var n={range:e};return Ee.number(t)&&(n.kind=t),n}}(Z||(Z={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(Y||(Y={})),function(e){e.Deprecated=1}(Q||(Q={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(X||(X={})),function(e){e.create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}}}(ee||(ee={})),function(e){e.create=function(e,t,n,r,i,o){var s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&Ee.string(t.name)&&Ee.number(t.kind)&&c.is(t.range)&&c.is(t.selectionRange)&&(void 0===t.detail||Ee.string(t.detail))&&(void 0===t.deprecated||Ee.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(te||(te={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(ne||(ne={})),function(e){e.Invoked=1,e.Automatic=2}(re||(re={})),function(e){e.create=function(e,t,n){var r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},e.is=function(e){var t=e;return Ee.defined(t)&&Ee.typedArray(t.diagnostics,w.is)&&(void 0===t.only||Ee.typedArray(t.only,Ee.string))&&(void 0===t.triggerKind||t.triggerKind===re.Invoked||t.triggerKind===re.Automatic)}}(ie||(ie={})),function(e){e.create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):_.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&Ee.string(t.title)&&(void 0===t.diagnostics||Ee.typedArray(t.diagnostics,w.is))&&(void 0===t.kind||Ee.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||_.is(t.command))&&(void 0===t.isPreferred||Ee.boolean(t.isPreferred))&&(void 0===t.edit||O.is(t.edit))}}(oe||(oe={})),function(e){e.create=function(e,t){var n={range:e};return Ee.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return Ee.defined(t)&&c.is(t.range)&&(Ee.undefined(t.command)||_.is(t.command))}}(se||(se={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Ee.defined(t)&&Ee.uinteger(t.tabSize)&&Ee.boolean(t.insertSpaces)}}(ae||(ae={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return Ee.defined(t)&&c.is(t.range)&&(Ee.undefined(t.target)||Ee.string(t.target))}}(ce||(ce={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return Ee.objectLiteral(n)&&c.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ue||(ue={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(le||(le={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(de||(de={})),function(e){e.is=function(e){var t=e;return Ee.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(he||(he={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&Ee.string(t.text)}}(fe||(fe={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&Ee.boolean(t.caseSensitiveLookup)&&(Ee.string(t.variableName)||void 0===t.variableName)}}(pe||(pe={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&(Ee.string(t.expression)||void 0===t.expression)}}(me||(me={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){var t=e;return Ee.defined(t)&&c.is(e.stoppedLocation)}}(ge||(ge={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(ye||(ye={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&(void 0===t.tooltip||Ee.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.location||u.is(t.location))&&(void 0===t.command||_.is(t.command))}}(ve||(ve={})),function(e){e.create=function(e,t,n){var r={position:e,label:t};return void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return Ee.objectLiteral(t)&&a.is(t.position)&&(Ee.string(t.label)||Ee.typedArray(t.label,ve.is))&&(void 0===t.kind||ye.is(t.kind))&&void 0===t.textEdits||Ee.typedArray(t.textEdits,S.is)&&(void 0===t.tooltip||Ee.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.paddingLeft||Ee.boolean(t.paddingLeft))&&(void 0===t.paddingRight||Ee.boolean(t.paddingRight))}}(be||(be={})),function(e){e.is=function(e){var t=e;return Ee.objectLiteral(t)&&i.is(t.uri)&&Ee.string(t.name)}}(we||(we={}));var Re,Te=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);for(var s=0,a=0,c=0;s<i.length&&a<o.length;){var u=n(i[s],o[a]);e[c++]=u<=0?i[s++]:o[a++]}for(;s<i.length;)e[c++]=i[s++];for(;a<o.length;)e[c++]=o[a++];return e}e.create=function(e,t,n,r){return new ke(e,t,n,r)},e.is=function(e){var t=e;return!!(Ee.defined(t)&&Ee.string(t.uri)&&(Ee.undefined(t.languageId)||Ee.string(t.languageId))&&Ee.uinteger(t.lineCount)&&Ee.func(t.getText)&&Ee.func(t.positionAt)&&Ee.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),i=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length,s=i.length-1;s>=0;s--){var a=i[s],c=e.offsetAt(a.range.start),u=e.offsetAt(a.range.end);if(!(u<=o))throw new Error("Overlapping edit");r=r.substring(0,c)+a.newText+r.substring(u,r.length),o=c}return r}}(Re||(Re={}));var Ee,ke=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return a.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return a.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Ee||(Ee={}))},2806:(e,t,n)=>{e.exports=a,a.sync=function(e){if(c(e))return e;var t=(process.env.PATH||"").split(o),n=[""];"win32"===process.platform&&(t.push(process.cwd()),n=(process.env.PATHEXT||".EXE").split(o),-1!==e.indexOf(".")&&n.unshift(""));for(var a=0,u=t.length;a<u;a++)for(var l=i.join(t[a],e),d=0,h=n.length;d<h;d++){var f,p=l+n[d];try{f=s.statSync(p)}catch(e){}if(f&&f.isFile()&&r(f.mode,f.uid,f.gid))return p}throw new Error("not found: "+e)};var r,i=n(1017),o="win32"===process.platform?";":":",s=n(7147);function a(e,t){if(c(e))return t(null,e);var n=(process.env.PATH||"").split(o),a=[""];"win32"===process.platform&&(n.push(process.cwd()),a=(process.env.PATHEXT||".EXE").split(o),-1!==e.indexOf(".")&&a.unshift("")),function o(c,u){if(c===u)return t(new Error("not found: "+e));var l=i.resolve(n[c],e);!function e(n,i){if(n===i)return o(c+1,u);var d=a[n];s.stat(l+d,(function(o,s){return!o&&s&&s.isFile()&&r(s.mode,s.uid,s.gid)?t(null,l+d):e(n+1,i)}))}(0,a.length)}(0,n.length)}r="win32"==process.platform?function(){return!0}:function(e,t,n){return 1&e||8&e&&process.getgid&&n===process.getgid()||8&e&&process.getuid&&0===process.getuid()||64&e&&process.getuid&&t===process.getuid()||64&e&&process.getuid&&0===process.getuid()};var c="win32"===process.platform?function(e){if(u(e))return!0;var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?([\\\/])?/.exec(e),n=t[1]||"",r=n&&":"!==n.charAt(1);return!!t[2]||r}:u;function u(e){return"/"===e.charAt(0)||""===e}},1283:(e,t,n)=>{var r=n(3837),i=n(1017),o=n(2081).spawn,s="HKLM",a="HKCU",c="HKCR",u="HKCC",l=[s,a,c,"HKU",u],d="REG_SZ",h="REG_MULTI_SZ",f="REG_EXPAND_SZ",p="REG_DWORD",m="REG_QWORD",g="REG_BINARY",y="REG_NONE",v=[d,h,f,p,m,g,y],b=/(\\[a-zA-Z0-9_\s]+)*/,w=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,_=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function S(e,t){if(!(this instanceof S))return new S(e,t);Error.captureStackTrace(this,S),this.__defineGetter__("name",(function(){return S.name})),this.__defineGetter__("message",(function(){return e})),this.__defineGetter__("code",(function(){return t}))}function C(e){var t={stdout:"",stderr:""};return e.stdout.on("data",(function(e){t.stdout+=e.toString()})),e.stderr.on("data",(function(e){t.stderr+=e.toString()})),t}function R(e,t,n){var i=n.stdout.trim(),o=n.stderr.trim();return new S(r.format("%s command exited with code %d:\n%s\n%s",e,t,i,o),t)}function T(e,t){t&&e.push("/reg:"+function(e){if("x64"==e)return"64";if("x86"==e)return"32";throw new Error("illegal architecture: "+e+" (use x86 or x64)")}(t))}function E(){return"win32"===process.platform?i.join(process.env.windir,"system32","reg.exe"):"REG"}function k(e,t,n,r,i,o,s){if(!(this instanceof k))return new k(e,t,n,r,i,o,s);var a=e,c=t,u=n,l=r,d=i,h=o,f=s;this.__defineGetter__("host",(function(){return a})),this.__defineGetter__("hive",(function(){return c})),this.__defineGetter__("key",(function(){return u})),this.__defineGetter__("name",(function(){return l})),this.__defineGetter__("type",(function(){return d})),this.__defineGetter__("value",(function(){return h})),this.__defineGetter__("arch",(function(){return f}))}function D(e){if(!(this instanceof D))return new D(e);var t=e||{},n=""+(t.host||""),r=""+(t.hive||s),i=""+(t.key||""),o=t.arch||null;if(this.__defineGetter__("host",(function(){return n})),this.__defineGetter__("hive",(function(){return r})),this.__defineGetter__("key",(function(){return i})),this.__defineGetter__("path",(function(){return(0==n.length?"":"\\\\"+n+"\\")+r+i})),this.__defineGetter__("arch",(function(){return o})),this.__defineGetter__("parent",(function(){var e=i.lastIndexOf("\\");return new D({host:this.host,hive:this.hive,key:-1==e?"":i.substring(0,e),arch:this.arch})})),-1==l.indexOf(r))throw new Error("illegal hive specified.");if(!b.test(i))throw new Error("illegal key specified.");if(o&&"x64"!=o&&"x86"!=o)throw new Error("illegal architecture specified (use x86 or x64)")}r.inherits(S,Error),r.inherits(k,Object),D.HKLM=s,D.HKCU=a,D.HKCR=c,D.HKU="HKU",D.HKCC=u,D.HIVES=l,D.REG_SZ=d,D.REG_MULTI_SZ=h,D.REG_EXPAND_SZ=f,D.REG_DWORD=p,D.REG_QWORD=m,D.REG_BINARY=g,D.REG_NONE=y,D.REG_TYPES=v,D.DEFAULT_VALUE="",D.prototype.values=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];T(t,this.arch);var n=o(E(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",i=this,s=null,a=C(n);return n.on("close",(function(t){if(!s)if(0!==t)e(R("QUERY",t,a),null);else{for(var n=[],o=[],c=r.split("\n"),u=0,l=0,d=c.length;l<d;l++){var h=c[l].trim();h.length>0&&(0!=u&&n.push(h),++u)}for(l=0,d=n.length;l<d;l++){var f,p,m,g=_.exec(n[l]);g&&(f=g[1].trim(),p=g[2].trim(),m=g[3],o.push(new k(i.host,i.hive,i.key,f,p,m,i.arch)))}e(null,o)}})),n.stdout.on("data",(function(e){r+=e.toString()})),n.on("error",(function(t){s=t,e(t)})),this},D.prototype.keys=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];T(t,this.arch);var n=o(E(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",i=this,s=null,a=C(n);return n.on("close",(function(t){s||0!==t&&e(R("QUERY",t,a),null)})),n.stdout.on("data",(function(e){r+=e.toString()})),n.stdout.on("end",(function(){for(var t=[],n=[],o=r.split("\n"),s=0,a=o.length;s<a;s++){var c=o[s].trim();c.length>0&&t.push(c)}for(s=0,a=t.length;s<a;s++){var u,l=w.exec(t[s]);l&&(l[1],(u=l[2])&&u!==i.key&&n.push(new D({host:i.host,hive:i.hive,key:u,arch:i.arch})))}e(null,n)})),n.on("error",(function(t){s=t,e(t)})),this},D.prototype.get=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var n=["QUERY",this.path];""==e?n.push("/ve"):n=n.concat(["/v",e]),T(n,this.arch);var r=o(E(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",s=this,a=null,c=C(r);return r.on("close",(function(e){if(!a)if(0!==e)t(R("QUERY",e,c),null);else{for(var n=[],r=null,o=i.split("\n"),u=0,l=0,d=o.length;l<d;l++){var h=o[l].trim();h.length>0&&(0!=u&&n.push(h),++u)}var f,p,m,g=n[n.length-1]||"",y=_.exec(g);y&&(f=y[1].trim(),p=y[2].trim(),m=y[3],r=new k(s.host,s.hive,s.key,f,p,m,s.arch)),t(null,r)}})),r.stdout.on("data",(function(e){i+=e.toString()})),r.on("error",(function(e){a=e,t(e)})),this},D.prototype.set=function(e,t,n,r){if("function"!=typeof r)throw new TypeError("must specify a callback");if(-1==v.indexOf(t))throw Error("illegal type specified.");var i=["ADD",this.path];""==e?i.push("/ve"):i=i.concat(["/v",e]),T(i=i.concat(["/t",t,"/d",n,"/f"]),this.arch);var s=o(E(),i,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),a=null,c=C(s);return s.on("close",(function(e){a||r(0!==e?R("ADD",e,c):null)})),s.stdout.on("data",(function(e){})),s.on("error",(function(e){a=e,r(e)})),this},D.prototype.remove=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var n=e?["DELETE",this.path,"/f","/v",e]:["DELETE",this.path,"/f","/ve"];T(n,this.arch);var r=o(E(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,s=C(r);return r.on("close",(function(e){i||(0!==e?t(R("DELETE",e,s),null):t(null))})),r.stdout.on("data",(function(e){})),r.on("error",(function(e){i=e,t(e)})),this},D.prototype.clear=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f","/va"];T(t,this.arch);var n=o(E(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=C(n);return n.on("close",(function(t){r||(0!==t?e(R("DELETE",t,i),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){r=t,e(t)})),this},D.prototype.erase=D.prototype.clear,D.prototype.destroy=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f"];T(t,this.arch);var n=o(E(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=C(n);return n.on("close",(function(t){r||(0!==t?e(R("DELETE",t,i),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){r=t,e(t)})),this},D.prototype.create=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["ADD",this.path,"/f"];T(t,this.arch);var n=o(E(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=C(n);return n.on("close",(function(t){r||(0!==t?e(R("ADD",t,i),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){r=t,e(t)})),this},D.prototype.keyExists=function(e){return this.values((function(t,n){if(t)return 1==t.code?e(null,!1):e(t);e(null,!0)})),this},D.prototype.valueExists=function(e,t){return this.get(e,(function(e,n){if(e)return 1==e.code?t(null,!1):t(e);t(null,!0)})),this},e.exports=D},2479:e=>{e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},7529:e=>{e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},9602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4411:(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;var o,a,c,u,l=[];for(r=0;i&&r<t;r++)l.push(i.value),i=this.removeNode(i);for(null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev),r=0;r<n.length;r++)o=this,a=i,c=n[r],u=void 0,null===(u=a===o.head?new s(c,null,a,o):new s(c,a,a.next,o)).next&&(o.tail=u),null===u.prev&&(o.head=u),o.length++,i=u;return l},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(9602)(r)}catch(e){}},7766:(e,t,n)=>{var r,i=n(7147),o=n(9796),s=n(8913),a=n(2779),c=n(3837),u=n(2361).EventEmitter,l=n(2781).Transform,d=n(2781).PassThrough,h=n(2781).Writable;function f(e,t,n){"function"==typeof t&&(n=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!1),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==n&&(n=k),i.fstat(e,(function(r,i){if(r)return n(r);p(s.createFromFd(e,{autoClose:!0}),i.size,t,n)}))}function p(e,t,n,i){"function"==typeof n&&(i=n,n=null),null==n&&(n={}),null==n.autoClose&&(n.autoClose=!0),null==n.lazyEntries&&(n.lazyEntries=!1),null==n.decodeStrings&&(n.decodeStrings=!0);var o=!!n.decodeStrings;if(null==n.validateEntrySizes&&(n.validateEntrySizes=!0),null==n.strictFileNames&&(n.strictFileNames=!1),null==i&&(i=k),"number"!=typeof t)throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var s=Math.min(65557,t),a=r(s),c=t-a.length;_(e,a,0,s,c,(function(u){if(u)return i(u);for(var l=s-22;l>=0;l-=1)if(101010256===a.readUInt32LE(l)){var d=a.slice(l),h=d.readUInt16LE(4);if(0!==h)return i(new Error("multi-disk zip files are not supported: found disk number: "+h));var f=d.readUInt16LE(10),p=d.readUInt32LE(16),g=d.readUInt16LE(20),y=d.length-22;if(g!==y)return i(new Error("invalid comment length. expected: "+y+". found: "+g));var v=o?T(d,22,d.length,!1):d.slice(22);if(65535!==f&&4294967295!==p)return i(null,new m(e,p,t,f,v,n.autoClose,n.lazyEntries,o,n.validateEntrySizes,n.strictFileNames));var b=r(20),w=c+l-b.length;return void _(e,b,0,b.length,w,(function(s){if(s)return i(s);if(117853008!==b.readUInt32LE(0))return i(new Error("invalid zip64 end of central directory locator signature"));var a=E(b,8),c=r(56);_(e,c,0,c.length,a,(function(r){return r?i(r):101075792!==c.readUInt32LE(0)?i(new Error("invalid zip64 end of central directory record signature")):(f=E(c,32),p=E(c,48),i(null,new m(e,p,t,f,v,n.autoClose,n.lazyEntries,o,n.validateEntrySizes,n.strictFileNames)))}))}))}i(new Error("end of central directory record signature not found"))}))}function m(e,t,n,r,i,o,s,a,c,l){var d=this;u.call(d),d.reader=e,d.reader.on("error",(function(e){y(d,e)})),d.reader.once("close",(function(){d.emit("close")})),d.readEntryCursor=t,d.fileSize=n,d.entryCount=r,d.comment=i,d.entriesRead=0,d.autoClose=!!o,d.lazyEntries=!!s,d.decodeStrings=!!a,d.validateEntrySizes=!!c,d.strictFileNames=!!l,d.isOpen=!0,d.emittedError=!1,d.lazyEntries||d._readEntry()}function g(e,t){e.autoClose&&e.close(),y(e,t)}function y(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function v(){}function b(e,t){return new Date(1980+(e>>9&127),(e>>5&15)-1,31&e,t>>11&31,t>>5&63,2*(31&t),0)}function w(e){return-1!==e.indexOf("\\")?"invalid characters in fileName: "+e:/^[a-zA-Z]:/.test(e)||/^\//.test(e)?"absolute path: "+e:-1!==e.split("/").indexOf("..")?"invalid relative path: "+e:null}function _(e,t,n,i,o,s){if(0===i)return setImmediate((function(){s(null,r(0))}));e.read(t,n,i,o,(function(e,t){return e?s(e):t<i?s(new Error("unexpected EOF")):void s()}))}function S(e){l.call(this),this.actualByteCount=0,this.expectedByteCount=e}function C(){u.call(this),this.refCount=0}function R(e){d.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}function T(e,t,n,r){if(r)return e.toString("utf8",t,n);for(var i="",o=t;o<n;o++)i+="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "[e[o]];return i}function E(e,t){var n=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+n}function k(e){if(e)throw e}t.open=function(e,t,n){"function"==typeof t&&(n=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!0),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==n&&(n=k),i.open(e,"r",(function(e,r){if(e)return n(e);f(r,t,(function(e,t){e&&i.close(r,k),n(e,t)}))}))},t.fromFd=f,t.fromBuffer=function(e,t,n){"function"==typeof t&&(n=t,t=null),null==t&&(t={}),t.autoClose=!1,null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),p(s.createFromBuffer(e,{maxChunkSize:65536}),e.length,t,n)},t.fromRandomAccessReader=p,t.dosDateTimeToDate=b,t.validateFileName=w,t.ZipFile=m,t.Entry=v,t.RandomAccessReader=C,c.inherits(m,u),m.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},m.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()},m.prototype._readEntry=function(){var e=this;if(e.entryCount!==e.entriesRead){if(!e.emittedError){var t=r(46);_(e.reader,t,0,t.length,e.readEntryCursor,(function(n){if(n)return g(e,n);if(!e.emittedError){var i=new v,o=t.readUInt32LE(0);if(33639248!==o)return g(e,new Error("invalid central directory file header signature: 0x"+o.toString(16)));if(i.versionMadeBy=t.readUInt16LE(4),i.versionNeededToExtract=t.readUInt16LE(6),i.generalPurposeBitFlag=t.readUInt16LE(8),i.compressionMethod=t.readUInt16LE(10),i.lastModFileTime=t.readUInt16LE(12),i.lastModFileDate=t.readUInt16LE(14),i.crc32=t.readUInt32LE(16),i.compressedSize=t.readUInt32LE(20),i.uncompressedSize=t.readUInt32LE(24),i.fileNameLength=t.readUInt16LE(28),i.extraFieldLength=t.readUInt16LE(30),i.fileCommentLength=t.readUInt16LE(32),i.internalFileAttributes=t.readUInt16LE(36),i.externalFileAttributes=t.readUInt32LE(38),i.relativeOffsetOfLocalHeader=t.readUInt32LE(42),64&i.generalPurposeBitFlag)return g(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46,t=r(i.fileNameLength+i.extraFieldLength+i.fileCommentLength),_(e.reader,t,0,t.length,e.readEntryCursor,(function(n){if(n)return g(e,n);if(!e.emittedError){var o=0!=(2048&i.generalPurposeBitFlag);i.fileName=e.decodeStrings?T(t,0,i.fileNameLength,o):t.slice(0,i.fileNameLength);var s=i.fileNameLength+i.extraFieldLength,c=t.slice(i.fileNameLength,s);i.extraFields=[];for(var u=0;u<c.length-3;){var l=c.readUInt16LE(u+0),d=c.readUInt16LE(u+2),h=u+4,f=h+d;if(f>c.length)return g(e,new Error("extra field length exceeds extra field buffer size"));var p=r(d);c.copy(p,0,h,f),i.extraFields.push({id:l,data:p}),u=f}if(i.fileComment=e.decodeStrings?T(t,s,s+i.fileCommentLength,o):t.slice(s,s+i.fileCommentLength),i.comment=i.fileComment,e.readEntryCursor+=t.length,e.entriesRead+=1,4294967295===i.uncompressedSize||4294967295===i.compressedSize||4294967295===i.relativeOffsetOfLocalHeader){var m=null;for(u=0;u<i.extraFields.length;u++)if(1===(v=i.extraFields[u]).id){m=v.data;break}if(null==m)return g(e,new Error("expected zip64 extended information extra field"));var y=0;if(4294967295===i.uncompressedSize){if(y+8>m.length)return g(e,new Error("zip64 extended information extra field does not include uncompressed size"));i.uncompressedSize=E(m,y),y+=8}if(4294967295===i.compressedSize){if(y+8>m.length)return g(e,new Error("zip64 extended information extra field does not include compressed size"));i.compressedSize=E(m,y),y+=8}if(4294967295===i.relativeOffsetOfLocalHeader){if(y+8>m.length)return g(e,new Error("zip64 extended information extra field does not include relative header offset"));i.relativeOffsetOfLocalHeader=E(m,y),y+=8}}if(e.decodeStrings)for(u=0;u<i.extraFields.length;u++){var v;if(28789===(v=i.extraFields[u]).id){if(v.data.length<6)continue;if(1!==v.data.readUInt8(0))continue;var b=v.data.readUInt32LE(1);if(a.unsigned(t.slice(0,i.fileNameLength))!==b)continue;i.fileName=T(v.data,5,v.data.length,!0);break}}if(e.validateEntrySizes&&0===i.compressionMethod){var _=i.uncompressedSize;if(i.isEncrypted()&&(_+=12),i.compressedSize!==_){var S="compressed/uncompressed size mismatch for stored file: "+i.compressedSize+" != "+i.uncompressedSize;return g(e,new Error(S))}}if(e.decodeStrings){e.strictFileNames||(i.fileName=i.fileName.replace(/\\/g,"/"));var C=w(i.fileName,e.validateFileNameOptions);if(null!=C)return g(e,new Error(C))}e.emit("entry",i),e.lazyEntries||e._readEntry()}}))}}))}}else setImmediate((function(){e.autoClose&&e.close(),e.emittedError||e.emit("end")}))},m.prototype.openReadStream=function(e,t,n){var i=this,s=0,a=e.compressedSize;if(null==n)n=t,t={};else{if(null!=t.decrypt){if(!e.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(!1!==t.decrypt)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()&&!1!==t.decompress)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(null!=t.decompress){if(!e.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!1!==t.decompress&&!0!==t.decompress)throw new Error("invalid options.decompress value: "+t.decompress)}if(null!=t.start||null!=t.end){if(e.isCompressed()&&!1!==t.decompress)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(e.isEncrypted()&&!1!==t.decrypt)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(null!=t.start){if((s=t.start)<0)throw new Error("options.start < 0");if(s>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(null!=t.end){if((a=t.end)<0)throw new Error("options.end < 0");if(a>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(a<s)throw new Error("options.end < options.start")}}if(!i.isOpen)return n(new Error("closed"));if(e.isEncrypted()&&!1!==t.decrypt)return n(new Error("entry is encrypted, and options.decrypt !== false"));i.reader.ref();var c=r(30);_(i.reader,c,0,c.length,e.relativeOffsetOfLocalHeader,(function(r){try{if(r)return n(r);var u=c.readUInt32LE(0);if(67324752!==u)return n(new Error("invalid local file header signature: 0x"+u.toString(16)));var l,d=c.readUInt16LE(26),h=c.readUInt16LE(28),f=e.relativeOffsetOfLocalHeader+c.length+d+h;if(0===e.compressionMethod)l=!1;else{if(8!==e.compressionMethod)return n(new Error("unsupported compression method: "+e.compressionMethod));l=null==t.decompress||t.decompress}var p=f,m=p+e.compressedSize;if(0!==e.compressedSize&&m>i.fileSize)return n(new Error("file data overflows file bounds: "+p+" + "+e.compressedSize+" > "+i.fileSize));var g=i.reader.createReadStream({start:p+s,end:p+a}),y=g;if(l){var v=!1,b=o.createInflateRaw();g.on("error",(function(e){setImmediate((function(){v||b.emit("error",e)}))})),g.pipe(b),i.validateEntrySizes?(y=new S(e.uncompressedSize),b.on("error",(function(e){setImmediate((function(){v||y.emit("error",e)}))})),b.pipe(y)):y=b,y.destroy=function(){v=!0,b!==y&&b.unpipe(y),g.unpipe(b),g.destroy()}}n(null,y)}finally{i.reader.unref()}}))},v.prototype.getLastModDate=function(){return b(this.lastModFileDate,this.lastModFileTime)},v.prototype.isEncrypted=function(){return 0!=(1&this.generalPurposeBitFlag)},v.prototype.isCompressed=function(){return 8===this.compressionMethod},c.inherits(S,l),S.prototype._transform=function(e,t,n){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount){var r="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return n(new Error(r))}n(null,e)},S.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()},c.inherits(C,u),C.prototype.ref=function(){this.refCount+=1},C.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.close((function(t){if(t)return e.emit("error",t);e.emit("close")}))}},C.prototype.createReadStream=function(e){var t=e.start,n=e.end;if(t===n){var r=new d;return setImmediate((function(){r.end()})),r}var i=this._readStreamForRange(t,n),o=!1,s=new R(this);i.on("error",(function(e){setImmediate((function(){o||s.emit("error",e)}))})),s.destroy=function(){i.unpipe(s),s.unref(),i.destroy()};var a=new S(n-t);return s.on("error",(function(e){setImmediate((function(){o||a.emit("error",e)}))})),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},i.pipe(s).pipe(a)},C.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")},C.prototype.read=function(e,t,n,r,i){var o=this.createReadStream({start:r,end:r+n}),s=new h,a=0;s._write=function(n,r,i){n.copy(e,t+a,0,n.length),a+=n.length,i()},s.on("finish",i),o.on("error",(function(e){i(e)})),o.pipe(s)},C.prototype.close=function(e){setImmediate(e)},c.inherits(R,d),R.prototype._flush=function(e){this.unref(),e()},R.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())},r="function"==typeof Buffer.allocUnsafe?function(e){return Buffer.allocUnsafe(e)}:function(e){return new Buffer(e)}},2958:(e,t,n)=>{var r=n(7147),i=n(2781).Transform,o=n(2781).PassThrough,s=n(9796),a=n(3837),c=n(2361).EventEmitter,u=n(2779);function l(){this.outputStream=new o,this.entries=[],this.outputStreamCursor=0,this.ended=!1,this.allDone=!1,this.forceZip64Eocd=!1}t.ZipFile=l,t.dateToDosDateTime=D,a.inherits(l,c),l.prototype.addFile=function(e,t,n){var i=this;t=v(t,!1),null==n&&(n={});var o=new w(t,!1,n);i.entries.push(o),r.stat(e,(function(t,s){return t?i.emit("error",t):s.isFile()?(o.uncompressedSize=s.size,null==n.mtime&&o.setLastModDate(s.mtime),null==n.mode&&o.setFileAttributesMode(s.mode),o.setFileDataPumpFunction((function(){var t=r.createReadStream(e);o.state=w.FILE_DATA_IN_PROGRESS,t.on("error",(function(e){i.emit("error",e)})),f(i,o,t)})),void p(i)):i.emit("error",new Error("not a file: "+e))}))},l.prototype.addReadStream=function(e,t,n){var r=this;null==n&&(n={});var i=new w(t=v(t,!1),!1,n);r.entries.push(i),i.setFileDataPumpFunction((function(){i.state=w.FILE_DATA_IN_PROGRESS,f(r,i,e)})),p(r)},l.prototype.addBuffer=function(e,t,n){var r=this;if(t=v(t,!1),e.length>1073741823)throw new Error("buffer too large: "+e.length+" > 1073741823");if(null==n&&(n={}),null!=n.size)throw new Error("options.size not allowed");var i=new w(t,!1,n);function o(e){i.compressedSize=e.length,i.setFileDataPumpFunction((function(){h(r,e),h(r,i.getDataDescriptor()),i.state=w.FILE_DATA_DONE,setImmediate((function(){p(r)}))})),p(r)}i.uncompressedSize=e.length,i.crc32=u.unsigned(e),i.crcAndFileSizeKnown=!0,r.entries.push(i),i.compress?s.deflateRaw(e,(function(e,t){o(t)})):o(e)},l.prototype.addEmptyDirectory=function(e,t){var n=this;if(e=v(e,!0),null==t&&(t={}),null!=t.size)throw new Error("options.size not allowed");if(null!=t.compress)throw new Error("options.compress not allowed");var r=new w(e,!0,t);n.entries.push(r),r.setFileDataPumpFunction((function(){h(n,r.getDataDescriptor()),r.state=w.FILE_DATA_DONE,p(n)})),p(n)};var d=L([80,75,5,6]);function h(e,t){e.outputStream.write(t),e.outputStreamCursor+=t.length}function f(e,t,n){var r=new P,i=new O,a=t.compress?new s.DeflateRaw:new o,c=new O;n.pipe(r).pipe(i).pipe(a).pipe(c).pipe(e.outputStream,{end:!1}),c.on("end",(function(){if(t.crc32=r.crc32,null==t.uncompressedSize)t.uncompressedSize=i.byteCount;else if(t.uncompressedSize!==i.byteCount)return e.emit("error",new Error("file data stream has unexpected number of bytes"));t.compressedSize=c.byteCount,e.outputStreamCursor+=t.compressedSize,h(e,t.getDataDescriptor()),t.state=w.FILE_DATA_DONE,p(e)}))}function p(e){if(!e.allDone){if(e.ended&&null!=e.finalSizeCallback){var t=function(e){for(var t=0,n=0,r=0;r<e.entries.length;r++){var i=e.entries[r];if(i.compress)return-1;if(i.state>=w.READY_TO_PUMP_FILE_DATA){if(null==i.uncompressedSize)return-1}else if(null==i.uncompressedSize)return null;i.relativeOffsetOfLocalHeader=t;var o=i.useZip64Format();t+=_+i.utf8FileName.length,t+=i.uncompressedSize,i.crcAndFileSizeKnown||(t+=o?T:R),n+=E+i.utf8FileName.length+i.fileComment.length,o&&(n+=k)}var s=0;return(e.forceZip64Eocd||e.entries.length>=65535||n>=65535||t>=4294967295)&&(s+=m+g),t+n+(s+=y+e.comment.length)}(e);null!=t&&(e.finalSizeCallback(t),e.finalSizeCallback=null)}var n=function(){for(var t=0;t<e.entries.length;t++){var n=e.entries[t];if(n.state<w.FILE_DATA_DONE)return n}return null}();if(null!=n){if(n.state<w.READY_TO_PUMP_FILE_DATA)return;if(n.state===w.FILE_DATA_IN_PROGRESS)return;n.relativeOffsetOfLocalHeader=e.outputStreamCursor;var r=n.getLocalFileHeader();h(e,r),n.doFileDataPump()}else e.ended&&(e.offsetOfStartOfCentralDirectory=e.outputStreamCursor,e.entries.forEach((function(t){var n=t.getCentralDirectoryRecord();h(e,n)})),h(e,function(e,t){var n=!1,r=e.entries.length;(e.forceZip64Eocd||e.entries.length>=65535)&&(r=65535,n=!0);var i=e.outputStreamCursor-e.offsetOfStartOfCentralDirectory,o=i;(e.forceZip64Eocd||i>=4294967295)&&(o=4294967295,n=!0);var s=e.offsetOfStartOfCentralDirectory;(e.forceZip64Eocd||e.offsetOfStartOfCentralDirectory>=4294967295)&&(s=4294967295,n=!0);var a=F(y+e.comment.length);if(a.writeUInt32LE(101010256,0),a.writeUInt16LE(0,4),a.writeUInt16LE(0,6),a.writeUInt16LE(r,8),a.writeUInt16LE(r,10),a.writeUInt32LE(o,12),a.writeUInt32LE(s,16),a.writeUInt16LE(e.comment.length,20),e.comment.copy(a,22),!n)return a;var c=F(m);c.writeUInt32LE(101075792,0),x(c,m-12,4),c.writeUInt16LE(C,12),c.writeUInt16LE(S,14),c.writeUInt32LE(0,16),c.writeUInt32LE(0,20),x(c,e.entries.length,24),x(c,e.entries.length,32),x(c,i,40),x(c,e.offsetOfStartOfCentralDirectory,48);var u=F(g);return u.writeUInt32LE(117853008,0),u.writeUInt32LE(0,4),x(u,e.outputStreamCursor,8),u.writeUInt32LE(1,16),Buffer.concat([c,u,a])}(e)),e.outputStream.end(),e.allDone=!0)}}l.prototype.end=function(e,t){if("function"==typeof e&&(t=e,e=null),null==e&&(e={}),!this.ended){if(this.ended=!0,this.finalSizeCallback=t,this.forceZip64Eocd=!!e.forceZip64Format,e.comment){if("string"==typeof e.comment?this.comment=function(e){if(/^[\x20-\x7e]*$/.test(e))return L(e,"utf-8");if(null==N){N={};for(var t=0;t<I.length;t++)N[I[t]]=t}var n=F(e.length);for(t=0;t<e.length;t++){var r=N[e[t]];if(null==r)throw new Error("character not encodable in CP437: "+JSON.stringify(e[t]));n[t]=r}return n}(e.comment):this.comment=e.comment,this.comment.length>65535)throw new Error("comment is too large");if(M(this.comment,d))throw new Error("comment contains end of central directory record signature")}else this.comment=b;p(this)}};var m=56,g=20,y=22;function v(e,t){if(""===e)throw new Error("empty metadataPath");if(e=e.replace(/\\/g,"/"),/^[a-zA-Z]:/.test(e)||/^\//.test(e))throw new Error("absolute path: "+e);if(-1!==e.split("/").indexOf(".."))throw new Error("invalid relative path: "+e);var n=/\/$/.test(e);if(t)n||(e+="/");else if(n)throw new Error("file path cannot end with '/': "+e);return e}var b=F(0);function w(e,t,n){if(this.utf8FileName=L(e),this.utf8FileName.length>65535)throw new Error("utf8 file name too long. "+utf8FileName.length+" > 65535");if(this.isDirectory=t,this.state=w.WAITING_FOR_METADATA,this.setLastModDate(null!=n.mtime?n.mtime:new Date),null!=n.mode?this.setFileAttributesMode(n.mode):this.setFileAttributesMode(t?16893:33204),t?(this.crcAndFileSizeKnown=!0,this.crc32=0,this.uncompressedSize=0,this.compressedSize=0):(this.crcAndFileSizeKnown=!1,this.crc32=null,this.uncompressedSize=null,this.compressedSize=null,null!=n.size&&(this.uncompressedSize=n.size)),t?this.compress=!1:(this.compress=!0,null!=n.compress&&(this.compress=!!n.compress)),this.forceZip64Format=!!n.forceZip64Format,n.fileComment){if("string"==typeof n.fileComment?this.fileComment=L(n.fileComment,"utf-8"):this.fileComment=n.fileComment,this.fileComment.length>65535)throw new Error("fileComment is too large")}else this.fileComment=b}w.WAITING_FOR_METADATA=0,w.READY_TO_PUMP_FILE_DATA=1,w.FILE_DATA_IN_PROGRESS=2,w.FILE_DATA_DONE=3,w.prototype.setLastModDate=function(e){var t=D(e);this.lastModFileTime=t.time,this.lastModFileDate=t.date},w.prototype.setFileAttributesMode=function(e){if((65535&e)!==e)throw new Error("invalid mode. expected: 0 <= "+e+" <= 65535");this.externalFileAttributes=e<<16>>>0},w.prototype.setFileDataPumpFunction=function(e){this.doFileDataPump=e,this.state=w.READY_TO_PUMP_FILE_DATA},w.prototype.useZip64Format=function(){return this.forceZip64Format||null!=this.uncompressedSize&&this.uncompressedSize>4294967294||null!=this.compressedSize&&this.compressedSize>4294967294||null!=this.relativeOffsetOfLocalHeader&&this.relativeOffsetOfLocalHeader>4294967294};var _=30,S=45,C=831;w.prototype.getLocalFileHeader=function(){var e=0,t=0,n=0;this.crcAndFileSizeKnown&&(e=this.crc32,t=this.compressedSize,n=this.uncompressedSize);var r=F(_),i=2048;return this.crcAndFileSizeKnown||(i|=8),r.writeUInt32LE(67324752,0),r.writeUInt16LE(20,4),r.writeUInt16LE(i,6),r.writeUInt16LE(this.getCompressionMethod(),8),r.writeUInt16LE(this.lastModFileTime,10),r.writeUInt16LE(this.lastModFileDate,12),r.writeUInt32LE(e,14),r.writeUInt32LE(t,18),r.writeUInt32LE(n,22),r.writeUInt16LE(this.utf8FileName.length,26),r.writeUInt16LE(0,28),Buffer.concat([r,this.utf8FileName])};var R=16,T=24;w.prototype.getDataDescriptor=function(){return this.crcAndFileSizeKnown?b:this.useZip64Format()?((e=F(T)).writeUInt32LE(134695760,0),e.writeUInt32LE(this.crc32,4),x(e,this.compressedSize,8),x(e,this.uncompressedSize,16),e):((e=F(R)).writeUInt32LE(134695760,0),e.writeUInt32LE(this.crc32,4),e.writeUInt32LE(this.compressedSize,8),e.writeUInt32LE(this.uncompressedSize,12),e);var e};var E=46,k=28;function D(e){var t=0;t|=31&e.getDate(),t|=(e.getMonth()+1&15)<<5,t|=(e.getFullYear()-1980&127)<<9;var n=0;return n|=Math.floor(e.getSeconds()/2),n|=(63&e.getMinutes())<<5,{date:t,time:n|=(31&e.getHours())<<11}}function x(e,t,n){var r=Math.floor(t/4294967296),i=t%4294967296;e.writeUInt32LE(i,n),e.writeUInt32LE(r,n+4)}function O(e){i.call(this,e),this.byteCount=0}function P(e){i.call(this,e),this.crc32=0}w.prototype.getCentralDirectoryRecord=function(){var e=F(E),t=2048;this.crcAndFileSizeKnown||(t|=8);var n,r,i=this.compressedSize,o=this.uncompressedSize,s=this.relativeOffsetOfLocalHeader;return this.useZip64Format()?(i=4294967295,o=4294967295,s=4294967295,n=S,(r=F(k)).writeUInt16LE(1,0),r.writeUInt16LE(k-4,2),x(r,this.uncompressedSize,4),x(r,this.compressedSize,12),x(r,this.relativeOffsetOfLocalHeader,20)):(n=20,r=b),e.writeUInt32LE(33639248,0),e.writeUInt16LE(C,4),e.writeUInt16LE(n,6),e.writeUInt16LE(t,8),e.writeUInt16LE(this.getCompressionMethod(),10),e.writeUInt16LE(this.lastModFileTime,12),e.writeUInt16LE(this.lastModFileDate,14),e.writeUInt32LE(this.crc32,16),e.writeUInt32LE(i,20),e.writeUInt32LE(o,24),e.writeUInt16LE(this.utf8FileName.length,28),e.writeUInt16LE(r.length,30),e.writeUInt16LE(this.fileComment.length,32),e.writeUInt16LE(0,34),e.writeUInt16LE(0,36),e.writeUInt32LE(this.externalFileAttributes,38),e.writeUInt32LE(s,42),Buffer.concat([e,this.utf8FileName,r,this.fileComment])},w.prototype.getCompressionMethod=function(){return this.compress?8:0},a.inherits(O,i),O.prototype._transform=function(e,t,n){this.byteCount+=e.length,n(null,e)},a.inherits(P,i),P.prototype._transform=function(e,t,n){this.crc32=u.unsigned(e,this.crc32),n(null,e)};var I="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ";if(256!==I.length)throw new Error("assertion failure");var N=null;function F(e){F=function(e){return Buffer.allocUnsafe(e)};try{return F(e)}catch(t){return F=function(e){return new Buffer(e)},F(e)}}function L(e,t){L=function(e,t){return Buffer.from(e,t)};try{return L(e,t)}catch(n){return L=function(e,t){return new Buffer(e,t)},L(e,t)}}function M(e,t){M=function(e,t){return e.includes(t)};try{return M(e,t)}catch(n){return M=function(e,t){for(var n=0;n<=e.length-t.length;n++)for(var r=0;;r++){if(r===t.length)return!0;if(e[n+r]!==t[r])break}return!1},M(e,t)}}},9496:e=>{"use strict";e.exports=require("vscode")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8252:(e,t,n)=>{"use strict";const{promisify:r}=n(3837),i=(e,t,n)=>{e.on(t,((...e)=>{n[t].push(e)}))};e.exports=r(((e,t,n)=>{const r={};e.once("error",n);for(const n of t)r[n]=[],i(e,n,r);e.once("end",(()=>{n(null,r)}))}))},2282:(e,t,n)=>{"use strict";const r=n(7147),i=n(1017),{stat:o,unlink:s}=r.promises,{EventEmitter:a}=n(2361),{inherits:c,promisify:u}=n(3837),l=n(9491),d=n(4397),h=n(8369),f=n(1890),p=n(2958),m=n(7766),g=n(778);function y(e,t,n){l("string"==typeof e,"from should be a string!"),l(/string|object/.test(typeof t),"to should be string or object!"),arguments.length>2&&l(Array.isArray(n),"files should be an array!")}function v(e){return function(e){if(!/^(pack|extract)$/.test(e))throw Error('operations could be "pack" or "extract" only!')}(e),(t,n,r)=>new b(e,t,n,r)}function b(e,t,n,r){"extract"===e?y(t,n):y(t,n,r),process.nextTick((async()=>{if(a.call(this),this._i=0,this._n=0,this._percent=0,this._percentPrev=0,this._names=[],"pack"===e)return this._from=w(t),this._to=n,r.length?(await this._parallel(t,r),this._abort?this.emit("end"):void this._pack()):this.emit("error",Error("Nothing to pack!"));this._from=t,this._to=w(n);const[i]=await h(this._parse.bind(this),t);if(i)return this.emit("error",i);this._extract(t)}))}function w(e){return e[e.length-1]===i.sep?e:e+i.sep}c(b,a),e.exports=v,e.exports.pack=v("pack"),e.exports.extract=v("extract"),b.prototype.abort=function(){this._abort=!0},b.prototype._parallel=async function(e,t){const n=[];for(const r of t){const t=i.join(e,r);n.push(this._findFiles(t))}const r=Promise.all.bind(Promise,n),[o]=await h(r);o&&(this.emit("error",o),this.abort())},b.prototype._findFiles=async function(e){const{names:t}=await g(e);this._n=t.length,this._names=t},b.prototype._pack=async function(){this.emit("start");const{_to:e,_from:t,_names:n}=this,i=new p.ZipFile,s=e=>{this.emit("file",e),this._progress()};for(const e of n){const n=e.replace(t,""),[r,a]=await h(o,e);if(r)return this.emit("error",r);if(a.isDirectory()){i.addEmptyDirectory(n),s(e);continue}const c=this._createReadStream(e,(()=>{s(e)}));i.addReadStream(c,n)}i.end();const a="object"==typeof e?e:r.createWriteStream(e),[c]=await h(d,[i.outputStream,a]);return c?this.emit("error",c):this._abort?void await this._unlink(e):this.emit("end")},b.prototype._createReadStream=function(e,t){return r.createReadStream(e).on("error",(e=>{this.emit("error",e)})).on("end",t)},b.prototype._onOpenReadStream=function(e){return(t,n={})=>{if(t)return this.emit("error",t);e(n)}},b.prototype._unlink=async function(e){const[t]=await h(s,e);if(t)return this.emit("error",t);this.emit("end")},b.prototype._parse=u((function(e,t){m.open(e,((e,n)=>{if(e)return t(e);n.on("entry",(()=>{++this._n})),n.once("end",t)}))})),b.prototype._extract=function(e){this.emit("start");m.open(e,{lazyEntries:!0,autoClose:!0},((e,t)=>{const n=e=>{this.emit("error",e)};if(e)return n(e);t.readEntry(),t.on("entry",(async e=>{const{fileName:r}=e,o=e=>{if(e)return n(e);this._progress(),this.emit("file",r),t.readEntry()},s=i.join(this._to,r);if(/\/$/.test(r)){const[e]=await h(f,s);return o(e)}t.openReadStream(e,this._onOpenReadStream((async e=>{const[t]=await h(this._writeFile,s,e);o(t)})))})),t.once("end",(()=>{this.emit("end")}))}))},b.prototype._writeFile=async(e,t)=>{const n=r.createWriteStream(e);await d([t,n])},b.prototype._progress=function(){++this._i;const e=Math.round(100*this._i/this._n);this._percent=e,e!==this._percentPrev&&(this._percentPrev=e,this.emit("progress",e))}},778:(e,t,n)=>{"use strict";const r=n(5175),i=n(8252),o=([e])=>e;e.exports=async e=>{const t=r(e),{file:n,directory:s,link:a}=await i(t,["file","directory","link"]),c=[...n.map(o),...s.map(o),...a.map(o)];return{file:n,directory:s,link:a,names:c}}},8369:e=>{"use strict";e.exports=async(e,...t)=>{!function(e){if("function"!=typeof e)throw Error("fn should be a function!")}(e);try{return[null,await e(...t)]}catch(e){return[e]}}},3731:(e,t,n)=>{"use strict";function r(e,t){const n=c(e),r=c(t),i=n.pop(),o=r.pop(),s=h(n,r);return 0!==s?s:i&&o?h(i.split("."),o.split(".")):i||o?i?-1:1:0}n.r(t),n.d(t,{compare:()=>o,default:()=>r,satisfies:()=>s,validate:()=>i});const i=e=>"string"==typeof e&&/^[v\d]/.test(e)&&a.test(e),o=(e,t,n)=>{m(n);const i=r(e,t);return f[n].includes(i)},s=(e,t)=>{const n=t.match(/^([<>=~^]+)/),r=n?n[1]:"=";if("^"!==r&&"~"!==r)return o(e,t,r);const[i,s,a]=c(e),[u,l,f]=c(t);return 0===d(i,u)&&("^"===r?h([s,a],[l,f])>=0:0===d(s,l)&&d(a,f)>=0)};r.validate=i,r.compare=o,r.sastisfies=s;const a=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,c=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");const t=e.match(a);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},u=e=>"*"===e||"x"===e||"X"===e,l=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},d=(e,t)=>{if(u(e)||u(t))return 0;const[n,r]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(l(e),l(t));return n>r?1:n<r?-1:0},h=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const r=d(e[n]||0,t[n]||0);if(0!==r)return r}return 0},f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},p=Object.keys(f),m=e=>{if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===p.indexOf(e))throw new Error(`Invalid operator, expected one of ${p.join("|")}`)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(112);module.exports=r})();
//# sourceMappingURL=extension.js.map